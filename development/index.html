

<!DOCTYPE html>

<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=Edge">

  <link rel="stylesheet" href="/hf-internal-interface-wrap/development/assets/css/just-the-docs-default.css">

  <link rel="stylesheet" href="/hf-internal-interface-wrap/development/assets/css/just-the-docs-head-nav.css" id="jtd-head-nav-stylesheet">

  <style id="jtd-nav-activation">
  

    
    .site-nav > ul.nav-list:first-child > li:not(:nth-child(1)) > a,
    .site-nav > ul.nav-list:first-child > li > ul > li a {
      background-image: none;
    }

    .site-nav > ul.nav-list:not(:first-child) a,
    .site-nav li.external a {
      background-image: none;
    }

    .site-nav > ul.nav-list:first-child > li:nth-child(1) > a {
      font-weight: 600;
      text-decoration: none;
    }.site-nav > ul.nav-list:first-child > li:nth-child(1) > button svg {
      transform: rotate(-90deg);
    }.site-nav > ul.nav-list:first-child > li.nav-list-item:nth-child(1) > ul.nav-list {
      display: block;
    }
  </style>

  

  
    <script src="/hf-internal-interface-wrap/development/assets/js/vendor/lunr.min.js"></script>
  

  <script src="/hf-internal-interface-wrap/development/assets/js/just-the-docs.js"></script>

  <meta name="viewport" content="width=device-width, initial-scale=1">

  



  <!-- Begin Jekyll SEO tag v2.8.0 -->
<title>ğŸ”§ HardFOC Internal Interface Layer | HardFOC Interface Wrapper - development</title>
<meta name="generator" content="Jekyll v3.10.0" />
<meta property="og:title" content="ğŸ”§ HardFOC Internal Interface Layer" />
<meta name="author" content="N3b3x" />
<meta property="og:locale" content="en" />
<meta name="description" content="Multi-MCU Peripheral Interface - Universal hardware abstraction layer enabling seamless MCU portability through unified peripheral APIs" />
<meta property="og:description" content="Multi-MCU Peripheral Interface - Universal hardware abstraction layer enabling seamless MCU portability through unified peripheral APIs" />
<link rel="canonical" href="https://n3b3x.github.io/hf-internal-interface-wrap/development/" />
<meta property="og:url" content="https://n3b3x.github.io/hf-internal-interface-wrap/development/" />
<meta property="og:site_name" content="HardFOC Interface Wrapper - development" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="ğŸ”§ HardFOC Internal Interface Layer" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"WebSite","author":{"@type":"Person","name":"N3b3x","url":"https://github.com/n3b3x"},"description":"Multi-MCU Peripheral Interface - Universal hardware abstraction layer enabling seamless MCU portability through unified peripheral APIs","headline":"ğŸ”§ HardFOC Internal Interface Layer","name":"HardFOC Interface Wrapper","sameAs":["https://github.com/n3b3x/hf-internal-interface-wrap","https://github.com/n3b3x"],"url":"https://n3b3x.github.io/hf-internal-interface-wrap/development/"}</script>
<!-- End Jekyll SEO tag -->


  <!-- Custom head content for hf-internal-interface-wrap documentation -->
<link rel="stylesheet" href="/hf-internal-interface-wrap/development/assets/css/custom.css">
<script src="/hf-internal-interface-wrap/development/assets/js/custom.js" defer></script>

<!-- Version selector for multi-version documentation -->
<!-- Version Selector Component for Multi-Version Documentation -->
<div class="version-selector">
  <div class="version-dropdown">
    <label for="version-select" class="version-label">
      <span class="version-icon">ğŸ“š</span>
      Version:
    </label>
    <select id="version-select" class="version-select" onchange="switchVersion(this.value)">
      <option value="latest" data-url="/hf-internal-interface-wrap/">Development (main)</option>
      <option value="v2.1.0" data-url="/hf-internal-interface-wrap/v2.1.0/">v2.1.0 (Latest Stable)</option>
      <option value="v2.0.3" data-url="/hf-internal-interface-wrap/v2.0.3/">v2.0.3 (Previous Stable)</option>
      <option value="v2.1.0-rc1" data-url="/hf-internal-interface-wrap/v2.1.0-rc1/">v2.1.0-rc1 (Release Candidate)</option>
      <option value="v1.0.0" data-url="/hf-internal-interface-wrap/v1.0.0/">v1.0.0 (Legacy)</option>
    </select>
  </div>
  
  <div class="version-info">
    <span class="current-version" id="current-version">Latest (main)</span>
    <span class="version-badge" id="version-badge">dev</span>
  </div>
</div>

<script>
// Version switching logic
function switchVersion(version) {
  const select = document.getElementById('version-select');
  const selectedOption = select.options[select.selectedIndex];
  const targetUrl = selectedOption.getAttribute('data-url');
  
  if (targetUrl) {
    // Update current page URL to new version
    const currentPath = window.location.pathname;
    const baseUrl = window.location.origin;
    
    // Extract the path after the version prefix
    let newPath = currentPath;
    if (currentPath.includes('/hf-internal-interface-wrap/')) {
      const pathParts = currentPath.split('/hf-internal-interface-wrap/');
      if (pathParts.length > 1) {
        newPath = pathParts[1];
      }
    }
    
    // Construct new URL
    const newUrl = baseUrl + targetUrl + newPath;
    window.location.href = newUrl;
  }
}

// Set current version based on URL
document.addEventListener('DOMContentLoaded', function() {
  const currentPath = window.location.pathname;
  const versionSelect = document.getElementById('version-select');
  const currentVersionSpan = document.getElementById('current-version');
  const versionBadge = document.getElementById('version-badge');
  
  // Determine current version from URL
  let currentVersion = 'latest';
  let versionType = 'dev';
  
  if (currentPath.includes('/stable/')) {
    currentVersion = 'stable';
    versionType = 'stable';
  } else if (currentPath.includes('/v1.0.0/')) {
    currentVersion = 'v1.0.0';
    versionType = 'release';
  } else if (currentPath.includes('/v0.9.0/')) {
    currentVersion = 'v0.9.0';
    versionType = 'release';
  } else if (currentPath.includes('/v0.8.0/')) {
    currentVersion = 'v0.8.0';
    versionType = 'release';
  }
  
  // Update UI
  versionSelect.value = currentVersion;
  currentVersionSpan.textContent = currentVersion === 'latest' ? 'Latest (main)' : 
                                  currentVersion === 'stable' ? 'Stable (latest release)' : 
                                  currentVersion;
  
  // Update badge
  versionBadge.textContent = versionType;
  versionBadge.className = 'version-badge ' + versionType;
});
</script>

<style>
.version-selector {
  display: flex;
  align-items: center;
  gap: 1rem;
  padding: 0.75rem 1rem;
  background: var(--nav-child-link-bg);
  border: 1px solid var(--border-color);
  border-radius: 6px;
  margin: 1rem 0;
  font-size: 0.9rem;
}

.version-dropdown {
  display: flex;
  align-items: center;
  gap: 0.5rem;
}

.version-label {
  display: flex;
  align-items: center;
  gap: 0.25rem;
  font-weight: 500;
  color: var(--body-text-color);
}

.version-icon {
  font-size: 1rem;
}

.version-select {
  padding: 0.25rem 0.5rem;
  border: 1px solid var(--border-color);
  border-radius: 4px;
  background: var(--body-bg);
  color: var(--body-text-color);
  font-size: 0.9rem;
  min-width: 150px;
}

.version-select:focus {
  outline: 2px solid var(--link-color);
  outline-offset: 2px;
}

.version-info {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  margin-left: auto;
}

.current-version {
  font-weight: 500;
  color: var(--body-text-color);
}

.version-badge {
  padding: 0.125rem 0.5rem;
  border-radius: 12px;
  font-size: 0.75rem;
  font-weight: 500;
  text-transform: uppercase;
}

.version-badge.dev {
  background: #e3f2fd;
  color: #1976d2;
  border: 1px solid #bbdefb;
}

.version-badge.stable {
  background: #e8f5e8;
  color: #2e7d32;
  border: 1px solid #c8e6c9;
}

.version-badge.release {
  background: #fff3e0;
  color: #f57c00;
  border: 1px solid #ffcc02;
}

@media (max-width: 768px) {
  .version-selector {
    flex-direction: column;
    align-items: stretch;
    gap: 0.5rem;
  }
  
  .version-info {
    margin-left: 0;
    justify-content: center;
  }
}
</style>


<!-- Version information display -->
<!-- Version Information Display Component -->
<div class="version-info-display">
  <div class="version-details">
    <span class="version-label">Version:</span>
    <span class="version-value">1.0.0-dev</span>
    <span class="version-badge version-development">development</span>
  </div>
  
  <div class="version-meta">
    <span class="branch-info">
      <span class="branch-icon">ğŸŒ¿</span>
      <span class="branch-name">main</span>
    </span>
    
    <span class="build-info">
      <span class="build-icon">ğŸ”¨</span>
      <span class="build-date">2025-11-12</span>
    </span>
  </div>
</div>

<style>
.version-info-display {
  background: var(--nav-child-link-bg);
  border: 1px solid var(--border-color);
  border-radius: 8px;
  padding: 1rem;
  margin: 1rem 0;
  font-size: 0.9rem;
  display: flex;
  justify-content: space-between;
  align-items: center;
  flex-wrap: wrap;
  gap: 0.5rem;
}

.version-details {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  flex-wrap: wrap;
}

.version-label {
  font-weight: 500;
  color: var(--body-text-color);
}

.version-value {
  font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace;
  font-weight: 600;
  color: var(--link-color);
  background: var(--code-bg);
  padding: 0.125rem 0.5rem;
  border-radius: 4px;
  border: 1px solid var(--border-color);
}

.version-badge {
  padding: 0.125rem 0.5rem;
  border-radius: 12px;
  font-size: 0.75rem;
  font-weight: 500;
  text-transform: uppercase;
  letter-spacing: 0.5px;
}

.version-badge.development {
  background: #e3f2fd;
  color: #1976d2;
  border: 1px solid #bbdefb;
}

.version-badge.stable {
  background: #e8f5e8;
  color: #2e7d32;
  border: 1px solid #c8e6c9;
}

.version-badge.release {
  background: #fff3e0;
  color: #f57c00;
  border: 1px solid #ffcc02;
}

.version-meta {
  display: flex;
  align-items: center;
  gap: 1rem;
  flex-wrap: wrap;
}

.branch-info,
.build-info {
  display: flex;
  align-items: center;
  gap: 0.25rem;
  color: var(--body-text-color);
  font-size: 0.85rem;
}

.branch-icon,
.build-icon {
  font-size: 0.9rem;
}

.branch-name {
  font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace;
  font-weight: 500;
}

.build-date {
  font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace;
  font-weight: 500;
}

@media (max-width: 768px) {
  .version-info-display {
    flex-direction: column;
    align-items: stretch;
    text-align: center;
  }
  
  .version-details,
  .version-meta {
    justify-content: center;
  }
  
  .version-meta {
    margin-top: 0.5rem;
    padding-top: 0.5rem;
    border-top: 1px solid var(--border-color);
  }
}
</style>



</head>

<body>
  <a class="skip-to-main" href="#main-content">Skip to main content</a>
  <svg xmlns="http://www.w3.org/2000/svg" class="d-none">
  <symbol id="svg-link" viewBox="0 0 24 24">
  <title>Link</title>
  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link">
    <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path>
  </svg>
</symbol>

  <symbol id="svg-menu" viewBox="0 0 24 24">
  <title>Menu</title>
  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu">
    <line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line>
  </svg>
</symbol>

  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
  <title>Expand</title>
  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right">
    <polyline points="9 18 15 12 9 6"></polyline>
  </svg>
</symbol>

  <!-- Feather. MIT License: https://github.com/feathericons/feather/blob/master/LICENSE -->
<symbol id="svg-external-link" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-external-link">
  <title id="svg-external-link-title">(external link)</title>
  <path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line>
</symbol>

  
    <symbol id="svg-doc" viewBox="0 0 24 24">
  <title>Document</title>
  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file">
    <path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline>
  </svg>
</symbol>

    <symbol id="svg-search" viewBox="0 0 24 24">
  <title>Search</title>
  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search">
    <circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line>
  </svg>
</symbol>

  
  
    <!-- Bootstrap Icons. MIT License: https://github.com/twbs/icons/blob/main/LICENSE.md -->
<symbol id="svg-copy" viewBox="0 0 16 16">
  <title>Copy</title>
  <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-clipboard" viewBox="0 0 16 16">
    <path d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1h1a1 1 0 0 1 1 1V14a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3.5a1 1 0 0 1 1-1h1v-1z"/>
    <path d="M9.5 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3zm-3-1A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3z"/>
  </svg>
</symbol>
<symbol id="svg-copied" viewBox="0 0 16 16">
  <title>Copied</title>
  <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-clipboard-check-fill" viewBox="0 0 16 16">
    <path d="M6.5 0A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3Zm3 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3Z"/>
    <path d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1A2.5 2.5 0 0 1 9.5 5h-3A2.5 2.5 0 0 1 4 2.5v-1Zm6.854 7.354-3 3a.5.5 0 0 1-.708 0l-1.5-1.5a.5.5 0 0 1 .708-.708L7.5 10.793l2.646-2.647a.5.5 0 0 1 .708.708Z"/>
  </svg>
</symbol>

  
</svg>

  
    <div class="side-bar">
  <div class="site-header" role="banner">
    <a href="/hf-internal-interface-wrap/development/" class="site-title lh-tight">
  HardFOC Interface Wrapper - development

</a>
    <button id="menu-button" class="site-button btn-reset" aria-label="Toggle menu" aria-pressed="false">
      <svg viewBox="0 0 24 24" class="icon" aria-hidden="true"><use xlink:href="#svg-menu"></use></svg>
    </button>
  </div>

  <nav aria-label="Main" id="site-nav" class="site-nav">
  
  
    <ul class="nav-list"><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in ğŸ”§ HardFOC Internal Interface Layer category" aria-pressed="false">
        <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg>
      </button><a href="/hf-internal-interface-wrap/development/" class="nav-list-link">ğŸ”§ HardFOC Internal Interface Layer</a><ul class="nav-list"><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in ğŸ“š Documentation category" aria-pressed="false">
        <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg>
      </button><a href="/hf-internal-interface-wrap/development/docs/" class="nav-list-link">ğŸ“š Documentation</a><ul class="nav-list"><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in ğŸ“‹ API Reference category" aria-pressed="false">
        <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg>
      </button><a href="/hf-internal-interface-wrap/development/docs/api/" class="nav-list-link">ğŸ“‹ API Reference</a><ul class="nav-list"><li class="nav-list-item"><a href="/hf-internal-interface-wrap/development/docs/api/BaseGpio/" class="nav-list-link">ğŸ”Œ BaseGpio</a></li><li class="nav-list-item"><a href="/hf-internal-interface-wrap/development/docs/api/BaseAdc/" class="nav-list-link">ğŸ“Š BaseAdc</a></li><li class="nav-list-item"><a href="/hf-internal-interface-wrap/development/docs/api/BasePwm/" class="nav-list-link">ğŸ›ï¸ BasePwm</a></li><li class="nav-list-item"><a href="/hf-internal-interface-wrap/development/docs/api/BaseI2c/" class="nav-list-link">ğŸ”— BaseI2c</a></li><li class="nav-list-item"><a href="/hf-internal-interface-wrap/development/docs/api/BaseSpi/" class="nav-list-link">ğŸ”„ BaseSpi</a></li><li class="nav-list-item"><a href="/hf-internal-interface-wrap/development/docs/api/BaseUart/" class="nav-list-link">ğŸ“¡ BaseUart</a></li><li class="nav-list-item"><a href="/hf-internal-interface-wrap/development/docs/api/BaseCan/" class="nav-list-link">ğŸšŒ BaseCan</a></li><li class="nav-list-item"><a href="/hf-internal-interface-wrap/development/docs/api/BaseWifi/" class="nav-list-link">ğŸ“¶ BaseWifi</a></li><li class="nav-list-item"><a href="/hf-internal-interface-wrap/development/docs/api/BaseBluetooth/" class="nav-list-link">ğŸ“² BaseBluetooth</a></li><li class="nav-list-item"><a href="/hf-internal-interface-wrap/development/docs/api/BaseNvs/" class="nav-list-link">ğŸ’¾ BaseNvs</a></li><li class="nav-list-item"><a href="/hf-internal-interface-wrap/development/docs/api/BaseLogger/" class="nav-list-link">ğŸ“ BaseLogger</a></li><li class="nav-list-item"><a href="/hf-internal-interface-wrap/development/docs/api/BasePeriodicTimer/" class="nav-list-link">â° BasePeriodicTimer</a></li><li class="nav-list-item"><a href="/hf-internal-interface-wrap/development/docs/api/BasePio/" class="nav-list-link">ğŸ›ï¸ BasePio</a></li><li class="nav-list-item"><a href="/hf-internal-interface-wrap/development/docs/api/BaseTemperature/" class="nav-list-link">ğŸŒ¡ï¸ BaseTemperature</a></li><li class="nav-list-item"><a href="/hf-internal-interface-wrap/development/docs/api/HardwareTypes/" class="nav-list-link">ğŸ”§ HardwareTypes</a></li></ul></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in ğŸ› ï¸ Utilities category" aria-pressed="false">
        <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg>
      </button><a href="/hf-internal-interface-wrap/development/docs/utils/" class="nav-list-link">ğŸ› ï¸ Utilities</a><ul class="nav-list"><li class="nav-list-item"><a href="/hf-internal-interface-wrap/development/docs/utils/DigitalOutputGuard/" class="nav-list-link">ğŸ›¡ï¸ DigitalOutputGuard</a></li><li class="nav-list-item"><a href="/hf-internal-interface-wrap/development/docs/utils/AsciiArtGenerator/" class="nav-list-link">ğŸ¨ AsciiArtGenerator</a></li></ul></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in ğŸ”§ ESP32 Implementations category" aria-pressed="false">
        <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg>
      </button><a href="/hf-internal-interface-wrap/development/docs/esp_api/" class="nav-list-link">ğŸ”§ ESP32 Implementations</a><ul class="nav-list"><li class="nav-list-item"><a href="/hf-internal-interface-wrap/development/docs/esp_api/EspGpio/" class="nav-list-link">ğŸ”Œ EspGpio</a></li><li class="nav-list-item"><a href="/hf-internal-interface-wrap/development/docs/esp_api/EspAdc/" class="nav-list-link">ğŸ“Š EspAdc</a></li><li class="nav-list-item"><a href="/hf-internal-interface-wrap/development/docs/esp_api/EspPwm/" class="nav-list-link">ğŸ›ï¸ EspPwm</a></li><li class="nav-list-item"><a href="/hf-internal-interface-wrap/development/docs/esp_api/EspI2c/" class="nav-list-link">ğŸ”— EspI2c</a></li><li class="nav-list-item"><a href="/hf-internal-interface-wrap/development/docs/esp_api/EspSpi/" class="nav-list-link">ğŸ”„ EspSpi</a></li><li class="nav-list-item"><a href="/hf-internal-interface-wrap/development/docs/esp_api/EspUart/" class="nav-list-link">ğŸ“¡ EspUart</a></li><li class="nav-list-item"><a href="/hf-internal-interface-wrap/development/docs/esp_api/EspCan/" class="nav-list-link">ğŸšŒ EspCan</a></li><li class="nav-list-item"><a href="/hf-internal-interface-wrap/development/docs/esp_api/EspWifi/" class="nav-list-link">ğŸ“¶ EspWifi</a></li><li class="nav-list-item"><a href="/hf-internal-interface-wrap/development/docs/esp_api/EspBluetooth/" class="nav-list-link">ğŸ“² EspBluetooth</a></li><li class="nav-list-item"><a href="/hf-internal-interface-wrap/development/docs/esp_api/EspNvs/" class="nav-list-link">ğŸ’¾ EspNvs</a></li><li class="nav-list-item"><a href="/hf-internal-interface-wrap/development/docs/esp_api/EspLogger/" class="nav-list-link">ğŸ“ EspLogger</a></li><li class="nav-list-item"><a href="/hf-internal-interface-wrap/development/docs/esp_api/EspPeriodicTimer/" class="nav-list-link">â° EspPeriodicTimer</a></li><li class="nav-list-item"><a href="/hf-internal-interface-wrap/development/docs/esp_api/EspPio/" class="nav-list-link">ğŸ›ï¸ EspPio</a></li><li class="nav-list-item"><a href="/hf-internal-interface-wrap/development/docs/esp_api/EspTemperature/" class="nav-list-link">ğŸŒ¡ï¸ EspTemperature</a></li></ul></li></ul></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in ğŸš€ ESP32 Examples category" aria-pressed="false">
        <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg>
      </button><a href="/hf-internal-interface-wrap/development/examples/esp32/" class="nav-list-link">ğŸš€ ESP32 Examples</a><ul class="nav-list"><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in ğŸ§ª Test Documentation category" aria-pressed="false">
        <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg>
      </button><a href="/hf-internal-interface-wrap/development/examples/esp32/docs/" class="nav-list-link">ğŸ§ª Test Documentation</a><ul class="nav-list"><li class="nav-list-item"><a href="/hf-internal-interface-wrap/development/examples/esp32/docs/gpio_test/" class="nav-list-link">ğŸ§ª GPIO Test</a></li><li class="nav-list-item"><a href="/hf-internal-interface-wrap/development/examples/esp32/docs/adc_test/" class="nav-list-link">ğŸ§ª ADC Test</a></li><li class="nav-list-item"><a href="/hf-internal-interface-wrap/development/examples/esp32/docs/pwm_test/" class="nav-list-link">ğŸ§ª PWM Test</a></li><li class="nav-list-item"><a href="/hf-internal-interface-wrap/development/examples/esp32/docs/pio_test/" class="nav-list-link">ğŸ§ª PIO Test</a></li><li class="nav-list-item"><a href="/hf-internal-interface-wrap/development/examples/esp32/docs/uart_test/" class="nav-list-link">ğŸ§ª UART Test</a></li><li class="nav-list-item"><a href="/hf-internal-interface-wrap/development/examples/esp32/docs/spi_test/" class="nav-list-link">ğŸ§ª SPI Test</a></li><li class="nav-list-item"><a href="/hf-internal-interface-wrap/development/examples/esp32/docs/i2c_test/" class="nav-list-link">ğŸ§ª I2C Test</a></li><li class="nav-list-item"><a href="/hf-internal-interface-wrap/development/examples/esp32/docs/can_test/" class="nav-list-link">ğŸ§ª CAN Test</a></li><li class="nav-list-item"><a href="/hf-internal-interface-wrap/development/examples/esp32/docs/wifi_test/" class="nav-list-link">ğŸ§ª WiFi Test</a></li><li class="nav-list-item"><a href="/hf-internal-interface-wrap/development/examples/esp32/docs/nvs_test/" class="nav-list-link">ğŸ§ª NVS Test</a></li><li class="nav-list-item"><a href="/hf-internal-interface-wrap/development/examples/esp32/docs/temperature_test/" class="nav-list-link">ğŸ§ª Temperature Test</a></li><li class="nav-list-item"><a href="/hf-internal-interface-wrap/development/examples/esp32/docs/logger_test/" class="nav-list-link">ğŸ§ª Logger Test</a></li><li class="nav-list-item"><a href="/hf-internal-interface-wrap/development/examples/esp32/docs/ascii_art_test/" class="nav-list-link">ğŸ§ª ASCII Art Test</a></li><li class="nav-list-item"><a href="/hf-internal-interface-wrap/development/examples/esp32/docs/dog_test/" class="nav-list-link">ğŸ§ª DOG Test</a></li></ul></li></ul></li><li class="nav-list-item"><a href="/hf-internal-interface-wrap/development/CONTRIBUTING/" class="nav-list-link">ğŸ¤ Contributing</a></li></ul></li><li class="nav-list-item"><a href="/hf-internal-interface-wrap/development/features/" class="nav-list-link">ğŸš€ Features</a></li><li class="nav-list-item"><a href="/hf-internal-interface-wrap/development/docs/doxygen-extensions.html" class="nav-list-link">ğŸ“– Doxygen Extensions</a></li></ul>
  
</nav>




  
  
    <footer class="site-nav-footer">
  <div class="nav-footer-links">
    <a href="https://github.com/n3b3x/hf-internal-interface-wrap" class="nav-footer-link" aria-label="GitHub Repository">
      <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true">
        <path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/>
      </svg>
      GitHub
    </a>
    <a href="https://github.com/n3b3x/hf-internal-interface-wrap/issues" class="nav-footer-link" aria-label="Report Issues">
      <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true">
        <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/>
      </svg>
      Issues
    </a>
  </div>
</footer>

  
</div>

  
  <div class="main" id="top">
    <div id="main-header" class="main-header">
  
    

<div class="search" role="search">
  <div class="search-input-wrap">
    <input type="text" id="search-input" class="search-input" tabindex="0" placeholder="Search workflows, examples, and guides..." aria-label="Search workflows, examples, and guides..." autocomplete="off">
    <label for="search-input" class="search-label"><svg viewBox="0 0 24 24" class="search-icon"><use xlink:href="#svg-search"></use></svg></label>
  </div>
  <div id="search-results" class="search-results"></div>
</div>

  
  
  
    <nav aria-label="Auxiliary" class="aux-nav">
  <ul class="aux-nav-list">
    
      <li class="aux-nav-list-item">
        <a href="https://github.com/n3b3x/hf-internal-interface-wrap" class="site-button"
          
        >
          ğŸ“š GitHub Repository
        </a>
      </li>
    
      <li class="aux-nav-list-item">
        <a href="https://github.com/n3b3x/hf-internal-interface-wrap/issues" class="site-button"
          
        >
          ğŸ› Report Issues
        </a>
      </li>
    
      <li class="aux-nav-list-item">
        <a href="https://github.com/n3b3x/hf-internal-interface-wrap/stargazers" class="site-button"
          
        >
          â­ Star on GitHub
        </a>
      </li>
    
  </ul>
</nav>

  
</div>

    <div class="main-content-wrap">
      
      <div id="main-content" class="main-content">
        <main>
          
            <h1 id="-hardfoc-internal-interface-layer">
  
  
    <a href="#-hardfoc-internal-interface-layer" class="anchor-heading" aria-labelledby="-hardfoc-internal-interface-layer"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> ğŸ”§ HardFOC Internal Interface Layer:
  
  
</h1>
    
<p><strong>Multi-MCU Peripherals Interface</strong></p>

<p><img src="https://img.shields.io/badge/HAL-Hardware%20Abstraction%20Layer-blue?style=for-the-badge&amp;logo=microchip" alt="HAL" />
<img src="https://img.shields.io/badge/C++-17-blue?style=for-the-badge&amp;logo=cplusplus" alt="C++17" />
<img src="https://img.shields.io/badge/Multi--MCU-Support-green?style=for-the-badge&amp;logo=espressif" alt="Multi-MCU" />
<img src="https://img.shields.io/badge/License-GPL--3.0-green?style=for-the-badge&amp;logo=opensourceinitiative" alt="License" /></p>
<h2 id="-universal-hardware-interface-for-multi-mcu-development">
  
  
    <a href="#-universal-hardware-interface-for-multi-mcu-development" class="anchor-heading" aria-labelledby="-universal-hardware-interface-for-multi-mcu-development"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> ğŸ¯ Universal Hardware Interface for Multi-MCU Development
  
  
</h2>
    

<p><em>A professional hardware abstraction layer enabling seamless MCU portability through unified
peripheral APIs - designed for the HardFOC board ecosystem</em></p><hr />
<h2 id="-table-of-contents">
  
  
    <a href="#-table-of-contents" class="anchor-heading" aria-labelledby="-table-of-contents"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> ğŸ“š <strong>Table of Contents</strong>
  
  
</h2>
    

<ul>
  <li><a href="#-overview">ğŸ¯ <strong>Overview</strong></a></li>
  <li><a href="#-architecture">ğŸ—ï¸ <strong>Architecture</strong></a></li>
  <li><a href="#-peripheral-interfaces">ğŸ”Œ <strong>Peripheral Interfaces</strong></a></li>
  <li><a href="#-mcu-support">ğŸ–¥ï¸ <strong>MCU Support</strong></a></li>
  <li><a href="#-quick-start">ğŸš€ <strong>Quick Start</strong></a></li>
  <li><a href="#-api-documentation">ğŸ“– <strong>API Documentation</strong></a></li>
  <li><a href="#-building">ğŸ”§ <strong>Building</strong></a></li>
  <li><a href="#-examples">ğŸ“Š <strong>Examples</strong></a></li>
  <li><a href="#-contributing">ğŸ¤ <strong>Contributing</strong></a></li>
  <li><a href="#-license">ğŸ“„ <strong>License</strong></a></li>
</ul><hr />
<h2 id="-overview">
  
  
    <a href="#-overview" class="anchor-heading" aria-labelledby="-overview"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> ğŸ¯ <strong>Overview</strong>
  
  
</h2>
    

<blockquote>
  <p><strong>ğŸ“– <a href="https://n3b3x.github.io/hf-internal-interface-wrap/">ğŸ“šğŸŒ Live Complete Documentation</a></strong> - 
Interactive guides, examples, and step-by-step tutorials</p>
</blockquote>

<p>This <strong>Internal Interface Wrap (IID)</strong> provides a unified interface for common MCU peripherals,
enabling seamless portability between different microcontroller platforms.
Originally designed for the <strong>HardFOC board</strong> which needs to support multiple MCU types,
this abstraction layer allows developers to write hardware-agnostic code while maintaining optimal
performance.</p>
<h3 id="-core-benefits">
  
  
    <a href="#-core-benefits" class="anchor-heading" aria-labelledby="-core-benefits"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> ğŸ† <strong>Core Benefits</strong>
  
  
</h3>
    

<ul>
  <li><strong>ğŸ”„ MCU Portability</strong> - Write once, run on multiple MCU platforms</li>
  <li><strong>ğŸ¯ Unified APIs</strong> - Consistent interface across all peripheral types</li>
  <li><strong>âš¡ Performance</strong> - Zero-cost abstractions with compile-time optimization</li>
  <li><strong>ğŸ›¡ï¸ Type Safety</strong> - Strong typing with project-specific type system</li>
  <li><strong>ğŸ“ˆ Extensible</strong> - Easy to add new MCUs and peripheral drivers</li>
  <li><strong>ğŸ”Œ Complete Coverage</strong> - 14+ peripheral interfaces for comprehensive hardware control</li>
</ul>
<h3 id="-design-philosophy">
  
  
    <a href="#-design-philosophy" class="anchor-heading" aria-labelledby="-design-philosophy"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> ğŸ¨ <strong>Design Philosophy</strong>
  
  
</h3>
    

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><div class="table-wrapper"><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
</pre></td><td class="rouge-code"><pre><span class="c1">// Write hardware-agnostic code</span>
<span class="n">BaseGpio</span><span class="o">*</span> <span class="n">led</span> <span class="o">=</span> <span class="n">GpioFactory</span><span class="o">::</span><span class="n">Create</span><span class="p">(</span><span class="n">GPIO_PIN_2</span><span class="p">,</span> <span class="n">GPIO_OUTPUT</span><span class="p">);</span>
<span class="n">led</span><span class="o">-&gt;</span><span class="n">SetHigh</span><span class="p">();</span>

<span class="c1">// Same code works on ESP32, STM32, or any supported MCU</span>
<span class="c1">// The factory handles MCU-specific implementation selection</span>
</pre></td></tr></tbody></table></div></code></pre></div></div><hr />
<h2 id="ï¸-architecture">
  
  
    <a href="#ï¸-architecture" class="anchor-heading" aria-labelledby="ï¸-architecture"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> ğŸ—ï¸ <strong>Architecture</strong>
  
  
</h2>
    
<h3 id="two-layer-design">
  
  
    <a href="#two-layer-design" class="anchor-heading" aria-labelledby="two-layer-design"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> <strong>Two-Layer Design</strong>
  
  
</h3>
    

<div class="language-text highlighter-rouge"><div class="highlight"><pre class="highlight"><code><div class="table-wrapper"><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
</pre></td><td class="rouge-code"><pre>ğŸ“¦ Hardware Abstraction Layer
â”œâ”€â”€ ğŸ¯ Base Layer (inc/base/)           # Abstract interfaces
â”‚   â”œâ”€â”€ BaseGpio.h                      # GPIO operations
â”‚   â”œâ”€â”€ BaseAdc.h                       # Analog-to-digital conversion
â”‚   â”œâ”€â”€ BasePwm.h                       # Pulse width modulation
â”‚   â”œâ”€â”€ BaseUart.h                      # Serial communication
â”‚   â”œâ”€â”€ BaseI2c.h                       # I2C bus operations
â”‚   â”œâ”€â”€ BaseSpi.h                       # SPI bus operations
â”‚   â”œâ”€â”€ BaseCan.h                       # CAN bus communication
â”‚   â”œâ”€â”€ BaseWifi.h                      # WiFi networking
â”‚   â”œâ”€â”€ BaseBluetooth.h                 # Bluetooth connectivity
â”‚   â”œâ”€â”€ BaseNvs.h                       # Non-volatile storage
â”‚   â”œâ”€â”€ BaseLogger.h                    # Unified logging system
â”‚   â”œâ”€â”€ BaseTemperature.h               # Temperature sensing
â”‚   â”œâ”€â”€ BasePeriodicTimer.h             # Timer operations
â”‚   â””â”€â”€ BasePio.h                       # Programmable I/O (advanced GPIO)
â”‚
â””â”€â”€ ğŸ”§ MCU Layer (inc/mcu/ &amp; src/mcu/)  # Platform implementations
    â”œâ”€â”€ esp32/                          # ESP32 family support
    â”‚   â”œâ”€â”€ EspGpio.h/.cpp             # ESP32 GPIO implementation
    â”‚   â”œâ”€â”€ EspAdc.h/.cpp              # ESP32 ADC implementation
    â”‚   â”œâ”€â”€ EspPwm.h/.cpp              # ESP32 PWM implementation
    â”‚   â””â”€â”€ ...                        # All other ESP32 peripherals
    â”‚
    â”œâ”€â”€ stm32/                          # STM32 family (future)
    â”‚   â””â”€â”€ ...                        # STM32 implementations
    â”‚
    â””â”€â”€ nrf/                            # Nordic nRF (future)
        â””â”€â”€ ...                        # nRF implementations
</pre></td></tr></tbody></table></div></code></pre></div></div>
<h3 id="abstraction-benefits">
  
  
    <a href="#abstraction-benefits" class="anchor-heading" aria-labelledby="abstraction-benefits"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> <strong>Abstraction Benefits</strong>
  
  
</h3>
    
<h4 id="1-mcu-independence">
  
  
    <a href="#1-mcu-independence" class="anchor-heading" aria-labelledby="1-mcu-independence"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> <strong>1. MCU Independence</strong>
  
  
</h4>
    
<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><div class="table-wrapper"><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
</pre></td><td class="rouge-code"><pre><span class="c1">// Application code remains the same across MCUs</span>
<span class="k">class</span> <span class="nc">MotorController</span> <span class="p">{</span>
    <span class="n">BaseGpio</span><span class="o">*</span> <span class="n">enable_pin</span><span class="p">;</span>
    <span class="n">BasePwm</span><span class="o">*</span> <span class="n">speed_control</span><span class="p">;</span>
    <span class="n">BaseAdc</span><span class="o">*</span> <span class="n">current_sensor</span><span class="p">;</span>
    
<span class="nl">public:</span>
    <span class="kt">void</span> <span class="n">Initialize</span><span class="p">()</span> <span class="p">{</span>
        <span class="n">enable_pin</span> <span class="o">=</span> <span class="n">GpioFactory</span><span class="o">::</span><span class="n">Create</span><span class="p">(</span><span class="n">MOTOR_ENABLE_PIN</span><span class="p">,</span> <span class="n">GPIO_OUTPUT</span><span class="p">);</span>
        <span class="n">speed_control</span> <span class="o">=</span> <span class="n">PwmFactory</span><span class="o">::</span><span class="n">Create</span><span class="p">(</span><span class="n">PWM_CHANNEL_1</span><span class="p">,</span> <span class="mi">1000</span><span class="p">);</span> <span class="c1">// 1kHz</span>
        <span class="n">current_sensor</span> <span class="o">=</span> <span class="n">AdcFactory</span><span class="o">::</span><span class="n">Create</span><span class="p">(</span><span class="n">ADC_CHANNEL_1</span><span class="p">);</span>
    <span class="p">}</span>
    
    <span class="kt">void</span> <span class="n">SetSpeed</span><span class="p">(</span><span class="n">hf_u16_t</span> <span class="n">speed_percent</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">speed_control</span><span class="o">-&gt;</span><span class="n">SetDutyCycle</span><span class="p">(</span><span class="n">speed_percent</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">};</span>
</pre></td></tr></tbody></table></div></code></pre></div></div>
<h4 id="2-external-driver-support">
  
  
    <a href="#2-external-driver-support" class="anchor-heading" aria-labelledby="2-external-driver-support"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> <strong>2. External Driver Support</strong>
  
  
</h4>
    
<p>The base classes can be extended for external chips:</p>
<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><div class="table-wrapper"><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
</pre></td><td class="rouge-code"><pre><span class="c1">// External motor driver chip</span>
<span class="k">class</span> <span class="nc">DRV8302_Driver</span> <span class="o">:</span> <span class="k">public</span> <span class="n">BasePwm</span> <span class="p">{</span>
    <span class="n">BaseI2c</span><span class="o">*</span> <span class="n">i2c_bus</span><span class="p">;</span>
    <span class="n">BaseSpi</span><span class="o">*</span> <span class="n">spi_bus</span><span class="p">;</span>
    
<span class="nl">public:</span>
    <span class="c1">// Implement BasePwm interface using external chip</span>
    <span class="kt">void</span> <span class="n">SetDutyCycle</span><span class="p">(</span><span class="n">hf_u16_t</span> <span class="n">duty</span><span class="p">)</span> <span class="k">override</span> <span class="p">{</span>
        <span class="c1">// Send PWM command to DRV8302 via SPI/I2C</span>
    <span class="p">}</span>
<span class="p">};</span>
</pre></td></tr></tbody></table></div></code></pre></div></div><hr />
<h2 id="-peripheral-interfaces">
  
  
    <a href="#-peripheral-interfaces" class="anchor-heading" aria-labelledby="-peripheral-interfaces"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> ğŸ”Œ <strong>Peripheral Interfaces</strong>
  
  
</h2>
    

<blockquote>
  <p><strong>ğŸ“– <a href="https://n3b3x.github.io/hf-internal-interface-wrap/">ğŸ“šğŸŒ Live Complete Documentation</a></strong> - 
Interactive guides, examples, and step-by-step tutorials</p>
</blockquote>
<h3 id="core-peripherals">
  
  
    <a href="#core-peripherals" class="anchor-heading" aria-labelledby="core-peripherals"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> <strong>Core Peripherals</strong>
  
  
</h3>
    

<div class="table-wrapper"><table>
  <tbody>
    <tr>
      <td><strong>Interface</strong></td>
      <td><strong>Purpose</strong></td>
      <td><strong>Key Features</strong></td>
    </tr>
  </tbody>
</table></div>

<p>|â€”â€”â€”â€”â€”|â€”â€”â€”â€”-|â€”â€”â€”â€”â€”â€”|</p>

<div class="table-wrapper"><table>
  <tbody>
    <tr>
      <td><strong>BaseGpio</strong></td>
      <td>Digital I/O control</td>
      <td>Input/output, interrupts, pull-up/down</td>
    </tr>
  </tbody>
</table></div>

<div class="table-wrapper"><table>
  <tbody>
    <tr>
      <td><strong>BaseAdc</strong></td>
      <td>Analog measurement</td>
      <td>Multi-channel, calibration, DMA support</td>
    </tr>
  </tbody>
</table></div>

<div class="table-wrapper"><table>
  <tbody>
    <tr>
      <td><strong>BasePwm</strong></td>
      <td>Motor/servo control</td>
      <td>Frequency control, duty cycle, phase alignment</td>
    </tr>
  </tbody>
</table></div>

<div class="table-wrapper"><table>
  <tbody>
    <tr>
      <td><strong>BaseUart</strong></td>
      <td>Serial communication</td>
      <td>Async I/O, flow control, custom baud rates</td>
    </tr>
  </tbody>
</table></div>
<h3 id="communication-buses">
  
  
    <a href="#communication-buses" class="anchor-heading" aria-labelledby="communication-buses"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> <strong>Communication Buses</strong>
  
  
</h3>
    

<div class="table-wrapper"><table>
  <tbody>
    <tr>
      <td><strong>Interface</strong></td>
      <td><strong>Purpose</strong></td>
      <td><strong>Key Features</strong></td>
    </tr>
  </tbody>
</table></div>

<p>|â€”â€”â€”â€”â€”|â€”â€”â€”â€”-|â€”â€”â€”â€”â€”â€”|</p>

<div class="table-wrapper"><table>
  <tbody>
    <tr>
      <td><strong>BaseI2c</strong></td>
      <td>Sensor communication</td>
      <td>Master/slave, clock stretching, error recovery</td>
    </tr>
  </tbody>
</table></div>

<div class="table-wrapper"><table>
  <tbody>
    <tr>
      <td><strong>BaseSpi</strong></td>
      <td>High-speed data</td>
      <td>Full/half duplex, DMA, chip select management</td>
    </tr>
  </tbody>
</table></div>

<div class="table-wrapper"><table>
  <tbody>
    <tr>
      <td><strong>BaseCan</strong></td>
      <td>Automotive/industrial</td>
      <td>Message filtering, error handling, bus monitoring</td>
    </tr>
  </tbody>
</table></div>
<h3 id="wireless-connectivity">
  
  
    <a href="#wireless-connectivity" class="anchor-heading" aria-labelledby="wireless-connectivity"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> <strong>Wireless Connectivity</strong>
  
  
</h3>
    

<div class="table-wrapper"><table>
  <tbody>
    <tr>
      <td><strong>Interface</strong></td>
      <td><strong>Purpose</strong></td>
      <td><strong>Key Features</strong></td>
    </tr>
  </tbody>
</table></div>

<p>|â€”â€”â€”â€”â€”|â€”â€”â€”â€”-|â€”â€”â€”â€”â€”â€”|</p>

<div class="table-wrapper"><table>
  <tbody>
    <tr>
      <td><strong>BaseWifi</strong></td>
      <td>Network connectivity</td>
      <td>STA/AP modes, WPA3 security, power management</td>
    </tr>
  </tbody>
</table></div>

<div class="table-wrapper"><table>
  <tbody>
    <tr>
      <td><strong>BaseBluetooth</strong></td>
      <td>Short-range wireless</td>
      <td>Classic/BLE, pairing, service discovery</td>
    </tr>
  </tbody>
</table></div>
<h3 id="system-services">
  
  
    <a href="#system-services" class="anchor-heading" aria-labelledby="system-services"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> <strong>System Services</strong>
  
  
</h3>
    

<div class="table-wrapper"><table>
  <tbody>
    <tr>
      <td><strong>Interface</strong></td>
      <td><strong>Purpose</strong></td>
      <td><strong>Key Features</strong></td>
    </tr>
  </tbody>
</table></div>

<p>|â€”â€”â€”â€”â€”|â€”â€”â€”â€”-|â€”â€”â€”â€”â€”â€”|</p>

<div class="table-wrapper"><table>
  <tbody>
    <tr>
      <td><strong>BaseNvs</strong></td>
      <td>Configuration storage</td>
      <td>Key-value pairs, encryption, wear leveling</td>
    </tr>
  </tbody>
</table></div>

<div class="table-wrapper"><table>
  <tbody>
    <tr>
      <td><strong>BaseLogger</strong></td>
      <td>Debug/monitoring</td>
      <td>Multiple levels, async logging, filtering</td>
    </tr>
  </tbody>
</table></div>

<div class="table-wrapper"><table>
  <tbody>
    <tr>
      <td><strong>BaseTemperature</strong></td>
      <td>Thermal monitoring</td>
      <td>Internal/external sensors, calibration</td>
    </tr>
  </tbody>
</table></div>

<div class="table-wrapper"><table>
  <tbody>
    <tr>
      <td><strong>BasePeriodicTimer</strong></td>
      <td>Task scheduling</td>
      <td>Precise timing, ISR-safe callbacks</td>
    </tr>
  </tbody>
</table></div>

<div class="table-wrapper"><table>
  <tbody>
    <tr>
      <td><strong>BasePio</strong></td>
      <td>Advanced GPIO</td>
      <td>State machines, DMA, complex protocols</td>
    </tr>
  </tbody>
</table></div><hr />
<h2 id="ï¸-mcu-support">
  
  
    <a href="#ï¸-mcu-support" class="anchor-heading" aria-labelledby="ï¸-mcu-support"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> ğŸ–¥ï¸ <strong>MCU Support</strong>
  
  
</h2>
    
<h3 id="currently-supported">
  
  
    <a href="#currently-supported" class="anchor-heading" aria-labelledby="currently-supported"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> <strong>Currently Supported</strong>
  
  
</h3>
    
<h4 id="esp32-family-">
  
  
    <a href="#esp32-family-" class="anchor-heading" aria-labelledby="esp32-family-"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> <strong>ESP32 Family</strong> âœ…
  
  
</h4>
    
<ul>
  <li><strong>ESP32</strong> - Original dual-core WiFi/BT</li>
  <li><strong>ESP32-C6</strong> - RISC-V with WiFi 6 + Zigbee</li>
  <li><strong>ESP32-S3</strong> - Dual-core with AI acceleration</li>
  <li><strong>ESP32-C3</strong> - Single-core RISC-V WiFi/BT</li>
</ul>

<p><strong>Implementation Status</strong>: All 14 peripheral interfaces fully implemented</p>
<h3 id="planned-support">
  
  
    <a href="#planned-support" class="anchor-heading" aria-labelledby="planned-support"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> <strong>Planned Support</strong>
  
  
</h3>
    
<h4 id="stm32-family-">
  
  
    <a href="#stm32-family-" class="anchor-heading" aria-labelledby="stm32-family-"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> <strong>STM32 Family</strong> ğŸš§
  
  
</h4>
    
<ul>
  <li><strong>STM32F4</strong> - High-performance ARM Cortex-M4</li>
  <li><strong>STM32H7</strong> - Dual-core ARM Cortex-M7</li>
  <li><strong>STM32G4</strong> - Motor control optimized</li>
</ul>
<h4 id="nordic-nrf-">
  
  
    <a href="#nordic-nrf-" class="anchor-heading" aria-labelledby="nordic-nrf-"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> <strong>Nordic nRF</strong> ğŸš§
  
  
</h4>
    
<ul>
  <li><strong>nRF52840</strong> - Bluetooth 5.0 + Thread/Zigbee</li>
  <li><strong>nRF5340</strong> - Dual-core Bluetooth 5.2</li>
</ul>
<h3 id="adding-new-mcus">
  
  
    <a href="#adding-new-mcus" class="anchor-heading" aria-labelledby="adding-new-mcus"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> <strong>Adding New MCUs</strong>
  
  
</h3>
    

<ol>
  <li><strong>Create MCU directory</strong>: <code class="language-plaintext highlighter-rouge">inc/mcu/your_mcu/</code> and <code class="language-plaintext highlighter-rouge">src/mcu/your_mcu/</code></li>
  <li><strong>Implement base interfaces</strong>: Inherit from base classes</li>
  <li><strong>Add factory support</strong>: Register your implementations</li>
  <li><strong>Update build system</strong>: Add MCU-specific compilation flags</li>
</ol>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><div class="table-wrapper"><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
</pre></td><td class="rouge-code"><pre><span class="c1">// Example: Adding STM32 GPIO support</span>
<span class="k">class</span> <span class="nc">Stm32Gpio</span> <span class="o">:</span> <span class="k">public</span> <span class="n">BaseGpio</span> <span class="p">{</span>
    <span class="n">GPIO_TypeDef</span><span class="o">*</span> <span class="n">gpio_port</span><span class="p">;</span>
    <span class="n">hf_u16_t</span> <span class="n">gpio_pin</span><span class="p">;</span>
    
<span class="nl">public:</span>
    <span class="kt">void</span> <span class="n">SetHigh</span><span class="p">()</span> <span class="k">override</span> <span class="p">{</span>
        <span class="n">HAL_GPIO_WritePin</span><span class="p">(</span><span class="n">gpio_port</span><span class="p">,</span> <span class="n">gpio_pin</span><span class="p">,</span> <span class="n">GPIO_PIN_SET</span><span class="p">);</span>
    <span class="p">}</span>
    
    <span class="kt">void</span> <span class="n">SetLow</span><span class="p">()</span> <span class="k">override</span> <span class="p">{</span>
        <span class="n">HAL_GPIO_WritePin</span><span class="p">(</span><span class="n">gpio_port</span><span class="p">,</span> <span class="n">gpio_pin</span><span class="p">,</span> <span class="n">GPIO_PIN_RESET</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">};</span>
</pre></td></tr></tbody></table></div></code></pre></div></div><hr />
<h2 id="-quick-start">
  
  
    <a href="#-quick-start" class="anchor-heading" aria-labelledby="-quick-start"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> ğŸš€ <strong>Quick Start</strong>
  
  
</h2>
    
<h3 id="1-clone-repository">
  
  
    <a href="#1-clone-repository" class="anchor-heading" aria-labelledby="1-clone-repository"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> <strong>1. Clone Repository</strong>
  
  
</h3>
    
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><div class="table-wrapper"><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td><td class="rouge-code"><pre>git clone &lt;repository-url&gt;
<span class="nb">cd </span>hf-internal-interface-wrap
</pre></td></tr></tbody></table></div></code></pre></div></div>
<h3 id="2-setup-development-environment">
  
  
    <a href="#2-setup-development-environment" class="anchor-heading" aria-labelledby="2-setup-development-environment"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> <strong>2. Setup Development Environment</strong>
  
  
</h3>
    
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><div class="table-wrapper"><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre></td><td class="rouge-code"><pre><span class="c">## For ESP32 development</span>
<span class="nb">cd </span>examples/esp32
./scripts/setup_repo.sh
</pre></td></tr></tbody></table></div></code></pre></div></div>
<h3 id="3-build-example">
  
  
    <a href="#3-build-example" class="anchor-heading" aria-labelledby="3-build-example"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> <strong>3. Build Example</strong>
  
  
</h3>
    
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><div class="table-wrapper"><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td><td class="rouge-code"><pre><span class="c">## Build GPIO test for ESP32</span>
./scripts/build_app.sh gpio_test Release esp32
</pre></td></tr></tbody></table></div></code></pre></div></div>
<h3 id="4-flash-and-monitor">
  
  
    <a href="#4-flash-and-monitor" class="anchor-heading" aria-labelledby="4-flash-and-monitor"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> <strong>4. Flash and Monitor</strong>
  
  
</h3>
    
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><div class="table-wrapper"><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre></td><td class="rouge-code"><pre><span class="c">## Flash to connected ESP32</span>
./scripts/flash_app.sh gpio_test Release flash

<span class="c">## Monitor serial output</span>
./scripts/flash_app.sh gpio_test Release monitor
</pre></td></tr></tbody></table></div></code></pre></div></div>
<h3 id="5-basic-usage">
  
  
    <a href="#5-basic-usage" class="anchor-heading" aria-labelledby="5-basic-usage"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> <strong>5. Basic Usage</strong>
  
  
</h3>
    
<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><div class="table-wrapper"><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
</pre></td><td class="rouge-code"><pre><span class="cp">#include</span> <span class="cpf">"base/BaseGpio.h"</span><span class="cp">
#include</span> <span class="cpf">"mcu/esp32/EspGpio.h"</span><span class="cp">
</span>
<span class="kt">void</span> <span class="nf">setup</span><span class="p">()</span> <span class="p">{</span>
    <span class="c1">// Create GPIO instance for built-in LED</span>
    <span class="n">BaseGpio</span><span class="o">*</span> <span class="n">led</span> <span class="o">=</span> <span class="k">new</span> <span class="n">EspGpio</span><span class="p">(</span><span class="n">GPIO_NUM_2</span><span class="p">,</span> <span class="n">GPIO_MODE_OUTPUT</span><span class="p">);</span>
    
    <span class="c1">// Blink LED</span>
    <span class="k">while</span><span class="p">(</span><span class="nb">true</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">led</span><span class="o">-&gt;</span><span class="n">SetHigh</span><span class="p">();</span>
        <span class="n">vTaskDelay</span><span class="p">(</span><span class="n">pdMS_TO_TICKS</span><span class="p">(</span><span class="mi">500</span><span class="p">));</span>
        <span class="n">led</span><span class="o">-&gt;</span><span class="n">SetLow</span><span class="p">();</span>
        <span class="n">vTaskDelay</span><span class="p">(</span><span class="n">pdMS_TO_TICKS</span><span class="p">(</span><span class="mi">500</span><span class="p">));</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></div></code></pre></div></div><hr />
<h2 id="-api-documentation">
  
  
    <a href="#-api-documentation" class="anchor-heading" aria-labelledby="-api-documentation"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> ğŸ“– <strong>API Documentation</strong>
  
  
</h2>
    
<h3 id="generated-documentation">
  
  
    <a href="#generated-documentation" class="anchor-heading" aria-labelledby="generated-documentation"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> <strong>Generated Documentation</strong>
  
  
</h3>
    
<ul>
  <li><strong><a href="docs/api/">API Reference</a></strong> - Complete base api interface documentation</li>
  <li><strong><a href="docs/esp_api/">ESP32 Implementation</a></strong> - ESP32-specific details</li>
</ul>
<h3 id="key-concepts">
  
  
    <a href="#key-concepts" class="anchor-heading" aria-labelledby="key-concepts"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> <strong>Key Concepts</strong>
  
  
</h3>
    
<h4 id="type-system">
  
  
    <a href="#type-system" class="anchor-heading" aria-labelledby="type-system"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> <strong>Type System</strong>
  
  
</h4>
    
<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><div class="table-wrapper"><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
</pre></td><td class="rouge-code"><pre><span class="c1">// Project uses consistent type definitions</span>
<span class="k">typedef</span> <span class="kt">uint8_t</span>  <span class="n">hf_u8_t</span><span class="p">;</span>
<span class="k">typedef</span> <span class="kt">uint16_t</span> <span class="n">hf_u16_t</span><span class="p">;</span>
<span class="k">typedef</span> <span class="kt">uint32_t</span> <span class="n">hf_u32_t</span><span class="p">;</span>

<span class="c1">// Enums use snake_case with *t suffix</span>
<span class="k">enum</span> <span class="k">class</span> <span class="nc">hf_gpio_state_t</span> <span class="p">{</span>
    <span class="n">LOW</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
    <span class="n">HIGH</span> <span class="o">=</span> <span class="mi">1</span>
<span class="p">};</span>
</pre></td></tr></tbody></table></div></code></pre></div></div>
<h4 id="error-handling">
  
  
    <a href="#error-handling" class="anchor-heading" aria-labelledby="error-handling"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> <strong>Error Handling</strong>
  
  
</h4>
    
<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><div class="table-wrapper"><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
</pre></td><td class="rouge-code"><pre><span class="c1">// All operations return status codes</span>
<span class="k">enum</span> <span class="k">class</span> <span class="nc">hf_gpio_err_t</span> <span class="p">{</span>
    <span class="n">SUCCESS</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
    <span class="n">INVALID_PIN</span><span class="p">,</span>
    <span class="n">ALREADY_CONFIGURED</span><span class="p">,</span>
    <span class="n">HARDWARE_ERROR</span>
<span class="p">};</span>

<span class="n">hf_gpio_err_t</span> <span class="n">result</span> <span class="o">=</span> <span class="n">gpio</span><span class="o">-&gt;</span><span class="n">Configure</span><span class="p">(</span><span class="n">GPIO_MODE_OUTPUT</span><span class="p">);</span>
<span class="k">if</span> <span class="p">(</span><span class="n">result</span> <span class="o">!=</span> <span class="n">hf_gpio_err_t</span><span class="o">::</span><span class="n">SUCCESS</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">Logger</span><span class="o">::</span><span class="n">GetInstance</span><span class="p">().</span><span class="n">LogError</span><span class="p">(</span><span class="s">"GPIO configuration failed"</span><span class="p">);</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></div></code></pre></div></div>
<h4 id="factory-pattern">
  
  
    <a href="#factory-pattern" class="anchor-heading" aria-labelledby="factory-pattern"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> <strong>Factory Pattern</strong>
  
  
</h4>
    

<p>The factory pattern enables completely MCU-agnostic code by automatically selecting the correct
implementation at compile time.
Factories support both <strong>dynamic allocation</strong> (heap-based) and <strong>static allocation</strong> (stack-based)
patterns:</p>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><div class="table-wrapper"><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
</pre></td><td class="rouge-code"><pre><span class="c1">// inc/utils/GpioFactory.h - MCU-agnostic factory interface</span>
<span class="k">class</span> <span class="nc">GpioFactory</span> <span class="p">{</span>
<span class="nl">public:</span>
    <span class="k">static</span> <span class="n">BaseGpio</span><span class="o">*</span> <span class="n">Create</span><span class="p">(</span><span class="n">hf_u8_t</span> <span class="n">pin</span><span class="p">,</span> <span class="n">gpio_mode_t</span> <span class="n">mode</span><span class="p">);</span>
    <span class="k">static</span> <span class="n">BaseGpio</span><span class="o">*</span> <span class="n">CreateWithInterrupt</span><span class="p">(</span><span class="n">hf_u8_t</span> <span class="n">pin</span><span class="p">,</span> <span class="n">gpio_isr_t</span> <span class="n">callback</span><span class="p">);</span>
    <span class="k">static</span> <span class="kt">void</span> <span class="n">Destroy</span><span class="p">(</span><span class="n">BaseGpio</span><span class="o">*</span> <span class="n">gpio</span><span class="p">);</span>
<span class="p">};</span>

<span class="c1">// src/utils/GpioFactory.cpp - Automatic MCU selection</span>
<span class="n">BaseGpio</span><span class="o">*</span> <span class="n">GpioFactory</span><span class="o">::</span><span class="n">Create</span><span class="p">(</span><span class="n">hf_u8_t</span> <span class="n">pin</span><span class="p">,</span> <span class="n">gpio_mode_t</span> <span class="n">mode</span><span class="p">)</span> <span class="p">{</span>
<span class="cp">#ifdef MCU_ESP32
</span>    <span class="k">return</span> <span class="k">new</span> <span class="n">EspGpio</span><span class="p">(</span><span class="k">static_cast</span><span class="o">&lt;</span><span class="n">gpio_num_t</span><span class="o">&gt;</span><span class="p">(</span><span class="n">pin</span><span class="p">),</span> <span class="n">mode</span><span class="p">);</span>
<span class="cp">#elif defined(MCU_STM32)
</span>    <span class="k">return</span> <span class="k">new</span> <span class="n">Stm32Gpio</span><span class="p">(</span><span class="n">pin</span><span class="p">,</span> <span class="n">mode</span><span class="p">);</span>
<span class="cp">#elif defined(MCU_NRF)
</span>    <span class="k">return</span> <span class="k">new</span> <span class="n">NrfGpio</span><span class="p">(</span><span class="n">pin</span><span class="p">,</span> <span class="n">mode</span><span class="p">);</span>
<span class="cp">#else
</span>    <span class="cp">#error "Unsupported MCU platform"
#endif
</span><span class="p">}</span>

<span class="c1">// Application code - same across all MCUs</span>
<span class="n">BaseGpio</span><span class="o">*</span> <span class="n">led</span> <span class="o">=</span> <span class="n">GpioFactory</span><span class="o">::</span><span class="n">Create</span><span class="p">(</span><span class="n">GPIO_PIN_2</span><span class="p">,</span> <span class="n">GPIO_OUTPUT</span><span class="p">);</span>
<span class="n">BaseGpio</span><span class="o">*</span> <span class="n">button</span> <span class="o">=</span> <span class="n">GpioFactory</span><span class="o">::</span><span class="n">CreateWithInterrupt</span><span class="p">(</span><span class="n">GPIO_PIN_0</span><span class="p">,</span> <span class="n">button_callback</span><span class="p">);</span>
</pre></td></tr></tbody></table></div></code></pre></div></div>

<p><strong>Static Allocation Alternative:</strong></p>

<p>For systems requiring deterministic memory usage or avoiding heap allocation:</p>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><div class="table-wrapper"><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
</pre></td><td class="rouge-code"><pre><span class="c1">// inc/utils/StaticGpioFactory.h - Stack-based allocation (C++23 compatible)</span>
<span class="k">template</span><span class="o">&lt;</span><span class="kt">size_t</span> <span class="n">MAX_GPIOS</span> <span class="o">=</span> <span class="mi">16</span><span class="p">&gt;</span>
<span class="k">class</span> <span class="nc">StaticGpioFactory</span> <span class="p">{</span>
<span class="nl">private:</span>
    <span class="c1">// Modern C++23 approach: alignas + std::byte array instead of deprecated std::aligned_storage</span>
    <span class="k">static</span> <span class="n">std</span><span class="o">::</span><span class="n">array</span><span class="o">&lt;</span><span class="k">alignas</span><span class="p">(</span><span class="n">BaseGpio</span><span class="p">)</span> <span class="n">std</span><span class="o">::</span><span class="n">byte</span><span class="p">[</span><span class="k">sizeof</span><span class="p">(</span><span class="n">EspGpio</span><span class="p">)],</span> <span class="n">MAX_GPIOS</span><span class="o">&gt;</span> <span class="n">gpio_storage</span><span class="p">;</span>
    <span class="k">static</span> <span class="n">std</span><span class="o">::</span><span class="n">array</span><span class="o">&lt;</span><span class="kt">bool</span><span class="p">,</span> <span class="n">MAX_GPIOS</span><span class="o">&gt;</span> <span class="n">gpio_used</span><span class="p">;</span>
    <span class="k">static</span> <span class="kt">size_t</span> <span class="n">next_index</span><span class="p">;</span>
    
<span class="nl">public:</span>
    <span class="k">static</span> <span class="n">BaseGpio</span><span class="o">*</span> <span class="n">Create</span><span class="p">(</span><span class="n">hf_u8_t</span> <span class="n">pin</span><span class="p">,</span> <span class="n">gpio_mode_t</span> <span class="n">mode</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">next_index</span> <span class="o">&gt;=</span> <span class="n">MAX_GPIOS</span><span class="p">)</span> <span class="k">return</span> <span class="nb">nullptr</span><span class="p">;</span>
        
        <span class="c1">// Construct in-place in pre-allocated storage using placement new</span>
        <span class="kt">void</span><span class="o">*</span> <span class="n">storage</span> <span class="o">=</span> <span class="o">&amp;</span><span class="n">gpio_storage</span><span class="p">[</span><span class="n">next_index</span><span class="p">];</span>
        <span class="n">BaseGpio</span><span class="o">*</span> <span class="n">gpio</span> <span class="o">=</span> <span class="nb">nullptr</span><span class="p">;</span>
        
<span class="cp">#ifdef MCU_ESP32
</span>        <span class="n">gpio</span> <span class="o">=</span> <span class="k">new</span><span class="p">(</span><span class="n">storage</span><span class="p">)</span> <span class="n">EspGpio</span><span class="p">(</span><span class="k">static_cast</span><span class="o">&lt;</span><span class="n">gpio_num_t</span><span class="o">&gt;</span><span class="p">(</span><span class="n">pin</span><span class="p">),</span> <span class="n">mode</span><span class="p">);</span>
<span class="cp">#elif defined(MCU_STM32)
</span>        <span class="n">gpio</span> <span class="o">=</span> <span class="k">new</span><span class="p">(</span><span class="n">storage</span><span class="p">)</span> <span class="n">Stm32Gpio</span><span class="p">(</span><span class="n">pin</span><span class="p">,</span> <span class="n">mode</span><span class="p">);</span>
<span class="cp">#elif defined(MCU_NRF)
</span>        <span class="n">gpio</span> <span class="o">=</span> <span class="k">new</span><span class="p">(</span><span class="n">storage</span><span class="p">)</span> <span class="n">NrfGpio</span><span class="p">(</span><span class="n">pin</span><span class="p">,</span> <span class="n">mode</span><span class="p">);</span>
<span class="cp">#endif
</span>        
        <span class="n">gpio_used</span><span class="p">[</span><span class="n">next_index</span><span class="p">]</span> <span class="o">=</span> <span class="nb">true</span><span class="p">;</span>
        <span class="n">next_index</span><span class="o">++</span><span class="p">;</span>
        <span class="k">return</span> <span class="n">gpio</span><span class="p">;</span>
    <span class="p">}</span>
    
    <span class="k">static</span> <span class="kt">void</span> <span class="n">DestroyAll</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">for</span> <span class="p">(</span><span class="kt">size_t</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">next_index</span><span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">gpio_used</span><span class="p">[</span><span class="n">i</span><span class="p">])</span> <span class="p">{</span>
                <span class="c1">// Use std::launder for safe pointer conversion (C++17+)</span>
                <span class="n">BaseGpio</span><span class="o">*</span> <span class="n">gpio</span> <span class="o">=</span> <span class="n">std</span><span class="o">::</span><span class="n">launder</span><span class="p">(</span><span class="k">reinterpret_cast</span><span class="o">&lt;</span><span class="n">BaseGpio</span><span class="o">*&gt;</span><span class="p">(</span><span class="o">&amp;</span><span class="n">gpio_storage</span><span class="p">[</span><span class="n">i</span><span class="p">]));</span>
                <span class="n">gpio</span><span class="o">-&gt;~</span><span class="n">BaseGpio</span><span class="p">();</span>  <span class="c1">// Call destructor explicitly</span>
                <span class="n">gpio_used</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="nb">false</span><span class="p">;</span>
            <span class="p">}</span>
        <span class="p">}</span>
        <span class="n">next_index</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">};</span>

<span class="c1">// Pre-allocated object pool for known hardware configuration</span>
<span class="k">class</span> <span class="nc">HardwarePool</span> <span class="p">{</span>
<span class="nl">private:</span>
    <span class="c1">// Modern C++23 approach: alignas + std::byte arrays instead of deprecated std::aligned_storage</span>
    <span class="k">alignas</span><span class="p">(</span><span class="n">BaseGpio</span><span class="p">)</span> <span class="n">std</span><span class="o">::</span><span class="n">byte</span> <span class="n">motor_enable_storage</span><span class="p">[</span><span class="k">sizeof</span><span class="p">(</span><span class="n">EspGpio</span><span class="p">)];</span>
    <span class="k">alignas</span><span class="p">(</span><span class="n">BaseGpio</span><span class="p">)</span> <span class="n">std</span><span class="o">::</span><span class="n">byte</span> <span class="n">fault_pin_storage</span><span class="p">[</span><span class="k">sizeof</span><span class="p">(</span><span class="n">EspGpio</span><span class="p">)];</span>
    <span class="k">alignas</span><span class="p">(</span><span class="n">BasePwm</span><span class="p">)</span> <span class="n">std</span><span class="o">::</span><span class="n">byte</span> <span class="n">motor_pwm_storage</span><span class="p">[</span><span class="k">sizeof</span><span class="p">(</span><span class="n">EspPwm</span><span class="p">)];</span>
    <span class="k">alignas</span><span class="p">(</span><span class="n">BaseAdc</span><span class="p">)</span> <span class="n">std</span><span class="o">::</span><span class="n">byte</span> <span class="n">current_adc_storage</span><span class="p">[</span><span class="k">sizeof</span><span class="p">(</span><span class="n">EspAdc</span><span class="p">)];</span>
    
<span class="nl">public:</span>
    <span class="n">BaseGpio</span><span class="o">*</span> <span class="n">motor_enable</span><span class="p">;</span>
    <span class="n">BaseGpio</span><span class="o">*</span> <span class="n">fault_pin</span><span class="p">;</span>
    <span class="n">BasePwm</span><span class="o">*</span> <span class="n">motor_pwm</span><span class="p">;</span>
    <span class="n">BaseAdc</span><span class="o">*</span> <span class="n">current_adc</span><span class="p">;</span>
    
    <span class="c1">// Constructor creates all objects in pre-allocated storage</span>
    <span class="n">HardwarePool</span><span class="p">()</span> <span class="p">{</span>
<span class="cp">#ifdef MCU_ESP32
</span>        <span class="n">motor_enable</span> <span class="o">=</span> <span class="k">new</span><span class="p">(</span><span class="o">&amp;</span><span class="n">motor_enable_storage</span><span class="p">)</span> <span class="n">EspGpio</span><span class="p">(</span><span class="n">GPIO_NUM_5</span><span class="p">,</span> <span class="n">GPIO_MODE_OUTPUT</span><span class="p">);</span>
        <span class="n">fault_pin</span> <span class="o">=</span> <span class="k">new</span><span class="p">(</span><span class="o">&amp;</span><span class="n">fault_pin_storage</span><span class="p">)</span> <span class="n">EspGpio</span><span class="p">(</span><span class="n">GPIO_NUM_4</span><span class="p">,</span> <span class="n">GPIO_MODE_INPUT</span><span class="p">);</span>
        <span class="n">motor_pwm</span> <span class="o">=</span> <span class="k">new</span><span class="p">(</span><span class="o">&amp;</span><span class="n">motor_pwm_storage</span><span class="p">)</span> <span class="n">EspPwm</span><span class="p">(</span><span class="n">LEDC_CHANNEL_0</span><span class="p">,</span> <span class="mi">20000</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="n">GPIO_NUM_18</span><span class="p">);</span>
        <span class="n">current_adc</span> <span class="o">=</span> <span class="k">new</span><span class="p">(</span><span class="o">&amp;</span><span class="n">current_adc_storage</span><span class="p">)</span> <span class="n">EspAdc</span><span class="p">(</span><span class="n">ADC1_CHANNEL_0</span><span class="p">);</span>
<span class="cp">#elif defined(MCU_STM32)
</span>        <span class="n">motor_enable</span> <span class="o">=</span> <span class="k">new</span><span class="p">(</span><span class="o">&amp;</span><span class="n">motor_enable_storage</span><span class="p">)</span> <span class="n">Stm32Gpio</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="n">GPIO_MODE_OUTPUT</span><span class="p">);</span>
        <span class="n">fault_pin</span> <span class="o">=</span> <span class="k">new</span><span class="p">(</span><span class="o">&amp;</span><span class="n">fault_pin_storage</span><span class="p">)</span> <span class="n">Stm32Gpio</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="n">GPIO_MODE_INPUT</span><span class="p">);</span>
        <span class="n">motor_pwm</span> <span class="o">=</span> <span class="k">new</span><span class="p">(</span><span class="o">&amp;</span><span class="n">motor_pwm_storage</span><span class="p">)</span> <span class="n">Stm32Pwm</span><span class="p">(</span><span class="n">TIM1</span><span class="p">,</span> <span class="mi">20000</span><span class="p">,</span> <span class="mi">5</span><span class="p">);</span>
        <span class="n">current_adc</span> <span class="o">=</span> <span class="k">new</span><span class="p">(</span><span class="o">&amp;</span><span class="n">current_adc_storage</span><span class="p">)</span> <span class="n">Stm32Adc</span><span class="p">(</span><span class="n">ADC1</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
<span class="cp">#endif
</span>    <span class="p">}</span>
    
    <span class="c1">// Destructor calls destructors explicitly</span>
    <span class="o">~</span><span class="n">HardwarePool</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">motor_enable</span><span class="p">)</span> <span class="n">motor_enable</span><span class="o">-&gt;~</span><span class="n">BaseGpio</span><span class="p">();</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">fault_pin</span><span class="p">)</span> <span class="n">fault_pin</span><span class="o">-&gt;~</span><span class="n">BaseGpio</span><span class="p">();</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">motor_pwm</span><span class="p">)</span> <span class="n">motor_pwm</span><span class="o">-&gt;~</span><span class="n">BasePwm</span><span class="p">();</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">current_adc</span><span class="p">)</span> <span class="n">current_adc</span><span class="o">-&gt;~</span><span class="n">BaseAdc</span><span class="p">();</span>
    <span class="p">}</span>
<span class="p">};</span>
</pre></td></tr></tbody></table></div></code></pre></div></div>

<p><strong>Usage Comparison:</strong></p>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><div class="table-wrapper"><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
</pre></td><td class="rouge-code"><pre><span class="c1">// Dynamic allocation (heap-based)</span>
<span class="k">class</span> <span class="nc">DynamicController</span> <span class="p">{</span>
    <span class="n">BaseGpio</span><span class="o">*</span> <span class="n">motor_enable</span><span class="p">;</span>
    <span class="n">BasePwm</span><span class="o">*</span> <span class="n">motor_speed</span><span class="p">;</span>
    
<span class="nl">public:</span>
    <span class="kt">void</span> <span class="n">Initialize</span><span class="p">()</span> <span class="p">{</span>
        <span class="n">motor_enable</span> <span class="o">=</span> <span class="n">GpioFactory</span><span class="o">::</span><span class="n">Create</span><span class="p">(</span><span class="n">GPIO_PIN_5</span><span class="p">,</span> <span class="n">GPIO_OUTPUT</span><span class="p">);</span>
        <span class="n">motor_speed</span> <span class="o">=</span> <span class="n">PwmFactory</span><span class="o">::</span><span class="n">CreateMotorControl</span><span class="p">(</span><span class="n">PWM_CH_0</span><span class="p">,</span> <span class="n">GPIO_PIN_18</span><span class="p">);</span>
    <span class="p">}</span>
    
    <span class="o">~</span><span class="n">DynamicController</span><span class="p">()</span> <span class="p">{</span>
        <span class="n">GpioFactory</span><span class="o">::</span><span class="n">Destroy</span><span class="p">(</span><span class="n">motor_enable</span><span class="p">);</span>
        <span class="n">PwmFactory</span><span class="o">::</span><span class="n">Destroy</span><span class="p">(</span><span class="n">motor_speed</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">};</span>

<span class="c1">// Static allocation (stack-based, deterministic memory)</span>
<span class="k">class</span> <span class="nc">StaticController</span> <span class="p">{</span>
    <span class="n">HardwarePool</span> <span class="n">hardware</span><span class="p">;</span>  <span class="c1">// All objects created in constructor</span>
    
<span class="nl">public:</span>
    <span class="kt">void</span> <span class="n">Initialize</span><span class="p">()</span> <span class="p">{</span>
        <span class="c1">// Objects already created in hardware pool constructor</span>
        <span class="c1">// Just configure them</span>
        <span class="n">hardware</span><span class="p">.</span><span class="n">motor_enable</span><span class="o">-&gt;</span><span class="n">SetHigh</span><span class="p">();</span>
        <span class="n">hardware</span><span class="p">.</span><span class="n">motor_pwm</span><span class="o">-&gt;</span><span class="n">SetDutyCycle</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>
    <span class="p">}</span>
    
    <span class="kt">void</span> <span class="n">RunMotor</span><span class="p">(</span><span class="n">hf_u16_t</span> <span class="n">speed</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">hardware</span><span class="p">.</span><span class="n">motor_pwm</span><span class="o">-&gt;</span><span class="n">SetDutyCycle</span><span class="p">(</span><span class="n">speed</span><span class="p">);</span>
        <span class="n">hf_u16_t</span> <span class="n">current</span> <span class="o">=</span> <span class="n">hardware</span><span class="p">.</span><span class="n">current_adc</span><span class="o">-&gt;</span><span class="n">ReadRaw</span><span class="p">();</span>
        <span class="n">Logger</span><span class="o">::</span><span class="n">GetInstance</span><span class="p">().</span><span class="n">LogInfo</span><span class="p">(</span><span class="s">"Motor speed: %d%%, Current: %d"</span><span class="p">,</span> <span class="n">speed</span><span class="p">,</span> <span class="n">current</span><span class="p">);</span>
    <span class="p">}</span>
    
    <span class="c1">// Destructor automatically called, no manual cleanup needed</span>
<span class="p">};</span>

<span class="c1">// Real-time system with pre-allocated pool</span>
<span class="kt">void</span> <span class="n">RealTimeTask</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">static</span> <span class="n">StaticGpioFactory</span><span class="o">&lt;</span><span class="mi">8</span><span class="o">&gt;</span> <span class="n">gpio_pool</span><span class="p">;</span>  <span class="c1">// Max 8 GPIOs, stack allocated</span>
    
    <span class="n">BaseGpio</span><span class="o">*</span> <span class="n">led1</span> <span class="o">=</span> <span class="n">gpio_pool</span><span class="p">.</span><span class="n">Create</span><span class="p">(</span><span class="n">GPIO_PIN_2</span><span class="p">,</span> <span class="n">GPIO_OUTPUT</span><span class="p">);</span>
    <span class="n">BaseGpio</span><span class="o">*</span> <span class="n">led2</span> <span class="o">=</span> <span class="n">gpio_pool</span><span class="p">.</span><span class="n">Create</span><span class="p">(</span><span class="n">GPIO_PIN_3</span><span class="p">,</span> <span class="n">GPIO_OUTPUT</span><span class="p">);</span>
    <span class="n">BaseGpio</span><span class="o">*</span> <span class="n">button</span> <span class="o">=</span> <span class="n">gpio_pool</span><span class="p">.</span><span class="n">Create</span><span class="p">(</span><span class="n">GPIO_PIN_0</span><span class="p">,</span> <span class="n">GPIO_INPUT</span><span class="p">);</span>
    
    <span class="c1">// No heap allocation, deterministic timing</span>
    <span class="k">while</span><span class="p">(</span><span class="nb">true</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">button</span><span class="o">-&gt;</span><span class="n">Read</span><span class="p">()</span> <span class="o">==</span> <span class="n">GPIO_HIGH</span><span class="p">)</span> <span class="p">{</span>
            <span class="n">led1</span><span class="o">-&gt;</span><span class="n">SetHigh</span><span class="p">();</span>
            <span class="n">led2</span><span class="o">-&gt;</span><span class="n">SetLow</span><span class="p">();</span>
        <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
            <span class="n">led1</span><span class="o">-&gt;</span><span class="n">SetLow</span><span class="p">();</span>
            <span class="n">led2</span><span class="o">-&gt;</span><span class="n">SetHigh</span><span class="p">();</span>
        <span class="p">}</span>
        <span class="n">vTaskDelay</span><span class="p">(</span><span class="n">pdMS_TO_TICKS</span><span class="p">(</span><span class="mi">10</span><span class="p">));</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></div></code></pre></div></div>

<p><strong>Memory Allocation Benefits:</strong></p>

<div class="table-wrapper"><table>
  <tbody>
    <tr>
      <td><strong>Allocation Type</strong></td>
      <td><strong>Use Case</strong></td>
      <td><strong>Benefits</strong></td>
      <td><strong>Trade-offs</strong></td>
    </tr>
  </tbody>
</table></div>

<p>|â€”â€”â€”â€”â€”â€”â€”|â€”â€”â€”â€”â€“|â€”â€”â€”â€”â€“|â€”â€”â€”â€”â€”-|</p>

<!-- markdownlint-disable-next-line MD013 -->
<p>| <strong>Dynamic (Heap)</strong> | Flexible systems | Easy to use, unlimited objects | Runtime allocation, fragmentation |</p>

<!-- markdownlint-disable-next-line MD013 -->
<p>| <strong>Static Pool</strong> | Known hardware count | Deterministic memory, no fragmentation | Fixed object count, more setup |</p>

<!-- markdownlint-disable-next-line MD013 -->
<p>| <strong>Pre-allocated</strong> | Real-time systems | Constructor-based, automatic cleanup | Compile-time definition |</p>

<p><strong>When to Use Each:</strong></p>
<ul>
  <li><strong>Dynamic</strong>: Prototyping, flexible configurations, plenty of RAM</li>
  <li><strong>Static Pool</strong>: Real-time systems, safety-critical applications</li>
  <li><strong>Pre-allocated</strong>: Known hardware layout, maximum determinism</li>
</ul>

<p><strong>C++23 Compatibility Note:</strong>
The examples above use modern C++23 syntax with <code class="language-plaintext highlighter-rouge">alignas()</code> and <code class="language-plaintext highlighter-rouge">std::byte</code> arrays instead of the
deprecated <code class="language-plaintext highlighter-rouge">std::aligned_storage</code>.
As noted in
<a href="https://stackoverflow.com/questions/71828288/why-is-stdaligned-storage-to-be-deprecated-in-c23-and-what-to-use-instead">P1413R3</a>,
<code class="language-plaintext highlighter-rouge">std::aligned_storage</code> is deprecated due to API issues and potential undefined behavior.
The replacement pattern <code class="language-plaintext highlighter-rouge">alignas(T) std::byte[sizeof(T)]</code> provides the same functionality with
better type safety and constexpr compatibility.</p>

<p><strong>Advanced Factory Examples:</strong></p>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><div class="table-wrapper"><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
</pre></td><td class="rouge-code"><pre><span class="c1">// PWM Factory with motor control optimization</span>
<span class="k">class</span> <span class="nc">PwmFactory</span> <span class="p">{</span>
<span class="nl">public:</span>
    <span class="k">static</span> <span class="n">BasePwm</span><span class="o">*</span> <span class="n">CreateMotorControl</span><span class="p">(</span><span class="n">hf_u8_t</span> <span class="n">channel</span><span class="p">,</span> <span class="n">hf_u8_t</span> <span class="n">gpio_pin</span><span class="p">)</span> <span class="p">{</span>
        <span class="c1">// Automatically configures optimal settings for motor control</span>
        <span class="c1">// ESP32: 20kHz, 12-bit resolution</span>
        <span class="c1">// STM32: 20kHz, 16-bit resolution  </span>
        <span class="c1">// nRF: 20kHz, 10-bit resolution</span>
    <span class="p">}</span>
    
    <span class="k">static</span> <span class="n">BasePwm</span><span class="o">*</span> <span class="n">CreateServoControl</span><span class="p">(</span><span class="n">hf_u8_t</span> <span class="n">channel</span><span class="p">,</span> <span class="n">hf_u8_t</span> <span class="n">gpio_pin</span><span class="p">)</span> <span class="p">{</span>
        <span class="c1">// Automatically configures for servo control (50Hz, precise timing)</span>
    <span class="p">}</span>
<span class="p">};</span>

<span class="c1">// Communication Factory with bus management</span>
<span class="k">class</span> <span class="nc">CommFactory</span> <span class="p">{</span>
<span class="nl">public:</span>
    <span class="k">static</span> <span class="n">BaseI2c</span><span class="o">*</span> <span class="n">CreateSensorBus</span><span class="p">(</span><span class="n">hf_u8_t</span> <span class="n">bus_num</span><span class="p">)</span> <span class="p">{</span>
        <span class="c1">// Optimized I2C settings for sensor communication</span>
        <span class="c1">// Handles MCU-specific pin assignments automatically</span>
    <span class="p">}</span>
    
    <span class="k">static</span> <span class="n">BaseUart</span><span class="o">*</span> <span class="n">CreateDebugPort</span><span class="p">()</span> <span class="p">{</span>
        <span class="c1">// Creates standard debug UART on each MCU's debug pins</span>
        <span class="c1">// ESP32: UART0 on GPIO1/3</span>
        <span class="c1">// STM32: USART2 on PA2/PA3</span>
        <span class="c1">// nRF: UART0 on P0.06/P0.08</span>
    <span class="p">}</span>
<span class="p">};</span>
</pre></td></tr></tbody></table></div></code></pre></div></div><hr />
<h2 id="-building">
  
  
    <a href="#-building" class="anchor-heading" aria-labelledby="-building"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> ğŸ”§ <strong>Building</strong>
  
  
</h2>
    
<h3 id="build-system-features">
  
  
    <a href="#build-system-features" class="anchor-heading" aria-labelledby="build-system-features"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> <strong>Build System Features</strong>
  
  
</h3>
    
<ul>
  <li><strong>Multi-MCU Support</strong> - Single build system for all platforms</li>
  <li><strong>Automated Testing</strong> - Comprehensive test suites</li>
  <li><strong>CI/CD Integration</strong> - Automated builds and validation</li>
</ul>
<h3 id="build-commands">
  
  
    <a href="#build-commands" class="anchor-heading" aria-labelledby="build-commands"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> <strong>Build Commands</strong>
  
  
</h3>
    
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><div class="table-wrapper"><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
</pre></td><td class="rouge-code"><pre><span class="c">## Build specific application</span>
./scripts/build_app.sh &lt;app_name&gt; &lt;build_type&gt; &lt;target&gt;

<span class="c">## Examples:</span>
./scripts/build_app.sh gpio_test Debug esp32
./scripts/build_app.sh pwm_test Release esp32c6
./scripts/build_app.sh uart_test Debug esp32s3
<span class="sb">```</span>yaml

<span class="c">### **Configuration**</span>
Applications are configured <span class="k">in</span> <span class="sb">`</span>examples/esp32/app_config.yml<span class="sb">`</span>:
<span class="sb">```</span>yaml
applications:
  gpio_test:
    source_file: <span class="s2">"GpioComprehensiveTest.cpp"</span>
    description: <span class="s2">"GPIO interface testing"</span>
    enabled: <span class="nb">true
    
  </span>pwm_test:
    source_file: <span class="s2">"PwmComprehensiveTest.cpp"</span> 
    description: <span class="s2">"PWM interface testing"</span>
    enabled: <span class="nb">true</span>
</pre></td></tr></tbody></table></div></code></pre></div></div><hr />
<h2 id="-examples">
  
  
    <a href="#-examples" class="anchor-heading" aria-labelledby="-examples"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> ğŸ“Š <strong>Examples</strong>
  
  
</h2>
    
<h3 id="available-test-applications">
  
  
    <a href="#available-test-applications" class="anchor-heading" aria-labelledby="available-test-applications"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> <strong>Available Test Applications</strong>
  
  
</h3>
    

<div class="table-wrapper"><table>
  <tbody>
    <tr>
      <td><strong>Application</strong></td>
      <td><strong>Tests</strong></td>
      <td><strong>Purpose</strong></td>
    </tr>
  </tbody>
</table></div>

<p>|â€”â€”â€”â€”â€”â€“|â€”â€”â€”â€“|â€”â€”â€”â€”-|</p>

<div class="table-wrapper"><table>
  <tbody>
    <tr>
      <td><strong>gpio_test</strong></td>
      <td>Digital I/O, interrupts</td>
      <td>GPIO interface validation</td>
    </tr>
  </tbody>
</table></div>

<div class="table-wrapper"><table>
  <tbody>
    <tr>
      <td><strong>adc_test</strong></td>
      <td>Multi-channel sampling</td>
      <td>ADC accuracy and performance</td>
    </tr>
  </tbody>
</table></div>

<div class="table-wrapper"><table>
  <tbody>
    <tr>
      <td><strong>pwm_test</strong></td>
      <td>Frequency/duty control</td>
      <td>Motor control applications</td>
    </tr>
  </tbody>
</table></div>

<div class="table-wrapper"><table>
  <tbody>
    <tr>
      <td><strong>uart_test</strong></td>
      <td>Serial communication</td>
      <td>Data transmission testing</td>
    </tr>
  </tbody>
</table></div>

<div class="table-wrapper"><table>
  <tbody>
    <tr>
      <td><strong>i2c_test</strong></td>
      <td>Sensor communication</td>
      <td>I2C bus operations</td>
    </tr>
  </tbody>
</table></div>

<div class="table-wrapper"><table>
  <tbody>
    <tr>
      <td><strong>spi_test</strong></td>
      <td>High-speed data</td>
      <td>SPI protocol testing</td>
    </tr>
  </tbody>
</table></div>

<div class="table-wrapper"><table>
  <tbody>
    <tr>
      <td><strong>wifi_test</strong></td>
      <td>Network connectivity</td>
      <td>WiFi stack validation</td>
    </tr>
  </tbody>
</table></div>

<div class="table-wrapper"><table>
  <tbody>
    <tr>
      <td><strong>bluetooth_test</strong></td>
      <td>Wireless pairing</td>
      <td>Bluetooth functionality</td>
    </tr>
  </tbody>
</table></div>
<h3 id="factory-usage-examples">
  
  
    <a href="#factory-usage-examples" class="anchor-heading" aria-labelledby="factory-usage-examples"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> <strong>Factory Usage Examples</strong>
  
  
</h3>
    
<h4 id="basic-factory-usage">
  
  
    <a href="#basic-factory-usage" class="anchor-heading" aria-labelledby="basic-factory-usage"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> <strong>Basic Factory Usage</strong>
  
  
</h4>
    
<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><div class="table-wrapper"><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
</pre></td><td class="rouge-code"><pre><span class="c1">// Simple GPIO control - works on any MCU</span>
<span class="kt">void</span> <span class="nf">BlinkLED</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">BaseGpio</span><span class="o">*</span> <span class="n">led</span> <span class="o">=</span> <span class="n">GpioFactory</span><span class="o">::</span><span class="n">Create</span><span class="p">(</span><span class="n">GPIO_PIN_2</span><span class="p">,</span> <span class="n">GPIO_OUTPUT</span><span class="p">);</span>
    
    <span class="k">while</span><span class="p">(</span><span class="nb">true</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">led</span><span class="o">-&gt;</span><span class="n">SetHigh</span><span class="p">();</span>
        <span class="n">vTaskDelay</span><span class="p">(</span><span class="n">pdMS_TO_TICKS</span><span class="p">(</span><span class="mi">500</span><span class="p">));</span>
        <span class="n">led</span><span class="o">-&gt;</span><span class="n">SetLow</span><span class="p">();</span> 
        <span class="n">vTaskDelay</span><span class="p">(</span><span class="n">pdMS_TO_TICKS</span><span class="p">(</span><span class="mi">500</span><span class="p">));</span>
    <span class="p">}</span>
    
    <span class="n">GpioFactory</span><span class="o">::</span><span class="n">Destroy</span><span class="p">(</span><span class="n">led</span><span class="p">);</span>
<span class="p">}</span>

<span class="c1">// PWM motor control - MCU-optimized automatically</span>
<span class="kt">void</span> <span class="n">ControlMotor</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">BasePwm</span><span class="o">*</span> <span class="n">motor</span> <span class="o">=</span> <span class="n">PwmFactory</span><span class="o">::</span><span class="n">CreateMotorControl</span><span class="p">(</span><span class="n">PWM_CH_0</span><span class="p">,</span> <span class="n">GPIO_PIN_5</span><span class="p">);</span>
    <span class="n">BaseAdc</span><span class="o">*</span> <span class="n">current</span> <span class="o">=</span> <span class="n">AdcFactory</span><span class="o">::</span><span class="n">Create</span><span class="p">(</span><span class="n">ADC_CHANNEL_1</span><span class="p">);</span>
    
    <span class="n">motor</span><span class="o">-&gt;</span><span class="n">SetDutyCycle</span><span class="p">(</span><span class="mi">75</span><span class="p">);</span>  <span class="c1">// 75% speed</span>
    <span class="n">hf_u16_t</span> <span class="n">current_ma</span> <span class="o">=</span> <span class="n">current</span><span class="o">-&gt;</span><span class="n">ReadMillivolts</span><span class="p">()</span> <span class="o">/</span> <span class="mi">10</span><span class="p">;</span>  <span class="c1">// Convert to mA</span>
    
    <span class="n">Logger</span><span class="o">::</span><span class="n">GetInstance</span><span class="p">().</span><span class="n">LogInfo</span><span class="p">(</span><span class="s">"Motor current: %d mA"</span><span class="p">,</span> <span class="n">current_ma</span><span class="p">);</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></div></code></pre></div></div>
<h4 id="multi-peripheral-application">
  
  
    <a href="#multi-peripheral-application" class="anchor-heading" aria-labelledby="multi-peripheral-application"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> <strong>Multi-Peripheral Application</strong>
  
  
</h4>
    
<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><div class="table-wrapper"><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
</pre></td><td class="rouge-code"><pre><span class="k">class</span> <span class="nc">HardFOCController</span> <span class="p">{</span>
    <span class="c1">// Hardware interfaces - MCU agnostic</span>
    <span class="n">BaseGpio</span><span class="o">*</span> <span class="n">motor_enable</span><span class="p">;</span>
    <span class="n">BaseGpio</span><span class="o">*</span> <span class="n">fault_pin</span><span class="p">;</span>
    <span class="n">BasePwm</span><span class="o">*</span> <span class="n">motor_speed</span><span class="p">;</span>
    <span class="n">BaseAdc</span><span class="o">*</span> <span class="n">current_sensor</span><span class="p">;</span>
    <span class="n">BaseAdc</span><span class="o">*</span> <span class="n">voltage_sensor</span><span class="p">;</span>
    <span class="n">BaseUart</span><span class="o">*</span> <span class="n">debug_port</span><span class="p">;</span>
    <span class="n">BaseI2c</span><span class="o">*</span> <span class="n">sensor_bus</span><span class="p">;</span>
    <span class="n">BaseWifi</span><span class="o">*</span> <span class="n">telemetry</span><span class="p">;</span>
    
<span class="nl">public:</span>
    <span class="n">hf_gpio_err_t</span> <span class="n">Initialize</span><span class="p">()</span> <span class="p">{</span>
        <span class="c1">// Factory creates MCU-specific implementations automatically</span>
        <span class="n">motor_enable</span> <span class="o">=</span> <span class="n">GpioFactory</span><span class="o">::</span><span class="n">Create</span><span class="p">(</span><span class="n">MOTOR_EN_PIN</span><span class="p">,</span> <span class="n">GPIO_OUTPUT</span><span class="p">);</span>
        <span class="n">fault_pin</span> <span class="o">=</span> <span class="n">GpioFactory</span><span class="o">::</span><span class="n">CreateWithInterrupt</span><span class="p">(</span><span class="n">FAULT_PIN</span><span class="p">,</span> <span class="n">fault_callback</span><span class="p">);</span>
        <span class="n">motor_speed</span> <span class="o">=</span> <span class="n">PwmFactory</span><span class="o">::</span><span class="n">CreateMotorControl</span><span class="p">(</span><span class="n">PWM_CH_0</span><span class="p">,</span> <span class="n">MOTOR_PWM_PIN</span><span class="p">);</span>
        <span class="n">current_sensor</span> <span class="o">=</span> <span class="n">AdcFactory</span><span class="o">::</span><span class="n">Create</span><span class="p">(</span><span class="n">CURRENT_ADC_CH</span><span class="p">);</span>
        <span class="n">voltage_sensor</span> <span class="o">=</span> <span class="n">AdcFactory</span><span class="o">::</span><span class="n">Create</span><span class="p">(</span><span class="n">VOLTAGE_ADC_CH</span><span class="p">);</span>
        <span class="n">debug_port</span> <span class="o">=</span> <span class="n">CommFactory</span><span class="o">::</span><span class="n">CreateDebugPort</span><span class="p">();</span>
        <span class="n">sensor_bus</span> <span class="o">=</span> <span class="n">CommFactory</span><span class="o">::</span><span class="n">CreateSensorBus</span><span class="p">(</span><span class="n">I2C_BUS_0</span><span class="p">);</span>
        <span class="n">telemetry</span> <span class="o">=</span> <span class="n">WifiFactory</span><span class="o">::</span><span class="n">Create</span><span class="p">();</span>
        
        <span class="c1">// Validate all interfaces created successfully</span>
        <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="n">motor_enable</span> <span class="o">||</span> <span class="o">!</span><span class="n">motor_speed</span> <span class="o">||</span> <span class="o">!</span><span class="n">current_sensor</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">return</span> <span class="n">hf_gpio_err_t</span><span class="o">::</span><span class="n">HARDWARE_ERROR</span><span class="p">;</span>
        <span class="p">}</span>
        
        <span class="n">debug_port</span><span class="o">-&gt;</span><span class="n">Printf</span><span class="p">(</span><span class="s">"HardFOC Controller initialized on %s</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span> <span class="n">MCU_NAME</span><span class="p">);</span>
        <span class="k">return</span> <span class="n">hf_gpio_err_t</span><span class="o">::</span><span class="n">SUCCESS</span><span class="p">;</span>
    <span class="p">}</span>
    
    <span class="kt">void</span> <span class="n">RunMotor</span><span class="p">(</span><span class="n">hf_u16_t</span> <span class="n">speed_percent</span><span class="p">)</span> <span class="p">{</span>
        <span class="c1">// Enable motor driver</span>
        <span class="n">motor_enable</span><span class="o">-&gt;</span><span class="n">SetHigh</span><span class="p">();</span>
        
        <span class="c1">// Set motor speed</span>
        <span class="n">motor_speed</span><span class="o">-&gt;</span><span class="n">SetDutyCycle</span><span class="p">(</span><span class="n">speed_percent</span><span class="p">);</span>
        
        <span class="c1">// Read diagnostics</span>
        <span class="n">hf_u16_t</span> <span class="n">current_ma</span> <span class="o">=</span> <span class="n">current_sensor</span><span class="o">-&gt;</span><span class="n">ReadMillivolts</span><span class="p">()</span> <span class="o">/</span> <span class="mi">10</span><span class="p">;</span>
        <span class="n">hf_u16_t</span> <span class="n">voltage_mv</span> <span class="o">=</span> <span class="n">voltage_sensor</span><span class="o">-&gt;</span><span class="n">ReadMillivolts</span><span class="p">();</span>
        
        <span class="c1">// Log locally</span>
        <span class="n">debug_port</span><span class="o">-&gt;</span><span class="n">Printf</span><span class="p">(</span><span class="s">"Speed: %d%%, Current: %dmA, Voltage: %dmV</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span> 
                          <span class="n">speed_percent</span><span class="p">,</span> <span class="n">current_ma</span><span class="p">,</span> <span class="n">voltage_mv</span><span class="p">);</span>
        
        <span class="c1">// Send telemetry if connected</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">telemetry</span> <span class="o">&amp;&amp;</span> <span class="n">telemetry</span><span class="o">-&gt;</span><span class="n">IsConnected</span><span class="p">())</span> <span class="p">{</span>
            <span class="n">telemetry</span><span class="o">-&gt;</span><span class="n">SendData</span><span class="p">(</span><span class="s">"motor_speed"</span><span class="p">,</span> <span class="n">speed_percent</span><span class="p">);</span>
            <span class="n">telemetry</span><span class="o">-&gt;</span><span class="n">SendData</span><span class="p">(</span><span class="s">"motor_current"</span><span class="p">,</span> <span class="n">current_ma</span><span class="p">);</span>
            <span class="n">telemetry</span><span class="o">-&gt;</span><span class="n">SendData</span><span class="p">(</span><span class="s">"bus_voltage"</span><span class="p">,</span> <span class="n">voltage_mv</span><span class="p">);</span>
        <span class="p">}</span>
    <span class="p">}</span>
    
    <span class="kt">void</span> <span class="n">EmergencyStop</span><span class="p">()</span> <span class="p">{</span>
        <span class="n">motor_enable</span><span class="o">-&gt;</span><span class="n">SetLow</span><span class="p">();</span>
        <span class="n">motor_speed</span><span class="o">-&gt;</span><span class="n">SetDutyCycle</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>
        <span class="n">debug_port</span><span class="o">-&gt;</span><span class="n">Printf</span><span class="p">(</span><span class="s">"EMERGENCY STOP - Motor disabled</span><span class="se">\n</span><span class="s">"</span><span class="p">);</span>
    <span class="p">}</span>
    
    <span class="o">~</span><span class="n">HardFOCController</span><span class="p">()</span> <span class="p">{</span>
        <span class="c1">// Clean up all resources</span>
        <span class="n">EmergencyStop</span><span class="p">();</span>
        <span class="n">GpioFactory</span><span class="o">::</span><span class="n">Destroy</span><span class="p">(</span><span class="n">motor_enable</span><span class="p">);</span>
        <span class="n">GpioFactory</span><span class="o">::</span><span class="n">Destroy</span><span class="p">(</span><span class="n">fault_pin</span><span class="p">);</span>
        <span class="n">PwmFactory</span><span class="o">::</span><span class="n">Destroy</span><span class="p">(</span><span class="n">motor_speed</span><span class="p">);</span>
        <span class="n">AdcFactory</span><span class="o">::</span><span class="n">Destroy</span><span class="p">(</span><span class="n">current_sensor</span><span class="p">);</span>
        <span class="n">AdcFactory</span><span class="o">::</span><span class="n">Destroy</span><span class="p">(</span><span class="n">voltage_sensor</span><span class="p">);</span>
        <span class="n">CommFactory</span><span class="o">::</span><span class="n">DestroyComm</span><span class="p">(</span><span class="n">debug_port</span><span class="p">);</span>
        <span class="n">CommFactory</span><span class="o">::</span><span class="n">DestroyComm</span><span class="p">(</span><span class="n">sensor_bus</span><span class="p">);</span>
        <span class="n">WifiFactory</span><span class="o">::</span><span class="n">Destroy</span><span class="p">(</span><span class="n">telemetry</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">};</span>

<span class="c1">// Same code compiles and runs on ESP32, STM32, nRF!</span>
<span class="n">HardFOCController</span> <span class="n">controller</span><span class="p">;</span>
<span class="n">controller</span><span class="p">.</span><span class="n">Initialize</span><span class="p">();</span>
<span class="n">controller</span><span class="p">.</span><span class="n">RunMotor</span><span class="p">(</span><span class="mi">50</span><span class="p">);</span>  <span class="c1">// 50% speed</span>
</pre></td></tr></tbody></table></div></code></pre></div></div>
<h4 id="external-sensor-integration">
  
  
    <a href="#external-sensor-integration" class="anchor-heading" aria-labelledby="external-sensor-integration"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> <strong>External Sensor Integration</strong>
  
  
</h4>
    
<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><div class="table-wrapper"><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
</pre></td><td class="rouge-code"><pre><span class="c1">// Factories can create drivers for external chips too</span>
<span class="k">class</span> <span class="nc">EnvironmentalMonitor</span> <span class="p">{</span>
    <span class="n">BaseTemperature</span><span class="o">*</span> <span class="n">internal_temp</span><span class="p">;</span>    <span class="c1">// MCU internal sensor</span>
    <span class="n">BaseTemperature</span><span class="o">*</span> <span class="n">external_temp</span><span class="p">;</span>    <span class="c1">// DS18B20 external sensor</span>
    <span class="n">BaseAdc</span><span class="o">*</span> <span class="n">external_adc</span><span class="p">;</span>             <span class="c1">// MCP3208 external ADC</span>
    
<span class="nl">public:</span>
    <span class="kt">void</span> <span class="n">Initialize</span><span class="p">()</span> <span class="p">{</span>
        <span class="c1">// Internal MCU sensors</span>
        <span class="n">internal_temp</span> <span class="o">=</span> <span class="n">SensorFactory</span><span class="o">::</span><span class="n">CreateInternalTemp</span><span class="p">();</span>
        
        <span class="c1">// External sensors using base interfaces</span>
        <span class="n">BaseGpio</span><span class="o">*</span> <span class="n">ds18b20_pin</span> <span class="o">=</span> <span class="n">GpioFactory</span><span class="o">::</span><span class="n">Create</span><span class="p">(</span><span class="n">GPIO_PIN_4</span><span class="p">,</span> <span class="n">GPIO_INPUT_OUTPUT</span><span class="p">);</span>
        <span class="n">external_temp</span> <span class="o">=</span> <span class="n">SensorFactory</span><span class="o">::</span><span class="n">CreateDS18B20</span><span class="p">(</span><span class="n">ds18b20_pin</span><span class="p">);</span>
        
        <span class="n">BaseSpi</span><span class="o">*</span> <span class="n">spi_bus</span> <span class="o">=</span> <span class="n">CommFactory</span><span class="o">::</span><span class="n">CreateSpi</span><span class="p">(</span><span class="n">SPI_BUS_1</span><span class="p">,</span> <span class="mi">1000000</span><span class="p">);</span>
        <span class="n">BaseGpio</span><span class="o">*</span> <span class="n">cs_pin</span> <span class="o">=</span> <span class="n">GpioFactory</span><span class="o">::</span><span class="n">Create</span><span class="p">(</span><span class="n">GPIO_PIN_10</span><span class="p">,</span> <span class="n">GPIO_OUTPUT</span><span class="p">);</span>
        <span class="n">external_adc</span> <span class="o">=</span> <span class="n">SensorFactory</span><span class="o">::</span><span class="n">CreateMCP3208</span><span class="p">(</span><span class="n">spi_bus</span><span class="p">,</span> <span class="n">cs_pin</span><span class="p">);</span>
    <span class="p">}</span>
    
    <span class="kt">void</span> <span class="n">ReadAllSensors</span><span class="p">()</span> <span class="p">{</span>
        <span class="kt">float</span> <span class="n">internal_celsius</span> <span class="o">=</span> <span class="n">internal_temp</span><span class="o">-&gt;</span><span class="n">ReadCelsius</span><span class="p">();</span>
        <span class="kt">float</span> <span class="n">external_celsius</span> <span class="o">=</span> <span class="n">external_temp</span><span class="o">-&gt;</span><span class="n">ReadCelsius</span><span class="p">();</span>
        <span class="n">hf_u16_t</span> <span class="n">external_raw</span> <span class="o">=</span> <span class="n">external_adc</span><span class="o">-&gt;</span><span class="n">ReadRaw</span><span class="p">();</span>
        
        <span class="n">Logger</span><span class="o">::</span><span class="n">GetInstance</span><span class="p">().</span><span class="n">LogInfo</span><span class="p">(</span><span class="s">"Temps: Internal=%.1fÂ°C, External=%.1fÂ°C, ADC=%d"</span><span class="p">,</span> 
                                     <span class="n">internal_celsius</span><span class="p">,</span> <span class="n">external_celsius</span><span class="p">,</span> <span class="n">external_raw</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">};</span>
</pre></td></tr></tbody></table></div></code></pre></div></div><hr />
<h2 id="-contributing">
  
  
    <a href="#-contributing" class="anchor-heading" aria-labelledby="-contributing"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> ğŸ¤ <strong>Contributing</strong>
  
  
</h2>
    
<h3 id="development-workflow">
  
  
    <a href="#development-workflow" class="anchor-heading" aria-labelledby="development-workflow"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> <strong>Development Workflow</strong>
  
  
</h3>
    
<ol>
  <li><strong>Fork</strong> the repository</li>
  <li><strong>Create</strong> feature branch (<code class="language-plaintext highlighter-rouge">feature/new-mcu-support</code>)</li>
  <li><strong>Implement</strong> following coding standards</li>
  <li><strong>Test</strong> with existing applications</li>
  <li><strong>Document</strong> your changes</li>
  <li><strong>Submit</strong> pull request</li>
</ol>
<h3 id="adding-new-peripherals">
  
  
    <a href="#adding-new-peripherals" class="anchor-heading" aria-labelledby="adding-new-peripherals"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> <strong>Adding New Peripherals</strong>
  
  
</h3>
    
<ol>
  <li><strong>Create base interface</strong> in <code class="language-plaintext highlighter-rouge">inc/base/BaseYourPeripheral.h</code></li>
  <li><strong>Implement for ESP32</strong> in <code class="language-plaintext highlighter-rouge">inc/mcu/esp32/EspYourPeripheral.h</code></li>
  <li><strong>Add comprehensive tests</strong> in <code class="language-plaintext highlighter-rouge">examples/esp32/main/</code></li>
  <li><strong>Update documentation</strong></li>
</ol>
<h3 id="coding-standards">
  
  
    <a href="#coding-standards" class="anchor-heading" aria-labelledby="coding-standards"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> <strong>Coding Standards</strong>
  
  
</h3>
    
<ul>
  <li><strong>Functions</strong>: CamelCase (<code class="language-plaintext highlighter-rouge">SetDutyCycle</code>, <code class="language-plaintext highlighter-rouge">ReadValue</code>)</li>
  <li><strong>Types</strong>: snake_case with <code class="language-plaintext highlighter-rouge">*t</code> suffix (<code class="language-plaintext highlighter-rouge">hf_gpio_state_t</code>)</li>
  <li><strong>Enums</strong>: snake_case enum class (<code class="language-plaintext highlighter-rouge">hf_adc_err_t</code>)</li>
  <li><strong>Logging</strong>: Use <code class="language-plaintext highlighter-rouge">Logger::GetInstance()</code> for all output</li>
</ul><hr />
<h2 id="-license">
  
  
    <a href="#-license" class="anchor-heading" aria-labelledby="-license"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> ğŸ“„ <strong>License</strong>
  
  
</h2>
    

<p>This project is licensed under the <strong>GNU General Public License v3.0</strong>.</p>

<p>See <a href="/hf-internal-interface-wrap/development/LICENSE">LICENSE</a> for full details.</p><hr />
<h2 id="-quick-links">
  
  
    <a href="#-quick-links" class="anchor-heading" aria-labelledby="-quick-links"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> ğŸ”— <strong>Quick Links</strong>
  
  
</h2>
    
<h3 id="documentation">
  
  
    <a href="#documentation" class="anchor-heading" aria-labelledby="documentation"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> <strong>Documentation</strong>
  
  
</h3>
    
<ul>
  <li>ğŸ“š <a href="docs/api/">API Reference</a> - Complete interface documentation</li>
  <li>ğŸ”§ <a href="docs/esp_api/">ESP32 Implementations</a> - Hardware-specific implementations</li>
  <li>ğŸ› ï¸ <a href="docs/utils/">Utility Classes</a> - Advanced utility classes and helpers
    <ul>
      <li><a href="inc/utils/McuSelect.h">McuSelect.h</a> - Centralized MCU platform selection and configuration</li>
    </ul>
  </li>
  <li>ğŸ”§ <a href="examples/esp32/">Build System</a> - Build and deployment guides</li>
  <li>ğŸ›¡ï¸ <a href=".github/workflows/">CI/CD Pipeline</a> - Advanced automated workflows and testing</li>
</ul>
<h3 id="development">
  
  
    <a href="#development" class="anchor-heading" aria-labelledby="development"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> <strong>Development</strong>
  
  
</h3>
    
<ul>
  <li>ğŸš€ <a href="examples/esp32/">Examples</a> - Test applications and usage examples</li>
  <li>ğŸ§ª <a href="/hf-internal-interface-wrap/development/examples/esp32/docs/">Test Documentation</a> - Comprehensive test documentation</li>
  <li>ğŸ”§ <a href="examples/esp32/scripts/">Scripts</a> - Build, flash, and development tools</li>
  <li>ğŸ“Š <a href="/hf-internal-interface-wrap/development/examples/esp32/app_config.yml">Configuration</a> - Application and build settings</li>
</ul>
<h3 id="community">
  
  
    <a href="#community" class="anchor-heading" aria-labelledby="community"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> <strong>Community</strong>
  
  
</h3>
    
<ul>
  <li>ğŸ¤ <a href="/hf-internal-interface-wrap/development/CONTRIBUTING/">Contributing</a> - Development guidelines</li>
</ul><hr />

<blockquote>
  <p><strong>ğŸ§ª <a href="nonexistent-page">Test 404 Page</a></strong> - (on live documentation) Click this link to test our 
custom 404 page!</p>
</blockquote>

<p><strong>Built for the HardFOC ecosystem - Enabling seamless MCU portability</strong></p>

<p><em>Hardware abstraction that just worksâ„¢</em></p>

          

          
            <hr>
<h2 class="text-delta">ğŸ“‹ Table of Contents</h2>

<ul>
  
  <li>
    <a href="/hf-internal-interface-wrap/development/docs/">ğŸ“š Documentation</a>
  </li>
  
  <li>
    <a href="/hf-internal-interface-wrap/development/examples/esp32/">ğŸš€ ESP32 Examples</a>
  </li>
  
  <li>
    <a href="/hf-internal-interface-wrap/development/CONTRIBUTING/">ğŸ¤ Contributing</a>
  </li>
  
</ul>
          
        </main>
        

  <hr>
  <footer>
    

    <footer class="site-footer">
  <div class="site-footer-credits">
    <p>Built with â¤ï¸ using <a href="https://just-the-docs.github.io/just-the-docs/">Just the Docs</a></p>
    <p><a href="https://github.com/n3b3x/hf-internal-interface-wrap/blob/main/LICENSE">GPL v3 License</a> â€¢ <a href="https://github.com/n3b3x/hf-internal-interface-wrap">View on GitHub</a></p>
  </div>
</footer>


    
  </footer>


      </div>
    </div>
    
      
<button id="search-button" class="search-button btn-reset" aria-label="Focus on search">
  <svg viewBox="0 0 24 24" class="icon" aria-hidden="true"><use xlink:href="#svg-search"></use></svg>
</button>


<div class="search-overlay"></div>

    
  </div>

  
</body>
</html>

