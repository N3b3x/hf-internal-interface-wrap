

<!DOCTYPE html>

<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=Edge">

  <link rel="stylesheet" href="/hf-internal-interface-wrap/development/assets/css/just-the-docs-default.css">

  <link rel="stylesheet" href="/hf-internal-interface-wrap/development/assets/css/just-the-docs-head-nav.css" id="jtd-head-nav-stylesheet">

  <style id="jtd-nav-activation">
  

    .site-nav > ul.nav-list:first-child > li > a,
    .site-nav > ul.nav-list:first-child > li > ul > li > a,
    .site-nav > ul.nav-list:first-child > li > ul > li > ul > li > a,
    
    .site-nav > ul.nav-list:first-child > li > ul > li > ul > li > ul > li:not(:nth-child(1)) > a,
    .site-nav > ul.nav-list:first-child > li > ul > li > ul > li > ul > li > ul > li a {
      background-image: none;
    }

    .site-nav > ul.nav-list:not(:first-child) a,
    .site-nav li.external a {
      background-image: none;
    }

    .site-nav > ul.nav-list:first-child > li:nth-child(1) > ul > li:nth-child(1) > ul > li:nth-child(2) > ul > li:nth-child(1) > a {
      font-weight: 600;
      text-decoration: none;
    }.site-nav > ul.nav-list:first-child > li:nth-child(1) > button svg,
    .site-nav > ul.nav-list:first-child > li:nth-child(1) > ul > li:nth-child(1) > button svg,
    .site-nav > ul.nav-list:first-child > li:nth-child(1) > ul > li:nth-child(1) > ul > li:nth-child(2) > button svg,
    .site-nav > ul.nav-list:first-child > li:nth-child(1) > ul > li:nth-child(1) > ul > li:nth-child(2) > ul > li:nth-child(1) > button svg {
      transform: rotate(-90deg);
    }.site-nav > ul.nav-list:first-child > li.nav-list-item:nth-child(1) > ul.nav-list,
    .site-nav > ul.nav-list:first-child > li.nav-list-item:nth-child(1) > ul.nav-list > li.nav-list-item:nth-child(1) > ul.nav-list,
    .site-nav > ul.nav-list:first-child > li.nav-list-item:nth-child(1) > ul.nav-list > li.nav-list-item:nth-child(1) > ul.nav-list > li.nav-list-item:nth-child(2) > ul.nav-list,
    .site-nav > ul.nav-list:first-child > li.nav-list-item:nth-child(1) > ul.nav-list > li.nav-list-item:nth-child(1) > ul.nav-list > li.nav-list-item:nth-child(2) > ul.nav-list > li.nav-list-item:nth-child(1) > ul.nav-list {
      display: block;
    }
  </style>

  

  
    <script src="/hf-internal-interface-wrap/development/assets/js/vendor/lunr.min.js"></script>
  

  <script src="/hf-internal-interface-wrap/development/assets/js/just-the-docs.js"></script>

  <meta name="viewport" content="width=device-width, initial-scale=1">

  



  <!-- Begin Jekyll SEO tag v2.8.0 -->
<title>ğŸ›¡ï¸ DigitalOutputGuard | HardFOC Interface Wrapper - development</title>
<meta name="generator" content="Jekyll v3.10.0" />
<meta property="og:title" content="ğŸ›¡ï¸ DigitalOutputGuard" />
<meta name="author" content="N3b3x" />
<meta property="og:locale" content="en" />
<meta name="description" content="RAII GPIO management utility for safe and automatic GPIO state control" />
<meta property="og:description" content="RAII GPIO management utility for safe and automatic GPIO state control" />
<link rel="canonical" href="https://n3b3x.github.io/hf-internal-interface-wrap/development/docs/utils/DigitalOutputGuard/" />
<meta property="og:url" content="https://n3b3x.github.io/hf-internal-interface-wrap/development/docs/utils/DigitalOutputGuard/" />
<meta property="og:site_name" content="HardFOC Interface Wrapper - development" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="ğŸ›¡ï¸ DigitalOutputGuard" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"WebPage","author":{"@type":"Person","name":"N3b3x","url":"https://github.com/n3b3x"},"description":"RAII GPIO management utility for safe and automatic GPIO state control","headline":"ğŸ›¡ï¸ DigitalOutputGuard","url":"https://n3b3x.github.io/hf-internal-interface-wrap/development/docs/utils/DigitalOutputGuard/"}</script>
<!-- End Jekyll SEO tag -->


  <!-- Custom head content for hf-internal-interface-wrap documentation -->
<link rel="stylesheet" href="/hf-internal-interface-wrap/development/assets/css/custom.css">
<script src="/hf-internal-interface-wrap/development/assets/js/custom.js" defer></script>

<!-- Version selector for multi-version documentation -->
<!-- Version Selector Component for Multi-Version Documentation -->
<div class="version-selector">
  <div class="version-dropdown">
    <label for="version-select" class="version-label">
      <span class="version-icon">ğŸ“š</span>
      Version:
    </label>
    <select id="version-select" class="version-select" onchange="switchVersion(this.value)">
      <option value="latest" data-url="/hf-internal-interface-wrap/">Development (main)</option>
      <option value="v2.1.0" data-url="/hf-internal-interface-wrap/v2.1.0/">v2.1.0 (Latest Stable)</option>
      <option value="v2.0.3" data-url="/hf-internal-interface-wrap/v2.0.3/">v2.0.3 (Previous Stable)</option>
      <option value="v2.1.0-rc1" data-url="/hf-internal-interface-wrap/v2.1.0-rc1/">v2.1.0-rc1 (Release Candidate)</option>
      <option value="v1.0.0" data-url="/hf-internal-interface-wrap/v1.0.0/">v1.0.0 (Legacy)</option>
    </select>
  </div>
  
  <div class="version-info">
    <span class="current-version" id="current-version">Latest (main)</span>
    <span class="version-badge" id="version-badge">dev</span>
  </div>
</div>

<script>
// Version switching logic
function switchVersion(version) {
  const select = document.getElementById('version-select');
  const selectedOption = select.options[select.selectedIndex];
  const targetUrl = selectedOption.getAttribute('data-url');
  
  if (targetUrl) {
    // Update current page URL to new version
    const currentPath = window.location.pathname;
    const baseUrl = window.location.origin;
    
    // Extract the path after the version prefix
    let newPath = currentPath;
    if (currentPath.includes('/hf-internal-interface-wrap/')) {
      const pathParts = currentPath.split('/hf-internal-interface-wrap/');
      if (pathParts.length > 1) {
        newPath = pathParts[1];
      }
    }
    
    // Construct new URL
    const newUrl = baseUrl + targetUrl + newPath;
    window.location.href = newUrl;
  }
}

// Set current version based on URL
document.addEventListener('DOMContentLoaded', function() {
  const currentPath = window.location.pathname;
  const versionSelect = document.getElementById('version-select');
  const currentVersionSpan = document.getElementById('current-version');
  const versionBadge = document.getElementById('version-badge');
  
  // Determine current version from URL
  let currentVersion = 'latest';
  let versionType = 'dev';
  
  if (currentPath.includes('/stable/')) {
    currentVersion = 'stable';
    versionType = 'stable';
  } else if (currentPath.includes('/v1.0.0/')) {
    currentVersion = 'v1.0.0';
    versionType = 'release';
  } else if (currentPath.includes('/v0.9.0/')) {
    currentVersion = 'v0.9.0';
    versionType = 'release';
  } else if (currentPath.includes('/v0.8.0/')) {
    currentVersion = 'v0.8.0';
    versionType = 'release';
  }
  
  // Update UI
  versionSelect.value = currentVersion;
  currentVersionSpan.textContent = currentVersion === 'latest' ? 'Latest (main)' : 
                                  currentVersion === 'stable' ? 'Stable (latest release)' : 
                                  currentVersion;
  
  // Update badge
  versionBadge.textContent = versionType;
  versionBadge.className = 'version-badge ' + versionType;
});
</script>

<style>
.version-selector {
  display: flex;
  align-items: center;
  gap: 1rem;
  padding: 0.75rem 1rem;
  background: var(--nav-child-link-bg);
  border: 1px solid var(--border-color);
  border-radius: 6px;
  margin: 1rem 0;
  font-size: 0.9rem;
}

.version-dropdown {
  display: flex;
  align-items: center;
  gap: 0.5rem;
}

.version-label {
  display: flex;
  align-items: center;
  gap: 0.25rem;
  font-weight: 500;
  color: var(--body-text-color);
}

.version-icon {
  font-size: 1rem;
}

.version-select {
  padding: 0.25rem 0.5rem;
  border: 1px solid var(--border-color);
  border-radius: 4px;
  background: var(--body-bg);
  color: var(--body-text-color);
  font-size: 0.9rem;
  min-width: 150px;
}

.version-select:focus {
  outline: 2px solid var(--link-color);
  outline-offset: 2px;
}

.version-info {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  margin-left: auto;
}

.current-version {
  font-weight: 500;
  color: var(--body-text-color);
}

.version-badge {
  padding: 0.125rem 0.5rem;
  border-radius: 12px;
  font-size: 0.75rem;
  font-weight: 500;
  text-transform: uppercase;
}

.version-badge.dev {
  background: #e3f2fd;
  color: #1976d2;
  border: 1px solid #bbdefb;
}

.version-badge.stable {
  background: #e8f5e8;
  color: #2e7d32;
  border: 1px solid #c8e6c9;
}

.version-badge.release {
  background: #fff3e0;
  color: #f57c00;
  border: 1px solid #ffcc02;
}

@media (max-width: 768px) {
  .version-selector {
    flex-direction: column;
    align-items: stretch;
    gap: 0.5rem;
  }
  
  .version-info {
    margin-left: 0;
    justify-content: center;
  }
}
</style>


<!-- Version information display -->
<!-- Version Information Display Component -->
<div class="version-info-display">
  <div class="version-details">
    <span class="version-label">Version:</span>
    <span class="version-value">1.0.0-dev</span>
    <span class="version-badge version-development">development</span>
  </div>
  
  <div class="version-meta">
    <span class="branch-info">
      <span class="branch-icon">ğŸŒ¿</span>
      <span class="branch-name">main</span>
    </span>
    
    <span class="build-info">
      <span class="build-icon">ğŸ”¨</span>
      <span class="build-date">2025-11-12</span>
    </span>
  </div>
</div>

<style>
.version-info-display {
  background: var(--nav-child-link-bg);
  border: 1px solid var(--border-color);
  border-radius: 8px;
  padding: 1rem;
  margin: 1rem 0;
  font-size: 0.9rem;
  display: flex;
  justify-content: space-between;
  align-items: center;
  flex-wrap: wrap;
  gap: 0.5rem;
}

.version-details {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  flex-wrap: wrap;
}

.version-label {
  font-weight: 500;
  color: var(--body-text-color);
}

.version-value {
  font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace;
  font-weight: 600;
  color: var(--link-color);
  background: var(--code-bg);
  padding: 0.125rem 0.5rem;
  border-radius: 4px;
  border: 1px solid var(--border-color);
}

.version-badge {
  padding: 0.125rem 0.5rem;
  border-radius: 12px;
  font-size: 0.75rem;
  font-weight: 500;
  text-transform: uppercase;
  letter-spacing: 0.5px;
}

.version-badge.development {
  background: #e3f2fd;
  color: #1976d2;
  border: 1px solid #bbdefb;
}

.version-badge.stable {
  background: #e8f5e8;
  color: #2e7d32;
  border: 1px solid #c8e6c9;
}

.version-badge.release {
  background: #fff3e0;
  color: #f57c00;
  border: 1px solid #ffcc02;
}

.version-meta {
  display: flex;
  align-items: center;
  gap: 1rem;
  flex-wrap: wrap;
}

.branch-info,
.build-info {
  display: flex;
  align-items: center;
  gap: 0.25rem;
  color: var(--body-text-color);
  font-size: 0.85rem;
}

.branch-icon,
.build-icon {
  font-size: 0.9rem;
}

.branch-name {
  font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace;
  font-weight: 500;
}

.build-date {
  font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace;
  font-weight: 500;
}

@media (max-width: 768px) {
  .version-info-display {
    flex-direction: column;
    align-items: stretch;
    text-align: center;
  }
  
  .version-details,
  .version-meta {
    justify-content: center;
  }
  
  .version-meta {
    margin-top: 0.5rem;
    padding-top: 0.5rem;
    border-top: 1px solid var(--border-color);
  }
}
</style>



</head>

<body>
  <a class="skip-to-main" href="#main-content">Skip to main content</a>
  <svg xmlns="http://www.w3.org/2000/svg" class="d-none">
  <symbol id="svg-link" viewBox="0 0 24 24">
  <title>Link</title>
  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link">
    <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path>
  </svg>
</symbol>

  <symbol id="svg-menu" viewBox="0 0 24 24">
  <title>Menu</title>
  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu">
    <line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line>
  </svg>
</symbol>

  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
  <title>Expand</title>
  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right">
    <polyline points="9 18 15 12 9 6"></polyline>
  </svg>
</symbol>

  <!-- Feather. MIT License: https://github.com/feathericons/feather/blob/master/LICENSE -->
<symbol id="svg-external-link" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-external-link">
  <title id="svg-external-link-title">(external link)</title>
  <path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line>
</symbol>

  
    <symbol id="svg-doc" viewBox="0 0 24 24">
  <title>Document</title>
  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file">
    <path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline>
  </svg>
</symbol>

    <symbol id="svg-search" viewBox="0 0 24 24">
  <title>Search</title>
  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search">
    <circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line>
  </svg>
</symbol>

  
  
    <!-- Bootstrap Icons. MIT License: https://github.com/twbs/icons/blob/main/LICENSE.md -->
<symbol id="svg-copy" viewBox="0 0 16 16">
  <title>Copy</title>
  <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-clipboard" viewBox="0 0 16 16">
    <path d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1h1a1 1 0 0 1 1 1V14a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3.5a1 1 0 0 1 1-1h1v-1z"/>
    <path d="M9.5 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3zm-3-1A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3z"/>
  </svg>
</symbol>
<symbol id="svg-copied" viewBox="0 0 16 16">
  <title>Copied</title>
  <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-clipboard-check-fill" viewBox="0 0 16 16">
    <path d="M6.5 0A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3Zm3 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3Z"/>
    <path d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1A2.5 2.5 0 0 1 9.5 5h-3A2.5 2.5 0 0 1 4 2.5v-1Zm6.854 7.354-3 3a.5.5 0 0 1-.708 0l-1.5-1.5a.5.5 0 0 1 .708-.708L7.5 10.793l2.646-2.647a.5.5 0 0 1 .708.708Z"/>
  </svg>
</symbol>

  
</svg>

  
    <div class="side-bar">
  <div class="site-header" role="banner">
    <a href="/hf-internal-interface-wrap/development/" class="site-title lh-tight">
  HardFOC Interface Wrapper - development

</a>
    <button id="menu-button" class="site-button btn-reset" aria-label="Toggle menu" aria-pressed="false">
      <svg viewBox="0 0 24 24" class="icon" aria-hidden="true"><use xlink:href="#svg-menu"></use></svg>
    </button>
  </div>

  <nav aria-label="Main" id="site-nav" class="site-nav">
  
  
    <ul class="nav-list"><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in ğŸ”§ HardFOC Internal Interface Layer category" aria-pressed="false">
        <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg>
      </button><a href="/hf-internal-interface-wrap/development/" class="nav-list-link">ğŸ”§ HardFOC Internal Interface Layer</a><ul class="nav-list"><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in ğŸ“š Documentation category" aria-pressed="false">
        <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg>
      </button><a href="/hf-internal-interface-wrap/development/docs/" class="nav-list-link">ğŸ“š Documentation</a><ul class="nav-list"><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in ğŸ“‹ API Reference category" aria-pressed="false">
        <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg>
      </button><a href="/hf-internal-interface-wrap/development/docs/api/" class="nav-list-link">ğŸ“‹ API Reference</a><ul class="nav-list"><li class="nav-list-item"><a href="/hf-internal-interface-wrap/development/docs/api/BaseGpio/" class="nav-list-link">ğŸ”Œ BaseGpio</a></li><li class="nav-list-item"><a href="/hf-internal-interface-wrap/development/docs/api/BaseAdc/" class="nav-list-link">ğŸ“Š BaseAdc</a></li><li class="nav-list-item"><a href="/hf-internal-interface-wrap/development/docs/api/BasePwm/" class="nav-list-link">ğŸ›ï¸ BasePwm</a></li><li class="nav-list-item"><a href="/hf-internal-interface-wrap/development/docs/api/BaseI2c/" class="nav-list-link">ğŸ”— BaseI2c</a></li><li class="nav-list-item"><a href="/hf-internal-interface-wrap/development/docs/api/BaseSpi/" class="nav-list-link">ğŸ”„ BaseSpi</a></li><li class="nav-list-item"><a href="/hf-internal-interface-wrap/development/docs/api/BaseUart/" class="nav-list-link">ğŸ“¡ BaseUart</a></li><li class="nav-list-item"><a href="/hf-internal-interface-wrap/development/docs/api/BaseCan/" class="nav-list-link">ğŸšŒ BaseCan</a></li><li class="nav-list-item"><a href="/hf-internal-interface-wrap/development/docs/api/BaseWifi/" class="nav-list-link">ğŸ“¶ BaseWifi</a></li><li class="nav-list-item"><a href="/hf-internal-interface-wrap/development/docs/api/BaseBluetooth/" class="nav-list-link">ğŸ“² BaseBluetooth</a></li><li class="nav-list-item"><a href="/hf-internal-interface-wrap/development/docs/api/BaseNvs/" class="nav-list-link">ğŸ’¾ BaseNvs</a></li><li class="nav-list-item"><a href="/hf-internal-interface-wrap/development/docs/api/BaseLogger/" class="nav-list-link">ğŸ“ BaseLogger</a></li><li class="nav-list-item"><a href="/hf-internal-interface-wrap/development/docs/api/BasePeriodicTimer/" class="nav-list-link">â° BasePeriodicTimer</a></li><li class="nav-list-item"><a href="/hf-internal-interface-wrap/development/docs/api/BasePio/" class="nav-list-link">ğŸ›ï¸ BasePio</a></li><li class="nav-list-item"><a href="/hf-internal-interface-wrap/development/docs/api/BaseTemperature/" class="nav-list-link">ğŸŒ¡ï¸ BaseTemperature</a></li><li class="nav-list-item"><a href="/hf-internal-interface-wrap/development/docs/api/HardwareTypes/" class="nav-list-link">ğŸ”§ HardwareTypes</a></li></ul></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in ğŸ› ï¸ Utilities category" aria-pressed="false">
        <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg>
      </button><a href="/hf-internal-interface-wrap/development/docs/utils/" class="nav-list-link">ğŸ› ï¸ Utilities</a><ul class="nav-list"><li class="nav-list-item"><a href="/hf-internal-interface-wrap/development/docs/utils/DigitalOutputGuard/" class="nav-list-link">ğŸ›¡ï¸ DigitalOutputGuard</a></li><li class="nav-list-item"><a href="/hf-internal-interface-wrap/development/docs/utils/AsciiArtGenerator/" class="nav-list-link">ğŸ¨ AsciiArtGenerator</a></li></ul></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in ğŸ”§ ESP32 Implementations category" aria-pressed="false">
        <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg>
      </button><a href="/hf-internal-interface-wrap/development/docs/esp_api/" class="nav-list-link">ğŸ”§ ESP32 Implementations</a><ul class="nav-list"><li class="nav-list-item"><a href="/hf-internal-interface-wrap/development/docs/esp_api/EspGpio/" class="nav-list-link">ğŸ”Œ EspGpio</a></li><li class="nav-list-item"><a href="/hf-internal-interface-wrap/development/docs/esp_api/EspAdc/" class="nav-list-link">ğŸ“Š EspAdc</a></li><li class="nav-list-item"><a href="/hf-internal-interface-wrap/development/docs/esp_api/EspPwm/" class="nav-list-link">ğŸ›ï¸ EspPwm</a></li><li class="nav-list-item"><a href="/hf-internal-interface-wrap/development/docs/esp_api/EspI2c/" class="nav-list-link">ğŸ”— EspI2c</a></li><li class="nav-list-item"><a href="/hf-internal-interface-wrap/development/docs/esp_api/EspSpi/" class="nav-list-link">ğŸ”„ EspSpi</a></li><li class="nav-list-item"><a href="/hf-internal-interface-wrap/development/docs/esp_api/EspUart/" class="nav-list-link">ğŸ“¡ EspUart</a></li><li class="nav-list-item"><a href="/hf-internal-interface-wrap/development/docs/esp_api/EspCan/" class="nav-list-link">ğŸšŒ EspCan</a></li><li class="nav-list-item"><a href="/hf-internal-interface-wrap/development/docs/esp_api/EspWifi/" class="nav-list-link">ğŸ“¶ EspWifi</a></li><li class="nav-list-item"><a href="/hf-internal-interface-wrap/development/docs/esp_api/EspBluetooth/" class="nav-list-link">ğŸ“² EspBluetooth</a></li><li class="nav-list-item"><a href="/hf-internal-interface-wrap/development/docs/esp_api/EspNvs/" class="nav-list-link">ğŸ’¾ EspNvs</a></li><li class="nav-list-item"><a href="/hf-internal-interface-wrap/development/docs/esp_api/EspLogger/" class="nav-list-link">ğŸ“ EspLogger</a></li><li class="nav-list-item"><a href="/hf-internal-interface-wrap/development/docs/esp_api/EspPeriodicTimer/" class="nav-list-link">â° EspPeriodicTimer</a></li><li class="nav-list-item"><a href="/hf-internal-interface-wrap/development/docs/esp_api/EspPio/" class="nav-list-link">ğŸ›ï¸ EspPio</a></li><li class="nav-list-item"><a href="/hf-internal-interface-wrap/development/docs/esp_api/EspTemperature/" class="nav-list-link">ğŸŒ¡ï¸ EspTemperature</a></li></ul></li></ul></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in ğŸš€ ESP32 Examples category" aria-pressed="false">
        <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg>
      </button><a href="/hf-internal-interface-wrap/development/examples/esp32/" class="nav-list-link">ğŸš€ ESP32 Examples</a><ul class="nav-list"><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in ğŸ§ª Test Documentation category" aria-pressed="false">
        <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg>
      </button><a href="/hf-internal-interface-wrap/development/examples/esp32/docs/" class="nav-list-link">ğŸ§ª Test Documentation</a><ul class="nav-list"><li class="nav-list-item"><a href="/hf-internal-interface-wrap/development/examples/esp32/docs/gpio_test/" class="nav-list-link">ğŸ§ª GPIO Test</a></li><li class="nav-list-item"><a href="/hf-internal-interface-wrap/development/examples/esp32/docs/adc_test/" class="nav-list-link">ğŸ§ª ADC Test</a></li><li class="nav-list-item"><a href="/hf-internal-interface-wrap/development/examples/esp32/docs/pwm_test/" class="nav-list-link">ğŸ§ª PWM Test</a></li><li class="nav-list-item"><a href="/hf-internal-interface-wrap/development/examples/esp32/docs/pio_test/" class="nav-list-link">ğŸ§ª PIO Test</a></li><li class="nav-list-item"><a href="/hf-internal-interface-wrap/development/examples/esp32/docs/uart_test/" class="nav-list-link">ğŸ§ª UART Test</a></li><li class="nav-list-item"><a href="/hf-internal-interface-wrap/development/examples/esp32/docs/spi_test/" class="nav-list-link">ğŸ§ª SPI Test</a></li><li class="nav-list-item"><a href="/hf-internal-interface-wrap/development/examples/esp32/docs/i2c_test/" class="nav-list-link">ğŸ§ª I2C Test</a></li><li class="nav-list-item"><a href="/hf-internal-interface-wrap/development/examples/esp32/docs/can_test/" class="nav-list-link">ğŸ§ª CAN Test</a></li><li class="nav-list-item"><a href="/hf-internal-interface-wrap/development/examples/esp32/docs/wifi_test/" class="nav-list-link">ğŸ§ª WiFi Test</a></li><li class="nav-list-item"><a href="/hf-internal-interface-wrap/development/examples/esp32/docs/nvs_test/" class="nav-list-link">ğŸ§ª NVS Test</a></li><li class="nav-list-item"><a href="/hf-internal-interface-wrap/development/examples/esp32/docs/temperature_test/" class="nav-list-link">ğŸ§ª Temperature Test</a></li><li class="nav-list-item"><a href="/hf-internal-interface-wrap/development/examples/esp32/docs/logger_test/" class="nav-list-link">ğŸ§ª Logger Test</a></li><li class="nav-list-item"><a href="/hf-internal-interface-wrap/development/examples/esp32/docs/ascii_art_test/" class="nav-list-link">ğŸ§ª ASCII Art Test</a></li><li class="nav-list-item"><a href="/hf-internal-interface-wrap/development/examples/esp32/docs/dog_test/" class="nav-list-link">ğŸ§ª DOG Test</a></li></ul></li></ul></li><li class="nav-list-item"><a href="/hf-internal-interface-wrap/development/CONTRIBUTING/" class="nav-list-link">ğŸ¤ Contributing</a></li></ul></li><li class="nav-list-item"><a href="/hf-internal-interface-wrap/development/features/" class="nav-list-link">ğŸš€ Features</a></li><li class="nav-list-item"><a href="/hf-internal-interface-wrap/development/docs/doxygen-extensions.html" class="nav-list-link">ğŸ“– Doxygen Extensions</a></li></ul>
  
</nav>




  
  
    <footer class="site-nav-footer">
  <div class="nav-footer-links">
    <a href="https://github.com/n3b3x/hf-internal-interface-wrap" class="nav-footer-link" aria-label="GitHub Repository">
      <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true">
        <path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/>
      </svg>
      GitHub
    </a>
    <a href="https://github.com/n3b3x/hf-internal-interface-wrap/issues" class="nav-footer-link" aria-label="Report Issues">
      <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true">
        <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/>
      </svg>
      Issues
    </a>
  </div>
</footer>

  
</div>

  
  <div class="main" id="top">
    <div id="main-header" class="main-header">
  
    

<div class="search" role="search">
  <div class="search-input-wrap">
    <input type="text" id="search-input" class="search-input" tabindex="0" placeholder="Search workflows, examples, and guides..." aria-label="Search workflows, examples, and guides..." autocomplete="off">
    <label for="search-input" class="search-label"><svg viewBox="0 0 24 24" class="search-icon"><use xlink:href="#svg-search"></use></svg></label>
  </div>
  <div id="search-results" class="search-results"></div>
</div>

  
  
  
    <nav aria-label="Auxiliary" class="aux-nav">
  <ul class="aux-nav-list">
    
      <li class="aux-nav-list-item">
        <a href="https://github.com/n3b3x/hf-internal-interface-wrap" class="site-button"
          
        >
          ğŸ“š GitHub Repository
        </a>
      </li>
    
      <li class="aux-nav-list-item">
        <a href="https://github.com/n3b3x/hf-internal-interface-wrap/issues" class="site-button"
          
        >
          ğŸ› Report Issues
        </a>
      </li>
    
      <li class="aux-nav-list-item">
        <a href="https://github.com/n3b3x/hf-internal-interface-wrap/stargazers" class="site-button"
          
        >
          â­ Star on GitHub
        </a>
      </li>
    
  </ul>
</nav>

  
</div>

    <div class="main-content-wrap">
      <nav aria-label="Breadcrumb" class="breadcrumb-nav">
  <ol class="breadcrumb-nav-list">
    <li class="breadcrumb-nav-list-item"><a href="/hf-internal-interface-wrap/development/">ğŸ”§ HardFOC Internal Interface Layer</a></li>
    <li class="breadcrumb-nav-list-item"><a href="/hf-internal-interface-wrap/development/docs/">ğŸ“š Documentation</a></li>
    <li class="breadcrumb-nav-list-item"><a href="/hf-internal-interface-wrap/development/docs/utils/">ğŸ› ï¸ Utilities</a></li>
    <li class="breadcrumb-nav-list-item"><span>ğŸ›¡ï¸ DigitalOutputGuard</span></li>
  </ol>
</nav>


      <div id="main-content" class="main-content">
        <main>
          
            <h1 id="digitaloutputguard">
  
  
    <a href="#digitaloutputguard" class="anchor-heading" aria-labelledby="digitaloutputguard"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> DigitalOutputGuard
  
  
</h1>
    
<h2 id="overview">
  
  
    <a href="#overview" class="anchor-heading" aria-labelledby="overview"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Overview
  
  
</h2>
    

<p>The <code class="language-plaintext highlighter-rouge">DigitalOutputGuard</code> class provides <strong>Resource Acquisition Is Initialization (RAII)</strong> management
for GPIO output operations.
It ensures that a GPIO pin is automatically set to active state when the guard is created and
automatically set to inactive state when the guard is destroyed,
providing safe and reliable GPIO state management.</p>
<h2 id="key-features">
  
  
    <a href="#key-features" class="anchor-heading" aria-labelledby="key-features"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Key Features
  
  
</h2>
    

<ul>
  <li><strong>RAII Pattern</strong>: Automatic GPIO state management with guaranteed cleanup</li>
  <li><strong>Exception Safety</strong>: Proper cleanup even in error scenarios</li>
  <li><strong>Flexible Interface</strong>: Supports both reference and pointer-based GPIO objects</li>
  <li><strong>Output Mode Enforcement</strong>: Automatically configures GPIO as output if needed</li>
  <li><strong>Thread Safety</strong>: Safe for use in multi-threaded environments</li>
  <li><strong>Performance Optimized</strong>: Minimal overhead for high-frequency operations</li>
</ul>
<h2 id="class-declaration">
  
  
    <a href="#class-declaration" class="anchor-heading" aria-labelledby="class-declaration"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Class Declaration
  
  
</h2>
    

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><div class="table-wrapper"><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
</pre></td><td class="rouge-code"><pre><span class="k">class</span> <span class="nc">DigitalOutputGuard</span> <span class="p">{</span>
<span class="nl">public:</span>
    <span class="c1">// Constructors</span>
    <span class="k">explicit</span> <span class="n">DigitalOutputGuard</span><span class="p">(</span><span class="n">BaseGpio</span><span class="o">&amp;</span> <span class="n">gpio</span><span class="p">,</span> <span class="kt">bool</span> <span class="n">ensure_output_mode</span> <span class="o">=</span> <span class="nb">true</span><span class="p">)</span> <span class="k">noexcept</span><span class="p">;</span>
    <span class="k">explicit</span> <span class="n">DigitalOutputGuard</span><span class="p">(</span><span class="n">BaseGpio</span><span class="o">*</span> <span class="n">gpio</span><span class="p">,</span> <span class="kt">bool</span> <span class="n">ensure_output_mode</span> <span class="o">=</span> <span class="nb">true</span><span class="p">)</span> <span class="k">noexcept</span><span class="p">;</span>
    
    <span class="c1">// Destructor</span>
    <span class="o">~</span><span class="n">DigitalOutputGuard</span><span class="p">()</span> <span class="k">noexcept</span><span class="p">;</span>
    
    <span class="c1">// Disabled copy operations</span>
    <span class="n">DigitalOutputGuard</span><span class="p">(</span><span class="k">const</span> <span class="n">DigitalOutputGuard</span><span class="o">&amp;</span><span class="p">)</span> <span class="o">=</span> <span class="k">delete</span><span class="p">;</span>
    <span class="n">DigitalOutputGuard</span><span class="o">&amp;</span> <span class="k">operator</span><span class="o">=</span><span class="p">(</span><span class="k">const</span> <span class="n">DigitalOutputGuard</span><span class="o">&amp;</span><span class="p">)</span> <span class="o">=</span> <span class="k">delete</span><span class="p">;</span>
    
    <span class="c1">// Move operations</span>
    <span class="n">DigitalOutputGuard</span><span class="p">(</span><span class="n">DigitalOutputGuard</span><span class="o">&amp;&amp;</span><span class="p">)</span> <span class="k">noexcept</span> <span class="o">=</span> <span class="k">default</span><span class="p">;</span>
    <span class="n">DigitalOutputGuard</span><span class="o">&amp;</span> <span class="k">operator</span><span class="o">=</span><span class="p">(</span><span class="n">DigitalOutputGuard</span><span class="o">&amp;&amp;</span><span class="p">)</span> <span class="k">noexcept</span> <span class="o">=</span> <span class="k">default</span><span class="p">;</span>
    
    <span class="c1">// State management</span>
    <span class="p">[[</span><span class="n">nodiscard</span><span class="p">]]</span> <span class="kt">bool</span> <span class="n">IsValid</span><span class="p">()</span> <span class="k">const</span> <span class="k">noexcept</span><span class="p">;</span>
    <span class="p">[[</span><span class="n">nodiscard</span><span class="p">]]</span> <span class="n">hf_gpio_err_t</span> <span class="n">GetLastError</span><span class="p">()</span> <span class="k">const</span> <span class="k">noexcept</span><span class="p">;</span>
    <span class="n">hf_gpio_err_t</span> <span class="n">SetActive</span><span class="p">()</span> <span class="k">noexcept</span><span class="p">;</span>
    <span class="n">hf_gpio_err_t</span> <span class="n">SetInactive</span><span class="p">()</span> <span class="k">noexcept</span><span class="p">;</span>
    <span class="p">[[</span><span class="n">nodiscard</span><span class="p">]]</span> <span class="n">hf_gpio_state_t</span> <span class="n">GetCurrentState</span><span class="p">()</span> <span class="k">const</span> <span class="k">noexcept</span><span class="p">;</span>
<span class="p">};</span>
</pre></td></tr></tbody></table></div></code></pre></div></div>
<h2 id="constructor-details">
  
  
    <a href="#constructor-details" class="anchor-heading" aria-labelledby="constructor-details"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Constructor Details
  
  
</h2>
    
<h3 id="reference-constructor">
  
  
    <a href="#reference-constructor" class="anchor-heading" aria-labelledby="reference-constructor"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Reference Constructor
  
  
</h3>
    
<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><div class="table-wrapper"><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="k">explicit</span> <span class="n">DigitalOutputGuard</span><span class="p">(</span><span class="n">BaseGpio</span><span class="o">&amp;</span> <span class="n">gpio</span><span class="p">,</span> <span class="kt">bool</span> <span class="n">ensure_output_mode</span> <span class="o">=</span> <span class="nb">true</span><span class="p">)</span> <span class="k">noexcept</span><span class="p">;</span>
</pre></td></tr></tbody></table></div></code></pre></div></div>
<ul>
  <li><strong>Parameters</strong>:
    <ul>
      <li><code class="language-plaintext highlighter-rouge">gpio</code>: Reference to the BaseGpio instance to manage</li>
      <li><code class="language-plaintext highlighter-rouge">ensure_output_mode</code>: If true, automatically switch to output mode (default: true)</li>
    </ul>
  </li>
  <li><strong>Behavior</strong>: Configures the GPIO as output (if needed) and sets it to active state</li>
</ul>
<h3 id="pointer-constructor">
  
  
    <a href="#pointer-constructor" class="anchor-heading" aria-labelledby="pointer-constructor"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Pointer Constructor
  
  
</h3>
    
<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><div class="table-wrapper"><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="k">explicit</span> <span class="n">DigitalOutputGuard</span><span class="p">(</span><span class="n">BaseGpio</span><span class="o">*</span> <span class="n">gpio</span><span class="p">,</span> <span class="kt">bool</span> <span class="n">ensure_output_mode</span> <span class="o">=</span> <span class="nb">true</span><span class="p">)</span> <span class="k">noexcept</span><span class="p">;</span>
</pre></td></tr></tbody></table></div></code></pre></div></div>
<ul>
  <li><strong>Parameters</strong>:
    <ul>
      <li><code class="language-plaintext highlighter-rouge">gpio</code>: Pointer to the BaseGpio instance to manage (must not be null)</li>
      <li><code class="language-plaintext highlighter-rouge">ensure_output_mode</code>: If true, automatically switch to output mode (default: true)</li>
    </ul>
  </li>
  <li><strong>Behavior</strong>: Same as reference constructor, but with null pointer validation</li>
</ul>
<h2 id="destructor">
  
  
    <a href="#destructor" class="anchor-heading" aria-labelledby="destructor"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Destructor
  
  
</h2>
    

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><div class="table-wrapper"><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="o">~</span><span class="n">DigitalOutputGuard</span><span class="p">()</span> <span class="k">noexcept</span><span class="p">;</span>
</pre></td></tr></tbody></table></div></code></pre></div></div>
<ul>
  <li><strong>Behavior</strong>: Automatically sets the associated GPIO to inactive state</li>
  <li><strong>Note</strong>: Does not change the pin direction to preserve configuration</li>
</ul>
<h2 id="public-methods">
  
  
    <a href="#public-methods" class="anchor-heading" aria-labelledby="public-methods"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Public Methods
  
  
</h2>
    
<h3 id="state-validation">
  
  
    <a href="#state-validation" class="anchor-heading" aria-labelledby="state-validation"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> State Validation
  
  
</h3>
    
<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><div class="table-wrapper"><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="p">[[</span><span class="n">nodiscard</span><span class="p">]]</span> <span class="kt">bool</span> <span class="n">IsValid</span><span class="p">()</span> <span class="k">const</span> <span class="k">noexcept</span><span class="p">;</span>
</pre></td></tr></tbody></table></div></code></pre></div></div>
<ul>
  <li><strong>Returns</strong>: <code class="language-plaintext highlighter-rouge">true</code> if the guard was successfully initialized, <code class="language-plaintext highlighter-rouge">false</code> otherwise</li>
  <li><strong>Use Case</strong>: Check if the guard is in a valid state before use</li>
</ul>
<h3 id="error-handling">
  
  
    <a href="#error-handling" class="anchor-heading" aria-labelledby="error-handling"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Error Handling
  
  
</h3>
    
<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><div class="table-wrapper"><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="p">[[</span><span class="n">nodiscard</span><span class="p">]]</span> <span class="n">hf_gpio_err_t</span> <span class="n">GetLastError</span><span class="p">()</span> <span class="k">const</span> <span class="k">noexcept</span><span class="p">;</span>
</pre></td></tr></tbody></table></div></code></pre></div></div>
<ul>
  <li><strong>Returns</strong>: The last error code from guard operations</li>
  <li><strong>Use Case</strong>: Diagnose initialization or operation failures</li>
</ul>
<h3 id="manual-state-control">
  
  
    <a href="#manual-state-control" class="anchor-heading" aria-labelledby="manual-state-control"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Manual State Control
  
  
</h3>
    
<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><div class="table-wrapper"><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td><td class="rouge-code"><pre><span class="n">hf_gpio_err_t</span> <span class="n">SetActive</span><span class="p">()</span> <span class="k">noexcept</span><span class="p">;</span>
<span class="n">hf_gpio_err_t</span> <span class="n">SetInactive</span><span class="p">()</span> <span class="k">noexcept</span><span class="p">;</span>
</pre></td></tr></tbody></table></div></code></pre></div></div>
<ul>
  <li><strong>Returns</strong>: <code class="language-plaintext highlighter-rouge">hf_gpio_err_t::GPIO_SUCCESS</code> if successful, error code otherwise</li>
  <li><strong>Use Case</strong>: Manual control while the guard is active</li>
  <li><strong>Note</strong>: The destructor will still set the pin inactive when the guard goes out of scope</li>
</ul>
<h3 id="state-query">
  
  
    <a href="#state-query" class="anchor-heading" aria-labelledby="state-query"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> State Query
  
  
</h3>
    
<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><div class="table-wrapper"><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="p">[[</span><span class="n">nodiscard</span><span class="p">]]</span> <span class="n">hf_gpio_state_t</span> <span class="n">GetCurrentState</span><span class="p">()</span> <span class="k">const</span> <span class="k">noexcept</span><span class="p">;</span>
</pre></td></tr></tbody></table></div></code></pre></div></div>
<ul>
  <li><strong>Returns</strong>: Current GPIO state (Active or Inactive)</li>
  <li><strong>Use Case</strong>: Check the current state of the managed GPIO</li>
</ul>
<h2 id="usage-examples">
  
  
    <a href="#usage-examples" class="anchor-heading" aria-labelledby="usage-examples"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Usage Examples
  
  
</h2>
    
<h3 id="basic-raii-usage">
  
  
    <a href="#basic-raii-usage" class="anchor-heading" aria-labelledby="basic-raii-usage"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Basic RAII Usage
  
  
</h3>
    
<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><div class="table-wrapper"><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
</pre></td><td class="rouge-code"><pre><span class="c1">// GPIO will be set active when guard is created</span>
<span class="p">{</span>
    <span class="n">DigitalOutputGuard</span> <span class="n">guard</span><span class="p">(</span><span class="n">my_gpio</span><span class="p">);</span>
    <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="n">guard</span><span class="p">.</span><span class="n">IsValid</span><span class="p">())</span> <span class="p">{</span>
        <span class="c1">// Handle initialization error</span>
        <span class="k">return</span><span class="p">;</span>
    <span class="p">}</span>
    
    <span class="c1">// GPIO is now active and ready for use</span>
    <span class="c1">// ... perform operations ...</span>
    
<span class="p">}</span> <span class="c1">// GPIO automatically set inactive when guard goes out of scope</span>
</pre></td></tr></tbody></table></div></code></pre></div></div>
<h3 id="manual-state-control-1">
  
  
    <a href="#manual-state-control-1" class="anchor-heading" aria-labelledby="manual-state-control-1"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Manual State Control
  
  
</h3>
    
<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><div class="table-wrapper"><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
</pre></td><td class="rouge-code"><pre><span class="n">DigitalOutputGuard</span> <span class="nf">guard</span><span class="p">(</span><span class="n">my_gpio</span><span class="p">);</span>
<span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="n">guard</span><span class="p">.</span><span class="n">IsValid</span><span class="p">())</span> <span class="p">{</span>
    <span class="k">return</span><span class="p">;</span>
<span class="p">}</span>

<span class="c1">// Manually control the GPIO state</span>
<span class="n">guard</span><span class="p">.</span><span class="n">SetInactive</span><span class="p">();</span>  <span class="c1">// Turn off</span>
<span class="c1">// ... some operations ...</span>
<span class="n">guard</span><span class="p">.</span><span class="n">SetActive</span><span class="p">();</span>    <span class="c1">// Turn back on</span>
<span class="c1">// ... more operations ...</span>

<span class="c1">// GPIO will be automatically set inactive when guard is destroyed</span>
</pre></td></tr></tbody></table></div></code></pre></div></div>
<h3 id="pointer-based-usage">
  
  
    <a href="#pointer-based-usage" class="anchor-heading" aria-labelledby="pointer-based-usage"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Pointer-based Usage
  
  
</h3>
    
<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><div class="table-wrapper"><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
</pre></td><td class="rouge-code"><pre><span class="n">EspGpio</span><span class="o">*</span> <span class="n">gpio_ptr</span> <span class="o">=</span> <span class="k">new</span> <span class="nf">EspGpio</span><span class="p">(</span><span class="n">pin</span><span class="p">,</span> <span class="n">direction</span><span class="p">,</span> <span class="n">active_state</span><span class="p">,</span> <span class="n">output_mode</span><span class="p">,</span> <span class="n">pull_mode</span><span class="p">);</span>
<span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="n">gpio_ptr</span><span class="o">-&gt;</span><span class="n">EnsureInitialized</span><span class="p">())</span> <span class="p">{</span>
    <span class="k">delete</span> <span class="n">gpio_ptr</span><span class="p">;</span>
    <span class="k">return</span><span class="p">;</span>
<span class="p">}</span>

<span class="p">{</span>
    <span class="n">DigitalOutputGuard</span> <span class="n">guard</span><span class="p">(</span><span class="n">gpio_ptr</span><span class="p">);</span>
    <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="n">guard</span><span class="p">.</span><span class="n">IsValid</span><span class="p">())</span> <span class="p">{</span>
        <span class="c1">// Handle error</span>
        <span class="k">delete</span> <span class="n">gpio_ptr</span><span class="p">;</span>
        <span class="k">return</span><span class="p">;</span>
    <span class="p">}</span>
    
    <span class="c1">// Use the GPIO through the guard</span>
    <span class="n">guard</span><span class="p">.</span><span class="n">SetActive</span><span class="p">();</span>
    <span class="c1">// ... operations ...</span>
    
<span class="p">}</span> <span class="c1">// Guard ensures GPIO is set inactive</span>

<span class="k">delete</span> <span class="n">gpio_ptr</span><span class="p">;</span>
</pre></td></tr></tbody></table></div></code></pre></div></div>
<h3 id="move-semantics">
  
  
    <a href="#move-semantics" class="anchor-heading" aria-labelledby="move-semantics"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Move Semantics
  
  
</h3>
    
<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><div class="table-wrapper"><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
</pre></td><td class="rouge-code"><pre><span class="n">DigitalOutputGuard</span> <span class="nf">guard1</span><span class="p">(</span><span class="n">my_gpio</span><span class="p">);</span>
<span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="n">guard1</span><span class="p">.</span><span class="n">IsValid</span><span class="p">())</span> <span class="p">{</span>
    <span class="k">return</span><span class="p">;</span>
<span class="p">}</span>

<span class="c1">// Move the guard to another variable</span>
<span class="n">DigitalOutputGuard</span> <span class="n">guard2</span> <span class="o">=</span> <span class="n">std</span><span class="o">::</span><span class="n">move</span><span class="p">(</span><span class="n">guard1</span><span class="p">);</span>
<span class="c1">// guard1 is now in a moved-from state</span>
<span class="c1">// guard2 now manages the GPIO</span>

<span class="c1">// Use guard2</span>
<span class="n">guard2</span><span class="p">.</span><span class="n">SetActive</span><span class="p">();</span>
</pre></td></tr></tbody></table></div></code></pre></div></div>
<h2 id="error-handling-1">
  
  
    <a href="#error-handling-1" class="anchor-heading" aria-labelledby="error-handling-1"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Error Handling
  
  
</h2>
    

<p>The DigitalOutputGuard provides comprehensive error handling:</p>
<h3 id="common-error-codes">
  
  
    <a href="#common-error-codes" class="anchor-heading" aria-labelledby="common-error-codes"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Common Error Codes
  
  
</h3>
    
<ul>
  <li><code class="language-plaintext highlighter-rouge">hf_gpio_err_t::GPIO_SUCCESS</code>: Operation successful</li>
  <li><code class="language-plaintext highlighter-rouge">hf_gpio_err_t::GPIO_ERR_NULL_POINTER</code>: Null pointer provided to constructor</li>
  <li><code class="language-plaintext highlighter-rouge">hf_gpio_err_t::GPIO_ERR_NOT_INITIALIZED</code>: GPIO not properly initialized</li>
  <li><code class="language-plaintext highlighter-rouge">hf_gpio_err_t::GPIO_ERR_DIRECTION_MISMATCH</code>: GPIO not in output mode and ensure_output_mode=false</li>
</ul>
<h3 id="error-handling-pattern">
  
  
    <a href="#error-handling-pattern" class="anchor-heading" aria-labelledby="error-handling-pattern"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Error Handling Pattern
  
  
</h3>
    
<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><div class="table-wrapper"><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
</pre></td><td class="rouge-code"><pre><span class="n">DigitalOutputGuard</span> <span class="nf">guard</span><span class="p">(</span><span class="n">my_gpio</span><span class="p">);</span>
<span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="n">guard</span><span class="p">.</span><span class="n">IsValid</span><span class="p">())</span> <span class="p">{</span>
    <span class="n">hf_gpio_err_t</span> <span class="n">error</span> <span class="o">=</span> <span class="n">guard</span><span class="p">.</span><span class="n">GetLastError</span><span class="p">();</span>
    <span class="k">switch</span> <span class="p">(</span><span class="n">error</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">case</span> <span class="n">hf_gpio_err_t</span><span class="o">::</span><span class="n">GPIO_ERR_NULL_POINTER</span><span class="p">:</span>
            <span class="n">ESP_LOGE</span><span class="p">(</span><span class="n">TAG</span><span class="p">,</span> <span class="s">"Null pointer provided"</span><span class="p">);</span>
            <span class="k">break</span><span class="p">;</span>
        <span class="k">case</span> <span class="n">hf_gpio_err_t</span><span class="o">::</span><span class="n">GPIO_ERR_NOT_INITIALIZED</span><span class="p">:</span>
            <span class="n">ESP_LOGE</span><span class="p">(</span><span class="n">TAG</span><span class="p">,</span> <span class="s">"GPIO not initialized"</span><span class="p">);</span>
            <span class="k">break</span><span class="p">;</span>
        <span class="k">case</span> <span class="n">hf_gpio_err_t</span><span class="o">::</span><span class="n">GPIO_ERR_DIRECTION_MISMATCH</span><span class="p">:</span>
            <span class="n">ESP_LOGE</span><span class="p">(</span><span class="n">TAG</span><span class="p">,</span> <span class="s">"GPIO direction mismatch"</span><span class="p">);</span>
            <span class="k">break</span><span class="p">;</span>
        <span class="nl">default:</span>
            <span class="n">ESP_LOGE</span><span class="p">(</span><span class="n">TAG</span><span class="p">,</span> <span class="s">"Unknown error: %d"</span><span class="p">,</span> <span class="k">static_cast</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span><span class="p">(</span><span class="n">error</span><span class="p">));</span>
            <span class="k">break</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="k">return</span><span class="p">;</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></div></code></pre></div></div>
<h2 id="performance-characteristics">
  
  
    <a href="#performance-characteristics" class="anchor-heading" aria-labelledby="performance-characteristics"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Performance Characteristics
  
  
</h2>
    

<p>The DigitalOutputGuard is optimized for performance:</p>

<ul>
  <li><strong>Creation/Destruction</strong>: ~2-5 Î¼s per cycle on ESP32-C6</li>
  <li><strong>State Transitions</strong>: ~1-3 Î¼s per operation on ESP32-C6</li>
  <li><strong>Memory Overhead</strong>: Minimal (4 member variables)</li>
  <li><strong>Thread Safety</strong>: Safe for concurrent access</li>
</ul>
<h2 id="thread-safety">
  
  
    <a href="#thread-safety" class="anchor-heading" aria-labelledby="thread-safety"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Thread Safety
  
  
</h2>
    

<p>The DigitalOutputGuard is thread-safe when used with thread-safe GPIO implementations:</p>

<ul>
  <li>Multiple guards can manage the same GPIO simultaneously</li>
  <li>Each guard maintains its own state independently</li>
  <li>No internal locking (relies on underlying GPIO thread safety)</li>
</ul>
<h2 id="best-practices">
  
  
    <a href="#best-practices" class="anchor-heading" aria-labelledby="best-practices"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Best Practices
  
  
</h2>
    

<ol>
  <li><strong>Always Check Validity</strong>: Use <code class="language-plaintext highlighter-rouge">IsValid()</code> before performing operations</li>
  <li><strong>Scope Management</strong>: Use braces to control guard lifetime</li>
  <li><strong>Error Handling</strong>: Check <code class="language-plaintext highlighter-rouge">GetLastError()</code> for detailed error information</li>
  <li><strong>Resource Management</strong>: Ensure GPIO objects live longer than guards</li>
  <li><strong>Move Semantics</strong>: Use move operations for efficient resource transfer</li>
</ol>
<h2 id="integration-with-hardware-types">
  
  
    <a href="#integration-with-hardware-types" class="anchor-heading" aria-labelledby="integration-with-hardware-types"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Integration with Hardware Types
  
  
</h2>
    

<p>The DigitalOutputGuard integrates seamlessly with the HardFOC hardware abstraction:</p>

<ul>
  <li>Works with any <code class="language-plaintext highlighter-rouge">BaseGpio</code> implementation</li>
  <li>Supports all GPIO directions, active states, and output modes</li>
  <li>Compatible with ESP32, STM32, and other MCU implementations</li>
  <li>Uses standard <code class="language-plaintext highlighter-rouge">hf_gpio_err_t</code> and <code class="language-plaintext highlighter-rouge">hf_gpio_state_t</code> types</li>
</ul>
<h2 id="see-also">
  
  
    <a href="#see-also" class="anchor-heading" aria-labelledby="see-also"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> See Also
  
  
</h2>
    

<ul>
  <li><a href="/hf-internal-interface-wrap/development/docs/api/BaseGpio/">BaseGpio</a> - Base GPIO interface</li>
  <li><a href="/hf-internal-interface-wrap/development/docs/esp_api/EspGpio/">EspGpio</a> - ESP32 GPIO implementation</li>
  <li><a href="/hf-internal-interface-wrap/development/docs/api/HardwareTypes/">HardwareTypes</a> - Hardware type definitions</li>
</ul>

          

          
            
          
        </main>
        

  <hr>
  <footer>
    

    <footer class="site-footer">
  <div class="site-footer-credits">
    <p>Built with â¤ï¸ using <a href="https://just-the-docs.github.io/just-the-docs/">Just the Docs</a></p>
    <p><a href="https://github.com/n3b3x/hf-internal-interface-wrap/blob/main/LICENSE">GPL v3 License</a> â€¢ <a href="https://github.com/n3b3x/hf-internal-interface-wrap">View on GitHub</a></p>
  </div>
</footer>


    
  </footer>


      </div>
    </div>
    
      
<button id="search-button" class="search-button btn-reset" aria-label="Focus on search">
  <svg viewBox="0 0 24 24" class="icon" aria-hidden="true"><use xlink:href="#svg-search"></use></svg>
</button>


<div class="search-overlay"></div>

    
  </div>

  
</body>
</html>

