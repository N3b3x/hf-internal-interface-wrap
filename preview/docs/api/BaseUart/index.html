

<!DOCTYPE html>

<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=Edge">

  <link rel="stylesheet" href="/hf-internal-interface-wrap/preview/assets/css/just-the-docs-default.css">

  <link rel="stylesheet" href="/hf-internal-interface-wrap/preview/assets/css/just-the-docs-head-nav.css" id="jtd-head-nav-stylesheet">

  <style id="jtd-nav-activation">
  

    .site-nav > ul.nav-list:first-child > li > a,
    .site-nav > ul.nav-list:first-child > li > ul > li > a,
    .site-nav > ul.nav-list:first-child > li > ul > li > ul > li > a,
    
    .site-nav > ul.nav-list:first-child > li > ul > li > ul > li > ul > li:not(:nth-child(6)) > a,
    .site-nav > ul.nav-list:first-child > li > ul > li > ul > li > ul > li > ul > li a {
      background-image: none;
    }

    .site-nav > ul.nav-list:not(:first-child) a,
    .site-nav li.external a {
      background-image: none;
    }

    .site-nav > ul.nav-list:first-child > li:nth-child(1) > ul > li:nth-child(1) > ul > li:nth-child(3) > ul > li:nth-child(6) > a {
      font-weight: 600;
      text-decoration: none;
    }.site-nav > ul.nav-list:first-child > li:nth-child(1) > button svg,
    .site-nav > ul.nav-list:first-child > li:nth-child(1) > ul > li:nth-child(1) > button svg,
    .site-nav > ul.nav-list:first-child > li:nth-child(1) > ul > li:nth-child(1) > ul > li:nth-child(3) > button svg,
    .site-nav > ul.nav-list:first-child > li:nth-child(1) > ul > li:nth-child(1) > ul > li:nth-child(3) > ul > li:nth-child(6) > button svg {
      transform: rotate(-90deg);
    }.site-nav > ul.nav-list:first-child > li.nav-list-item:nth-child(1) > ul.nav-list,
    .site-nav > ul.nav-list:first-child > li.nav-list-item:nth-child(1) > ul.nav-list > li.nav-list-item:nth-child(1) > ul.nav-list,
    .site-nav > ul.nav-list:first-child > li.nav-list-item:nth-child(1) > ul.nav-list > li.nav-list-item:nth-child(1) > ul.nav-list > li.nav-list-item:nth-child(3) > ul.nav-list,
    .site-nav > ul.nav-list:first-child > li.nav-list-item:nth-child(1) > ul.nav-list > li.nav-list-item:nth-child(1) > ul.nav-list > li.nav-list-item:nth-child(3) > ul.nav-list > li.nav-list-item:nth-child(6) > ul.nav-list {
      display: block;
    }
  </style>

  

  
    <script src="/hf-internal-interface-wrap/preview/assets/js/vendor/lunr.min.js"></script>
  

  <script src="/hf-internal-interface-wrap/preview/assets/js/just-the-docs.js"></script>

  <meta name="viewport" content="width=device-width, initial-scale=1">

  



  <!-- Begin Jekyll SEO tag v2.8.0 -->
<title>ğŸ“¡ BaseUart | HardFOC Interface Wrapper - preview</title>
<meta name="generator" content="Jekyll v3.10.0" />
<meta property="og:title" content="ğŸ“¡ BaseUart" />
<meta name="author" content="N3b3x" />
<meta property="og:locale" content="en" />
<meta name="description" content="Universal Asynchronous Receiver-Transmitter base class for serial communication" />
<meta property="og:description" content="Universal Asynchronous Receiver-Transmitter base class for serial communication" />
<link rel="canonical" href="https://n3b3x.github.io/hf-internal-interface-wrap/preview/docs/api/BaseUart/" />
<meta property="og:url" content="https://n3b3x.github.io/hf-internal-interface-wrap/preview/docs/api/BaseUart/" />
<meta property="og:site_name" content="HardFOC Interface Wrapper - preview" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="ğŸ“¡ BaseUart" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"WebPage","author":{"@type":"Person","name":"N3b3x","url":"https://github.com/n3b3x"},"description":"Universal Asynchronous Receiver-Transmitter base class for serial communication","headline":"ğŸ“¡ BaseUart","url":"https://n3b3x.github.io/hf-internal-interface-wrap/preview/docs/api/BaseUart/"}</script>
<!-- End Jekyll SEO tag -->


  <!-- Custom head content for hf-internal-interface-wrap documentation -->
<link rel="stylesheet" href="/hf-internal-interface-wrap/preview/assets/css/custom.css">
<script src="/hf-internal-interface-wrap/preview/assets/js/custom.js" defer></script>

<!-- Version selector for multi-version documentation -->
<!-- Version Selector Component for Multi-Version Documentation -->
<div class="version-selector">
  <div class="version-dropdown">
    <label for="version-select" class="version-label">
      <span class="version-icon">ğŸ“š</span>
      Version:
    </label>
    <select id="version-select" class="version-select" onchange="switchVersion(this.value)">
      <option value="latest" data-url="/hf-internal-interface-wrap/">Development (main)</option>
      <option value="v2.1.0" data-url="/hf-internal-interface-wrap/v2.1.0/">v2.1.0 (Latest Stable)</option>
      <option value="v2.0.3" data-url="/hf-internal-interface-wrap/v2.0.3/">v2.0.3 (Previous Stable)</option>
      <option value="v2.1.0-rc1" data-url="/hf-internal-interface-wrap/v2.1.0-rc1/">v2.1.0-rc1 (Release Candidate)</option>
      <option value="v1.0.0" data-url="/hf-internal-interface-wrap/v1.0.0/">v1.0.0 (Legacy)</option>
    </select>
  </div>
  
  <div class="version-info">
    <span class="current-version" id="current-version">Latest (main)</span>
    <span class="version-badge" id="version-badge">dev</span>
  </div>
</div>

<script>
// Version switching logic
function switchVersion(version) {
  const select = document.getElementById('version-select');
  const selectedOption = select.options[select.selectedIndex];
  const targetUrl = selectedOption.getAttribute('data-url');
  
  if (targetUrl) {
    // Update current page URL to new version
    const currentPath = window.location.pathname;
    const baseUrl = window.location.origin;
    
    // Extract the path after the version prefix
    let newPath = currentPath;
    if (currentPath.includes('/hf-internal-interface-wrap/')) {
      const pathParts = currentPath.split('/hf-internal-interface-wrap/');
      if (pathParts.length > 1) {
        newPath = pathParts[1];
      }
    }
    
    // Construct new URL
    const newUrl = baseUrl + targetUrl + newPath;
    window.location.href = newUrl;
  }
}

// Set current version based on URL
document.addEventListener('DOMContentLoaded', function() {
  const currentPath = window.location.pathname;
  const versionSelect = document.getElementById('version-select');
  const currentVersionSpan = document.getElementById('current-version');
  const versionBadge = document.getElementById('version-badge');
  
  // Determine current version from URL
  let currentVersion = 'latest';
  let versionType = 'dev';
  
  if (currentPath.includes('/stable/')) {
    currentVersion = 'stable';
    versionType = 'stable';
  } else if (currentPath.includes('/v1.0.0/')) {
    currentVersion = 'v1.0.0';
    versionType = 'release';
  } else if (currentPath.includes('/v0.9.0/')) {
    currentVersion = 'v0.9.0';
    versionType = 'release';
  } else if (currentPath.includes('/v0.8.0/')) {
    currentVersion = 'v0.8.0';
    versionType = 'release';
  }
  
  // Update UI
  versionSelect.value = currentVersion;
  currentVersionSpan.textContent = currentVersion === 'latest' ? 'Latest (main)' : 
                                  currentVersion === 'stable' ? 'Stable (latest release)' : 
                                  currentVersion;
  
  // Update badge
  versionBadge.textContent = versionType;
  versionBadge.className = 'version-badge ' + versionType;
});
</script>

<style>
.version-selector {
  display: flex;
  align-items: center;
  gap: 1rem;
  padding: 0.75rem 1rem;
  background: var(--nav-child-link-bg);
  border: 1px solid var(--border-color);
  border-radius: 6px;
  margin: 1rem 0;
  font-size: 0.9rem;
}

.version-dropdown {
  display: flex;
  align-items: center;
  gap: 0.5rem;
}

.version-label {
  display: flex;
  align-items: center;
  gap: 0.25rem;
  font-weight: 500;
  color: var(--body-text-color);
}

.version-icon {
  font-size: 1rem;
}

.version-select {
  padding: 0.25rem 0.5rem;
  border: 1px solid var(--border-color);
  border-radius: 4px;
  background: var(--body-bg);
  color: var(--body-text-color);
  font-size: 0.9rem;
  min-width: 150px;
}

.version-select:focus {
  outline: 2px solid var(--link-color);
  outline-offset: 2px;
}

.version-info {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  margin-left: auto;
}

.current-version {
  font-weight: 500;
  color: var(--body-text-color);
}

.version-badge {
  padding: 0.125rem 0.5rem;
  border-radius: 12px;
  font-size: 0.75rem;
  font-weight: 500;
  text-transform: uppercase;
}

.version-badge.dev {
  background: #e3f2fd;
  color: #1976d2;
  border: 1px solid #bbdefb;
}

.version-badge.stable {
  background: #e8f5e8;
  color: #2e7d32;
  border: 1px solid #c8e6c9;
}

.version-badge.release {
  background: #fff3e0;
  color: #f57c00;
  border: 1px solid #ffcc02;
}

@media (max-width: 768px) {
  .version-selector {
    flex-direction: column;
    align-items: stretch;
    gap: 0.5rem;
  }
  
  .version-info {
    margin-left: 0;
    justify-content: center;
  }
}
</style>


<!-- Version information display -->
<!-- Version Information Display Component -->
<div class="version-info-display">
  <div class="version-details">
    <span class="version-label">Version:</span>
    <span class="version-value">1.0.0-dev</span>
    <span class="version-badge version-development">development</span>
  </div>
  
  <div class="version-meta">
    <span class="branch-info">
      <span class="branch-icon">ğŸŒ¿</span>
      <span class="branch-name">main</span>
    </span>
    
    <span class="build-info">
      <span class="build-icon">ğŸ”¨</span>
      <span class="build-date">2025-09-17</span>
    </span>
  </div>
</div>

<style>
.version-info-display {
  background: var(--nav-child-link-bg);
  border: 1px solid var(--border-color);
  border-radius: 8px;
  padding: 1rem;
  margin: 1rem 0;
  font-size: 0.9rem;
  display: flex;
  justify-content: space-between;
  align-items: center;
  flex-wrap: wrap;
  gap: 0.5rem;
}

.version-details {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  flex-wrap: wrap;
}

.version-label {
  font-weight: 500;
  color: var(--body-text-color);
}

.version-value {
  font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace;
  font-weight: 600;
  color: var(--link-color);
  background: var(--code-bg);
  padding: 0.125rem 0.5rem;
  border-radius: 4px;
  border: 1px solid var(--border-color);
}

.version-badge {
  padding: 0.125rem 0.5rem;
  border-radius: 12px;
  font-size: 0.75rem;
  font-weight: 500;
  text-transform: uppercase;
  letter-spacing: 0.5px;
}

.version-badge.development {
  background: #e3f2fd;
  color: #1976d2;
  border: 1px solid #bbdefb;
}

.version-badge.stable {
  background: #e8f5e8;
  color: #2e7d32;
  border: 1px solid #c8e6c9;
}

.version-badge.release {
  background: #fff3e0;
  color: #f57c00;
  border: 1px solid #ffcc02;
}

.version-meta {
  display: flex;
  align-items: center;
  gap: 1rem;
  flex-wrap: wrap;
}

.branch-info,
.build-info {
  display: flex;
  align-items: center;
  gap: 0.25rem;
  color: var(--body-text-color);
  font-size: 0.85rem;
}

.branch-icon,
.build-icon {
  font-size: 0.9rem;
}

.branch-name {
  font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace;
  font-weight: 500;
}

.build-date {
  font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace;
  font-weight: 500;
}

@media (max-width: 768px) {
  .version-info-display {
    flex-direction: column;
    align-items: stretch;
    text-align: center;
  }
  
  .version-details,
  .version-meta {
    justify-content: center;
  }
  
  .version-meta {
    margin-top: 0.5rem;
    padding-top: 0.5rem;
    border-top: 1px solid var(--border-color);
  }
}
</style>



</head>

<body>
  <a class="skip-to-main" href="#main-content">Skip to main content</a>
  <svg xmlns="http://www.w3.org/2000/svg" class="d-none">
  <symbol id="svg-link" viewBox="0 0 24 24">
  <title>Link</title>
  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link">
    <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path>
  </svg>
</symbol>

  <symbol id="svg-menu" viewBox="0 0 24 24">
  <title>Menu</title>
  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu">
    <line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line>
  </svg>
</symbol>

  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
  <title>Expand</title>
  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right">
    <polyline points="9 18 15 12 9 6"></polyline>
  </svg>
</symbol>

  <!-- Feather. MIT License: https://github.com/feathericons/feather/blob/master/LICENSE -->
<symbol id="svg-external-link" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-external-link">
  <title id="svg-external-link-title">(external link)</title>
  <path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line>
</symbol>

  
    <symbol id="svg-doc" viewBox="0 0 24 24">
  <title>Document</title>
  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file">
    <path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline>
  </svg>
</symbol>

    <symbol id="svg-search" viewBox="0 0 24 24">
  <title>Search</title>
  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search">
    <circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line>
  </svg>
</symbol>

  
  
    <!-- Bootstrap Icons. MIT License: https://github.com/twbs/icons/blob/main/LICENSE.md -->
<symbol id="svg-copy" viewBox="0 0 16 16">
  <title>Copy</title>
  <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-clipboard" viewBox="0 0 16 16">
    <path d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1h1a1 1 0 0 1 1 1V14a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3.5a1 1 0 0 1 1-1h1v-1z"/>
    <path d="M9.5 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3zm-3-1A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3z"/>
  </svg>
</symbol>
<symbol id="svg-copied" viewBox="0 0 16 16">
  <title>Copied</title>
  <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-clipboard-check-fill" viewBox="0 0 16 16">
    <path d="M6.5 0A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3Zm3 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3Z"/>
    <path d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1A2.5 2.5 0 0 1 9.5 5h-3A2.5 2.5 0 0 1 4 2.5v-1Zm6.854 7.354-3 3a.5.5 0 0 1-.708 0l-1.5-1.5a.5.5 0 0 1 .708-.708L7.5 10.793l2.646-2.647a.5.5 0 0 1 .708.708Z"/>
  </svg>
</symbol>

  
</svg>

  
    <div class="side-bar">
  <div class="site-header" role="banner">
    <a href="/hf-internal-interface-wrap/preview/" class="site-title lh-tight">
  HardFOC Interface Wrapper - preview

</a>
    <button id="menu-button" class="site-button btn-reset" aria-label="Toggle menu" aria-pressed="false">
      <svg viewBox="0 0 24 24" class="icon" aria-hidden="true"><use xlink:href="#svg-menu"></use></svg>
    </button>
  </div>

  <nav aria-label="Main" id="site-nav" class="site-nav">
  
  
    <ul class="nav-list"><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in ğŸ”§ HardFOC Internal Interface Layer category" aria-pressed="false">
        <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg>
      </button><a href="/hf-internal-interface-wrap/preview/" class="nav-list-link">ğŸ”§ HardFOC Internal Interface Layer</a><ul class="nav-list"><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in ğŸ“š Documentation category" aria-pressed="false">
        <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg>
      </button><a href="/hf-internal-interface-wrap/preview/docs/" class="nav-list-link">ğŸ“š Documentation</a><ul class="nav-list"><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in ğŸ› ï¸ Utilities category" aria-pressed="false">
        <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg>
      </button><a href="/hf-internal-interface-wrap/preview/docs/utils/" class="nav-list-link">ğŸ› ï¸ Utilities</a><ul class="nav-list"><li class="nav-list-item"><a href="/hf-internal-interface-wrap/preview/docs/utils/DigitalOutputGuard/" class="nav-list-link">ğŸ›¡ï¸ DigitalOutputGuard</a></li><li class="nav-list-item"><a href="/hf-internal-interface-wrap/preview/docs/utils/AsciiArtGenerator/" class="nav-list-link">ğŸ¨ AsciiArtGenerator</a></li></ul></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in ğŸ”§ ESP32 Implementations category" aria-pressed="false">
        <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg>
      </button><a href="/hf-internal-interface-wrap/preview/docs/esp_api/" class="nav-list-link">ğŸ”§ ESP32 Implementations</a><ul class="nav-list"><li class="nav-list-item"><a href="/hf-internal-interface-wrap/preview/docs/esp_api/EspGpio/" class="nav-list-link">ğŸ”Œ EspGpio</a></li><li class="nav-list-item"><a href="/hf-internal-interface-wrap/preview/docs/esp_api/EspAdc/" class="nav-list-link">ğŸ“Š EspAdc</a></li><li class="nav-list-item"><a href="/hf-internal-interface-wrap/preview/docs/esp_api/EspPwm/" class="nav-list-link">ğŸ›ï¸ EspPwm</a></li><li class="nav-list-item"><a href="/hf-internal-interface-wrap/preview/docs/esp_api/EspI2c/" class="nav-list-link">ğŸ”— EspI2c</a></li><li class="nav-list-item"><a href="/hf-internal-interface-wrap/preview/docs/esp_api/EspSpi/" class="nav-list-link">ğŸ”„ EspSpi</a></li><li class="nav-list-item"><a href="/hf-internal-interface-wrap/preview/docs/esp_api/EspUart/" class="nav-list-link">ğŸ“¡ EspUart</a></li><li class="nav-list-item"><a href="/hf-internal-interface-wrap/preview/docs/esp_api/EspCan/" class="nav-list-link">ğŸšŒ EspCan</a></li><li class="nav-list-item"><a href="/hf-internal-interface-wrap/preview/docs/esp_api/EspWifi/" class="nav-list-link">ğŸ“¶ EspWifi</a></li><li class="nav-list-item"><a href="/hf-internal-interface-wrap/preview/docs/esp_api/EspBluetooth/" class="nav-list-link">ğŸ“² EspBluetooth</a></li><li class="nav-list-item"><a href="/hf-internal-interface-wrap/preview/docs/esp_api/EspNvs/" class="nav-list-link">ğŸ’¾ EspNvs</a></li><li class="nav-list-item"><a href="/hf-internal-interface-wrap/preview/docs/esp_api/EspLogger/" class="nav-list-link">ğŸ“ EspLogger</a></li><li class="nav-list-item"><a href="/hf-internal-interface-wrap/preview/docs/esp_api/EspPeriodicTimer/" class="nav-list-link">â° EspPeriodicTimer</a></li><li class="nav-list-item"><a href="/hf-internal-interface-wrap/preview/docs/esp_api/EspPio/" class="nav-list-link">ğŸ›ï¸ EspPio</a></li><li class="nav-list-item"><a href="/hf-internal-interface-wrap/preview/docs/esp_api/EspTemperature/" class="nav-list-link">ğŸŒ¡ï¸ EspTemperature</a></li></ul></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in ğŸ“‹ API Reference category" aria-pressed="false">
        <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg>
      </button><a href="/hf-internal-interface-wrap/preview/docs/api/" class="nav-list-link">ğŸ“‹ API Reference</a><ul class="nav-list"><li class="nav-list-item"><a href="/hf-internal-interface-wrap/preview/docs/api/BaseGpio/" class="nav-list-link">ğŸ”Œ BaseGpio</a></li><li class="nav-list-item"><a href="/hf-internal-interface-wrap/preview/docs/api/BaseAdc/" class="nav-list-link">ğŸ“Š BaseAdc</a></li><li class="nav-list-item"><a href="/hf-internal-interface-wrap/preview/docs/api/BasePwm/" class="nav-list-link">ğŸ›ï¸ BasePwm</a></li><li class="nav-list-item"><a href="/hf-internal-interface-wrap/preview/docs/api/BaseI2c/" class="nav-list-link">ğŸ”— BaseI2c</a></li><li class="nav-list-item"><a href="/hf-internal-interface-wrap/preview/docs/api/BaseSpi/" class="nav-list-link">ğŸ”„ BaseSpi</a></li><li class="nav-list-item"><a href="/hf-internal-interface-wrap/preview/docs/api/BaseUart/" class="nav-list-link">ğŸ“¡ BaseUart</a></li><li class="nav-list-item"><a href="/hf-internal-interface-wrap/preview/docs/api/BaseCan/" class="nav-list-link">ğŸšŒ BaseCan</a></li><li class="nav-list-item"><a href="/hf-internal-interface-wrap/preview/docs/api/BaseWifi/" class="nav-list-link">ğŸ“¶ BaseWifi</a></li><li class="nav-list-item"><a href="/hf-internal-interface-wrap/preview/docs/api/BaseBluetooth/" class="nav-list-link">ğŸ“² BaseBluetooth</a></li><li class="nav-list-item"><a href="/hf-internal-interface-wrap/preview/docs/api/BaseNvs/" class="nav-list-link">ğŸ’¾ BaseNvs</a></li><li class="nav-list-item"><a href="/hf-internal-interface-wrap/preview/docs/api/BaseLogger/" class="nav-list-link">ğŸ“ BaseLogger</a></li><li class="nav-list-item"><a href="/hf-internal-interface-wrap/preview/docs/api/BasePeriodicTimer/" class="nav-list-link">â° BasePeriodicTimer</a></li><li class="nav-list-item"><a href="/hf-internal-interface-wrap/preview/docs/api/BasePio/" class="nav-list-link">ğŸ›ï¸ BasePio</a></li><li class="nav-list-item"><a href="/hf-internal-interface-wrap/preview/docs/api/BaseTemperature/" class="nav-list-link">ğŸŒ¡ï¸ BaseTemperature</a></li><li class="nav-list-item"><a href="/hf-internal-interface-wrap/preview/docs/api/HardwareTypes/" class="nav-list-link">ğŸ”§ HardwareTypes</a></li></ul></li></ul></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in ğŸš€ ESP32 Examples category" aria-pressed="false">
        <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg>
      </button><a href="/hf-internal-interface-wrap/preview/examples/esp32/" class="nav-list-link">ğŸš€ ESP32 Examples</a><ul class="nav-list"><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in ğŸ§ª Test Documentation category" aria-pressed="false">
        <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg>
      </button><a href="/hf-internal-interface-wrap/preview/examples/esp32/docs/" class="nav-list-link">ğŸ§ª Test Documentation</a><ul class="nav-list"><li class="nav-list-item"><a href="/hf-internal-interface-wrap/preview/examples/esp32/docs/gpio_test/" class="nav-list-link">ğŸ§ª GPIO Test</a></li><li class="nav-list-item"><a href="/hf-internal-interface-wrap/preview/examples/esp32/docs/adc_test/" class="nav-list-link">ğŸ§ª ADC Test</a></li><li class="nav-list-item"><a href="/hf-internal-interface-wrap/preview/examples/esp32/docs/pwm_test/" class="nav-list-link">ğŸ§ª PWM Test</a></li><li class="nav-list-item"><a href="/hf-internal-interface-wrap/preview/examples/esp32/docs/pio_test/" class="nav-list-link">ğŸ§ª PIO Test</a></li><li class="nav-list-item"><a href="/hf-internal-interface-wrap/preview/examples/esp32/docs/uart_test/" class="nav-list-link">ğŸ§ª UART Test</a></li><li class="nav-list-item"><a href="/hf-internal-interface-wrap/preview/examples/esp32/docs/spi_test/" class="nav-list-link">ğŸ§ª SPI Test</a></li><li class="nav-list-item"><a href="/hf-internal-interface-wrap/preview/examples/esp32/docs/i2c_test/" class="nav-list-link">ğŸ§ª I2C Test</a></li><li class="nav-list-item"><a href="/hf-internal-interface-wrap/preview/examples/esp32/docs/can_test/" class="nav-list-link">ğŸ§ª CAN Test</a></li><li class="nav-list-item"><a href="/hf-internal-interface-wrap/preview/examples/esp32/docs/wifi_test/" class="nav-list-link">ğŸ§ª WiFi Test</a></li><li class="nav-list-item"><a href="/hf-internal-interface-wrap/preview/examples/esp32/docs/nvs_test/" class="nav-list-link">ğŸ§ª NVS Test</a></li><li class="nav-list-item"><a href="/hf-internal-interface-wrap/preview/examples/esp32/docs/temperature_test/" class="nav-list-link">ğŸ§ª Temperature Test</a></li><li class="nav-list-item"><a href="/hf-internal-interface-wrap/preview/examples/esp32/docs/logger_test/" class="nav-list-link">ğŸ§ª Logger Test</a></li><li class="nav-list-item"><a href="/hf-internal-interface-wrap/preview/examples/esp32/docs/ascii_art_test/" class="nav-list-link">ğŸ§ª ASCII Art Test</a></li><li class="nav-list-item"><a href="/hf-internal-interface-wrap/preview/examples/esp32/docs/dog_test/" class="nav-list-link">ğŸ§ª DOG Test</a></li></ul></li></ul></li><li class="nav-list-item"><a href="/hf-internal-interface-wrap/preview/CONTRIBUTING/" class="nav-list-link">ğŸ¤ Contributing</a></li></ul></li><li class="nav-list-item"><a href="/hf-internal-interface-wrap/preview/features/" class="nav-list-link">ğŸš€ Features</a></li><li class="nav-list-item"><a href="/hf-internal-interface-wrap/preview/docs/doxygen-extensions.html" class="nav-list-link">ğŸ“– Doxygen Extensions</a></li></ul>
  
</nav>




  
  
    <footer class="site-nav-footer">
  <div class="nav-footer-links">
    <a href="https://github.com/n3b3x/hf-internal-interface-wrap" class="nav-footer-link" aria-label="GitHub Repository">
      <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true">
        <path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/>
      </svg>
      GitHub
    </a>
    <a href="https://github.com/n3b3x/hf-internal-interface-wrap/issues" class="nav-footer-link" aria-label="Report Issues">
      <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true">
        <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/>
      </svg>
      Issues
    </a>
  </div>
</footer>

  
</div>

  
  <div class="main" id="top">
    <div id="main-header" class="main-header">
  
    

<div class="search" role="search">
  <div class="search-input-wrap">
    <input type="text" id="search-input" class="search-input" tabindex="0" placeholder="Search workflows, examples, and guides..." aria-label="Search workflows, examples, and guides..." autocomplete="off">
    <label for="search-input" class="search-label"><svg viewBox="0 0 24 24" class="search-icon"><use xlink:href="#svg-search"></use></svg></label>
  </div>
  <div id="search-results" class="search-results"></div>
</div>

  
  
  
    <nav aria-label="Auxiliary" class="aux-nav">
  <ul class="aux-nav-list">
    
      <li class="aux-nav-list-item">
        <a href="https://github.com/n3b3x/hf-internal-interface-wrap" class="site-button"
          
        >
          ğŸ“š GitHub Repository
        </a>
      </li>
    
      <li class="aux-nav-list-item">
        <a href="https://github.com/n3b3x/hf-internal-interface-wrap/issues" class="site-button"
          
        >
          ğŸ› Report Issues
        </a>
      </li>
    
      <li class="aux-nav-list-item">
        <a href="https://github.com/n3b3x/hf-internal-interface-wrap/stargazers" class="site-button"
          
        >
          â­ Star on GitHub
        </a>
      </li>
    
      <li class="aux-nav-list-item">
        <a href="/hf-internal-interface-wrap/api/index.html" class="site-button"
          
        >
          ğŸ“– API Reference
        </a>
      </li>
    
  </ul>
</nav>

  
</div>

    <div class="main-content-wrap">
      <nav aria-label="Breadcrumb" class="breadcrumb-nav">
  <ol class="breadcrumb-nav-list">
    <li class="breadcrumb-nav-list-item"><a href="/hf-internal-interface-wrap/preview/">ğŸ”§ HardFOC Internal Interface Layer</a></li>
    <li class="breadcrumb-nav-list-item"><a href="/hf-internal-interface-wrap/preview/docs/">ğŸ“š Documentation</a></li>
    <li class="breadcrumb-nav-list-item"><a href="/hf-internal-interface-wrap/preview/docs/api/">ğŸ“‹ API Reference</a></li>
    <li class="breadcrumb-nav-list-item"><span>ğŸ“¡ BaseUart</span></li>
  </ol>
</nav>


      <div id="main-content" class="main-content">
        <main>
          
            <h1 id="-baseuart-api-reference">
  
  
    <a href="#-baseuart-api-reference" class="anchor-heading" aria-labelledby="-baseuart-api-reference"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> ğŸ“¡ BaseUart API Reference
  
  
</h1>
    
<p><strong>ğŸ“¡ Unified UART abstraction for serial communication</strong></p>
<h2 id="-table-of-contents">
  
  
    <a href="#-table-of-contents" class="anchor-heading" aria-labelledby="-table-of-contents"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> ğŸ“š <strong>Table of Contents</strong>
  
  
</h2>
    

<ul>
  <li><a href="#-overview">ğŸ¯ <strong>Overview</strong></a></li>
  <li><a href="#-class-hierarchy">ğŸ—ï¸ <strong>Class Hierarchy</strong></a></li>
  <li><a href="#-error-codes">ğŸ“‹ <strong>Error Codes</strong></a></li>
  <li><a href="#-core-api">ğŸ”§ <strong>Core API</strong></a></li>
  <li><a href="#-data-structures">ğŸ“Š <strong>Data Structures</strong></a></li>
  <li><a href="#-usage-examples">ğŸ“Š <strong>Usage Examples</strong></a></li>
  <li><a href="#-best-practices">ğŸ§ª <strong>Best Practices</strong></a></li>
</ul><hr />
<h2 id="-overview">
  
  
    <a href="#-overview" class="anchor-heading" aria-labelledby="-overview"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> ğŸ¯ <strong>Overview</strong>
  
  
</h2>
    

<p>The <code class="language-plaintext highlighter-rouge">BaseUart</code> class provides a comprehensive UART abstraction that serves as the unified interface
for all Universal Asynchronous Receiver-Transmitter operations in the HardFOC system.
It supports configurable baud rates, data formats, and flow control.</p>
<h3 id="-key-features">
  
  
    <a href="#-key-features" class="anchor-heading" aria-labelledby="-key-features"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> âœ¨ <strong>Key Features</strong>
  
  
</h3>
    

<ul>
  <li>ğŸ“¡ <strong>Configurable Baud Rates</strong> - Support for standard and custom baud rates</li>
  <li>ğŸ”§ <strong>Flexible Data Formats</strong> - Configurable data bits, stop bits, and parity</li>
  <li>ğŸ”„ <strong>Flow Control</strong> - Hardware and software flow control support</li>
  <li>ğŸ“Š <strong>DMA Support</strong> - Hardware-accelerated data transfer</li>
  <li>ğŸ›¡ï¸ <strong>Robust Error Handling</strong> - Comprehensive validation and error reporting</li>
  <li>ğŸï¸ <strong>Performance Optimized</strong> - Minimal overhead for critical applications</li>
  <li>ğŸ”Œ <strong>Platform Agnostic</strong> - Works with various UART hardware implementations</li>
  <li>ğŸ“ˆ <strong>Real-time Control</strong> - Low-latency communication for time-critical applications</li>
</ul>
<h3 id="-supported-applications">
  
  
    <a href="#-supported-applications" class="anchor-heading" aria-labelledby="-supported-applications"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> ğŸ“¡ <strong>Supported Applications</strong>
  
  
</h3>
    

<div class="table-wrapper"><table>
  <tbody>
    <tr>
      <td>Application</td>
      <td>Baud Rate</td>
      <td>Description</td>
    </tr>
  </tbody>
</table></div>

<p>|â€”â€”â€”â€”-|â€”â€”â€”â€“|â€”â€”â€”â€”-|</p>

<div class="table-wrapper"><table>
  <tbody>
    <tr>
      <td><strong>Debug Output</strong></td>
      <td>115200</td>
      <td>Serial console and debugging</td>
    </tr>
  </tbody>
</table></div>

<div class="table-wrapper"><table>
  <tbody>
    <tr>
      <td><strong>GPS Communication</strong></td>
      <td>9600</td>
      <td>GPS module communication</td>
    </tr>
  </tbody>
</table></div>

<div class="table-wrapper"><table>
  <tbody>
    <tr>
      <td><strong>Bluetooth</strong></td>
      <td>115200</td>
      <td>Bluetooth module communication</td>
    </tr>
  </tbody>
</table></div>

<div class="table-wrapper"><table>
  <tbody>
    <tr>
      <td><strong>Modbus RTU</strong></td>
      <td>9600-115200</td>
      <td>Industrial protocol communication</td>
    </tr>
  </tbody>
</table></div>

<div class="table-wrapper"><table>
  <tbody>
    <tr>
      <td><strong>Sensor Communication</strong></td>
      <td>9600-115200</td>
      <td>Sensor data exchange</td>
    </tr>
  </tbody>
</table></div><hr />
<h2 id="ï¸-class-hierarchy">
  
  
    <a href="#ï¸-class-hierarchy" class="anchor-heading" aria-labelledby="ï¸-class-hierarchy"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> ğŸ—ï¸ <strong>Class Hierarchy</strong>
  
  
</h2>
    

<pre><code class="language-mermaid">classDiagram
    class BaseUart {
        &lt;&lt;abstract&gt;&gt;
        +Initialize() hf_uart_err_t
        +Deinitialize() hf_uart_err_t
        +Configure(config) hf_uart_err_t
        +Transmit(data, length) hf_uart_err_t
        +Receive(data, length) hf_uart_err_t
        +GetStatus(status) hf_uart_err_t
        +GetCapabilities(capabilities) hf_uart_err_t
    }
    
    class EspUart {
        +EspUart(port)
        +GetPort() uart_port_t
        +GetTxPin() hf_pin_num_t
        +GetRxPin() hf_pin_num_t
    }
    
    BaseUart &lt;|-- EspUart
</code></pre><hr />
<h2 id="-error-codes">
  
  
    <a href="#-error-codes" class="anchor-heading" aria-labelledby="-error-codes"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> ğŸ“‹ <strong>Error Codes</strong>
  
  
</h2>
    
<h3 id="-success-codes">
  
  
    <a href="#-success-codes" class="anchor-heading" aria-labelledby="-success-codes"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> âœ… <strong>Success Codes</strong>
  
  
</h3>
    

<div class="table-wrapper"><table>
  <tbody>
    <tr>
      <td>Code</td>
      <td>Value</td>
      <td>Description</td>
    </tr>
  </tbody>
</table></div>

<p>|â€”â€”|â€”â€”-|â€”â€”â€”â€”-|</p>

<div class="table-wrapper"><table>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">UART_SUCCESS</code></td>
      <td>0</td>
      <td>âœ… Operation completed successfully</td>
    </tr>
  </tbody>
</table></div>
<h3 id="-general-error-codes">
  
  
    <a href="#-general-error-codes" class="anchor-heading" aria-labelledby="-general-error-codes"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> âŒ <strong>General Error Codes</strong>
  
  
</h3>
    

<div class="table-wrapper"><table>
  <tbody>
    <tr>
      <td>Code</td>
      <td>Value</td>
      <td>Description</td>
      <td>Resolution</td>
    </tr>
  </tbody>
</table></div>

<p>|â€”â€”|â€”â€”-|â€”â€”â€”â€”-|â€”â€”â€”â€”|</p>

<div class="table-wrapper"><table>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">UART_ERR_FAILURE</code></td>
      <td>1</td>
      <td>âŒ General operation failure</td>
      <td>Check hardware and configuration</td>
    </tr>
  </tbody>
</table></div>

<div class="table-wrapper"><table>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">UART_ERR_NOT_INITIALIZED</code></td>
      <td>2</td>
      <td>âš ï¸ UART not initialized</td>
      <td>Call Initialize() first</td>
    </tr>
  </tbody>
</table></div>

<div class="table-wrapper"><table>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">UART_ERR_ALREADY_INITIALIZED</code></td>
      <td>3</td>
      <td>âš ï¸ UART already initialized</td>
      <td>Check initialization state</td>
    </tr>
  </tbody>
</table></div>

<div class="table-wrapper"><table>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">UART_ERR_INVALID_PARAMETER</code></td>
      <td>4</td>
      <td>ğŸš« Invalid parameter</td>
      <td>Validate input parameters</td>
    </tr>
  </tbody>
</table></div>

<div class="table-wrapper"><table>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">UART_ERR_NULL_POINTER</code></td>
      <td>5</td>
      <td>ğŸš« Null pointer provided</td>
      <td>Check pointer validity</td>
    </tr>
  </tbody>
</table></div>

<div class="table-wrapper"><table>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">UART_ERR_OUT_OF_MEMORY</code></td>
      <td>6</td>
      <td>ğŸ’¾ Memory allocation failed</td>
      <td>Check system memory</td>
    </tr>
  </tbody>
</table></div>
<h3 id="-communication-error-codes">
  
  
    <a href="#-communication-error-codes" class="anchor-heading" aria-labelledby="-communication-error-codes"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> ğŸ“¡ <strong>Communication Error Codes</strong>
  
  
</h3>
    

<div class="table-wrapper"><table>
  <tbody>
    <tr>
      <td>Code</td>
      <td>Value</td>
      <td>Description</td>
      <td>Resolution</td>
    </tr>
  </tbody>
</table></div>

<p>|â€”â€”|â€”â€”-|â€”â€”â€”â€”-|â€”â€”â€”â€”|</p>

<div class="table-wrapper"><table>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">UART_ERR_TRANSMIT_TIMEOUT</code></td>
      <td>7</td>
      <td>â° Transmit timeout</td>
      <td>Check baud rate and flow control</td>
    </tr>
  </tbody>
</table></div>

<div class="table-wrapper"><table>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">UART_ERR_RECEIVE_TIMEOUT</code></td>
      <td>8</td>
      <td>â° Receive timeout</td>
      <td>Check data source and timing</td>
    </tr>
  </tbody>
</table></div>

<div class="table-wrapper"><table>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">UART_ERR_TRANSMIT_FAILURE</code></td>
      <td>9</td>
      <td>âŒ Transmit failed</td>
      <td>Check connections and device state</td>
    </tr>
  </tbody>
</table></div>

<div class="table-wrapper"><table>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">UART_ERR_RECEIVE_FAILURE</code></td>
      <td>10</td>
      <td>âŒ Receive failed</td>
      <td>Check connections and device state</td>
    </tr>
  </tbody>
</table></div>

<div class="table-wrapper"><table>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">UART_ERR_FRAME_ERROR</code></td>
      <td>11</td>
      <td>ğŸ“Š Frame error</td>
      <td>Check baud rate and data format</td>
    </tr>
  </tbody>
</table></div>

<div class="table-wrapper"><table>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">UART_ERR_PARITY_ERROR</code></td>
      <td>12</td>
      <td>ğŸ” Parity error</td>
      <td>Check parity settings</td>
    </tr>
  </tbody>
</table></div>
<h3 id="ï¸-configuration-error-codes">
  
  
    <a href="#ï¸-configuration-error-codes" class="anchor-heading" aria-labelledby="ï¸-configuration-error-codes"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> âš™ï¸ <strong>Configuration Error Codes</strong>
  
  
</h3>
    

<div class="table-wrapper"><table>
  <tbody>
    <tr>
      <td>Code</td>
      <td>Value</td>
      <td>Description</td>
      <td>Resolution</td>
    </tr>
  </tbody>
</table></div>

<p>|â€”â€”|â€”â€”-|â€”â€”â€”â€”-|â€”â€”â€”â€”|</p>

<div class="table-wrapper"><table>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">UART_ERR_INVALID_CONFIGURATION</code></td>
      <td>13</td>
      <td>âš™ï¸ Invalid configuration</td>
      <td>Check configuration parameters</td>
    </tr>
  </tbody>
</table></div>

<div class="table-wrapper"><table>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">UART_ERR_UNSUPPORTED_BAUD_RATE</code></td>
      <td>14</td>
      <td>ğŸš« Unsupported baud rate</td>
      <td>Use supported baud rate</td>
    </tr>
  </tbody>
</table></div>

<div class="table-wrapper"><table>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">UART_ERR_UNSUPPORTED_DATA_FORMAT</code></td>
      <td>15</td>
      <td>ğŸš« Unsupported data format</td>
      <td>Use supported format</td>
    </tr>
  </tbody>
</table></div>

<div class="table-wrapper"><table>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">UART_ERR_PIN_CONFLICT</code></td>
      <td>16</td>
      <td>ğŸ”Œ Pin already in use</td>
      <td>Use different pins</td>
    </tr>
  </tbody>
</table></div>

<div class="table-wrapper"><table>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">UART_ERR_RESOURCE_BUSY</code></td>
      <td>17</td>
      <td>ğŸ”„ Resource busy</td>
      <td>Wait for resource availability</td>
    </tr>
  </tbody>
</table></div>
<h3 id="-hardware-error-codes">
  
  
    <a href="#-hardware-error-codes" class="anchor-heading" aria-labelledby="-hardware-error-codes"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> ğŸŒ <strong>Hardware Error Codes</strong>
  
  
</h3>
    

<div class="table-wrapper"><table>
  <tbody>
    <tr>
      <td>Code</td>
      <td>Value</td>
      <td>Description</td>
      <td>Resolution</td>
    </tr>
  </tbody>
</table></div>

<p>|â€”â€”|â€”â€”-|â€”â€”â€”â€”-|â€”â€”â€”â€”|</p>

<div class="table-wrapper"><table>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">UART_ERR_HARDWARE_FAULT</code></td>
      <td>18</td>
      <td>ğŸ’¥ Hardware fault</td>
      <td>Check power and connections</td>
    </tr>
  </tbody>
</table></div>

<div class="table-wrapper"><table>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">UART_ERR_COMMUNICATION_FAILURE</code></td>
      <td>19</td>
      <td>ğŸ“¡ Communication failure</td>
      <td>Check bus connections</td>
    </tr>
  </tbody>
</table></div>

<div class="table-wrapper"><table>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">UART_ERR_DMA_ERROR</code></td>
      <td>20</td>
      <td>ğŸ’¾ DMA error</td>
      <td>Check DMA configuration</td>
    </tr>
  </tbody>
</table></div>

<div class="table-wrapper"><table>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">UART_ERR_BUFFER_OVERFLOW</code></td>
      <td>21</td>
      <td>ğŸ“ˆ Buffer overflow</td>
      <td>Increase buffer size</td>
    </tr>
  </tbody>
</table></div><hr />
<h2 id="-core-api">
  
  
    <a href="#-core-api" class="anchor-heading" aria-labelledby="-core-api"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> ğŸ”§ <strong>Core API</strong>
  
  
</h2>
    
<h3 id="ï¸-initialization-methods">
  
  
    <a href="#ï¸-initialization-methods" class="anchor-heading" aria-labelledby="ï¸-initialization-methods"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> ğŸ—ï¸ <strong>Initialization Methods</strong>
  
  
</h3>
    

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><div class="table-wrapper"><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
</pre></td><td class="rouge-code"><pre><span class="cm">/**
 * @brief Initialize the UART peripheral
 * @return hf_uart_err_t error code
 * 
 * ğŸ“ Sets up UART hardware, configures pins, and prepares for communication.
 * Must be called before any UART operations.
 * 
 * @example
 * EspUart uart(UART_NUM_0);
 * hf_uart_err_t result = uart.Initialize();
 * if (result == hf_uart_err_t::UART_SUCCESS) {
 *     // UART ready for use
 * }
 */</span>
<span class="k">virtual</span> <span class="n">hf_uart_err_t</span> <span class="n">Initialize</span><span class="p">()</span> <span class="k">noexcept</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>

<span class="cm">/**
 * @brief Deinitialize the UART peripheral
 * @return hf_uart_err_t error code
 * 
 * ğŸ§¹ Cleanly shuts down UART hardware and releases resources.
 */</span>
<span class="k">virtual</span> <span class="n">hf_uart_err_t</span> <span class="n">Deinitialize</span><span class="p">()</span> <span class="k">noexcept</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>

<span class="cm">/**
 * @brief Check if UART is initialized
 * @return true if initialized, false otherwise
 * 
 * â“ Query initialization status without side effects.
 */</span>
<span class="p">[[</span><span class="n">nodiscard</span><span class="p">]]</span> <span class="kt">bool</span> <span class="n">IsInitialized</span><span class="p">()</span> <span class="k">const</span> <span class="k">noexcept</span><span class="p">;</span>

<span class="cm">/**
 * @brief Ensure UART is initialized (lazy initialization)
 * @return true if initialized successfully, false otherwise
 * 
 * ğŸ”„ Automatically initializes UART if not already initialized.
 */</span>
<span class="kt">bool</span> <span class="n">EnsureInitialized</span><span class="p">()</span> <span class="k">noexcept</span><span class="p">;</span>
</pre></td></tr></tbody></table></div></code></pre></div></div>
<h3 id="ï¸-configuration-methods">
  
  
    <a href="#ï¸-configuration-methods" class="anchor-heading" aria-labelledby="ï¸-configuration-methods"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> âš™ï¸ <strong>Configuration Methods</strong>
  
  
</h3>
    

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><div class="table-wrapper"><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
</pre></td><td class="rouge-code"><pre><span class="cm">/**
 * @brief Configure UART parameters
 * @param config UART configuration structure
 * @return hf_uart_err_t error code
 * 
 * âš™ï¸ Configures UART parameters including baud rate, data format,
 * flow control, and pin assignments.
 * 
 * @example
 * hf_uart_config_t config;
 * config.baud_rate = 115200;
 * config.data_bits = hf_uart_data_bits_t::DATA_8BIT;
 * config.stop_bits = hf_uart_stop_bits_t::STOP_1BIT;
 * config.parity = hf_uart_parity_t::PARITY_NONE;
 * config.flow_control = hf_uart_flow_control_t::FLOW_NONE;
 * config.tx_pin = 1;
 * config.rx_pin = 3;
 * 
 * hf_uart_err_t result = uart.Configure(config);
 */</span>
<span class="k">virtual</span> <span class="n">hf_uart_err_t</span> <span class="n">Configure</span><span class="p">(</span><span class="k">const</span> <span class="n">hf_uart_config_t</span> <span class="o">&amp;</span><span class="n">config</span><span class="p">)</span> <span class="k">noexcept</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>

<span class="cm">/**
 * @brief Get current UART configuration
 * @param config [out] Current configuration structure
 * @return hf_uart_err_t error code
 * 
 * ğŸ“Š Retrieves the current UART configuration.
 */</span>
<span class="k">virtual</span> <span class="n">hf_uart_err_t</span> <span class="n">GetConfiguration</span><span class="p">(</span><span class="n">hf_uart_config_t</span> <span class="o">&amp;</span><span class="n">config</span><span class="p">)</span> <span class="k">const</span> <span class="k">noexcept</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
</pre></td></tr></tbody></table></div></code></pre></div></div>
<h3 id="-transmission-methods">
  
  
    <a href="#-transmission-methods" class="anchor-heading" aria-labelledby="-transmission-methods"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> ğŸ“¤ <strong>Transmission Methods</strong>
  
  
</h3>
    

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><div class="table-wrapper"><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
</pre></td><td class="rouge-code"><pre><span class="cm">/**
 * @brief Transmit data
 * @param data Data buffer to transmit
 * @param length Number of bytes to transmit
 * @return hf_uart_err_t error code
 * 
 * ğŸ“¤ Transmits data over UART. Blocks until transmission is complete
 * or timeout occurs.
 * 
 * @example
 * const char* message = "Hello, World!\r\n";
 * hf_uart_err_t result = uart.Transmit(
 *     reinterpret_cast&lt;const uint8_t*&gt;(message), strlen(message));
 * if (result == hf_uart_err_t::UART_SUCCESS) {
 *     printf("âœ… Message transmitted\n");
 * }
 */</span>
<span class="k">virtual</span> <span class="n">hf_uart_err_t</span> <span class="n">Transmit</span><span class="p">(</span><span class="k">const</span> <span class="kt">uint8_t</span> <span class="o">*</span><span class="n">data</span><span class="p">,</span> <span class="kt">size_t</span> <span class="n">length</span><span class="p">)</span> <span class="k">noexcept</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>

<span class="cm">/**
 * @brief Transmit data with timeout
 * @param data Data buffer to transmit
 * @param length Number of bytes to transmit
 * @param timeout_ms Timeout in milliseconds
 * @return hf_uart_err_t error code
 * 
 * ğŸ“¤ Transmits data with specified timeout.
 */</span>
<span class="k">virtual</span> <span class="n">hf_uart_err_t</span> <span class="n">Transmit</span><span class="p">(</span><span class="k">const</span> <span class="kt">uint8_t</span> <span class="o">*</span><span class="n">data</span><span class="p">,</span> <span class="kt">size_t</span> <span class="n">length</span><span class="p">,</span> 
                              <span class="kt">uint32_t</span> <span class="n">timeout_ms</span><span class="p">)</span> <span class="k">noexcept</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>

<span class="cm">/**
 * @brief Get number of bytes available for transmission
 * @return Number of bytes that can be transmitted
 * 
 * ğŸ“Š Returns the number of bytes that can be transmitted without blocking.
 */</span>
<span class="k">virtual</span> <span class="kt">size_t</span> <span class="n">GetTransmitSpace</span><span class="p">()</span> <span class="k">const</span> <span class="k">noexcept</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
</pre></td></tr></tbody></table></div></code></pre></div></div>
<h3 id="-reception-methods">
  
  
    <a href="#-reception-methods" class="anchor-heading" aria-labelledby="-reception-methods"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> ğŸ“¥ <strong>Reception Methods</strong>
  
  
</h3>
    

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><div class="table-wrapper"><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
</pre></td><td class="rouge-code"><pre><span class="cm">/**
 * @brief Receive data
 * @param data Buffer to store received data
 * @param length Number of bytes to receive
 * @return hf_uart_err_t error code
 * 
 * ğŸ“¥ Receives data from UART. Blocks until requested number of bytes
 * is received or timeout occurs.
 * 
 * @example
 * uint8_t buffer[64];
 * hf_uart_err_t result = uart.Receive(buffer, 64);
 * if (result == hf_uart_err_t::UART_SUCCESS) {
 *     printf("ğŸ“¥ Received %zu bytes\n", 64);
 * }
 */</span>
<span class="k">virtual</span> <span class="n">hf_uart_err_t</span> <span class="n">Receive</span><span class="p">(</span><span class="kt">uint8_t</span> <span class="o">*</span><span class="n">data</span><span class="p">,</span> <span class="kt">size_t</span> <span class="n">length</span><span class="p">)</span> <span class="k">noexcept</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>

<span class="cm">/**
 * @brief Receive data with timeout
 * @param data Buffer to store received data
 * @param length Number of bytes to receive
 * @param timeout_ms Timeout in milliseconds
 * @return hf_uart_err_t error code
 * 
 * ğŸ“¥ Receives data with specified timeout.
 */</span>
<span class="k">virtual</span> <span class="n">hf_uart_err_t</span> <span class="n">Receive</span><span class="p">(</span><span class="kt">uint8_t</span> <span class="o">*</span><span class="n">data</span><span class="p">,</span> <span class="kt">size_t</span> <span class="n">length</span><span class="p">,</span> 
                             <span class="kt">uint32_t</span> <span class="n">timeout_ms</span><span class="p">)</span> <span class="k">noexcept</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>

<span class="cm">/**
 * @brief Get number of bytes available for reception
 * @return Number of bytes available to receive
 * 
 * ğŸ“Š Returns the number of bytes available to receive without blocking.
 */</span>
<span class="k">virtual</span> <span class="kt">size_t</span> <span class="n">GetReceiveSpace</span><span class="p">()</span> <span class="k">const</span> <span class="k">noexcept</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>

<span class="cm">/**
 * @brief Flush receive buffer
 * @return hf_uart_err_t error code
 * 
 * ğŸ§¹ Clears all data in the receive buffer.
 */</span>
<span class="k">virtual</span> <span class="n">hf_uart_err_t</span> <span class="n">FlushReceive</span><span class="p">()</span> <span class="k">noexcept</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
</pre></td></tr></tbody></table></div></code></pre></div></div>
<h3 id="-status-and-capabilities">
  
  
    <a href="#-status-and-capabilities" class="anchor-heading" aria-labelledby="-status-and-capabilities"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> ğŸ“Š <strong>Status and Capabilities</strong>
  
  
</h3>
    

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><div class="table-wrapper"><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
</pre></td><td class="rouge-code"><pre><span class="cm">/**
 * @brief Get UART status information
 * @param status [out] Status information structure
 * @return hf_uart_err_t error code
 * 
 * ğŸ“Š Retrieves comprehensive status information about UART.
 */</span>
<span class="k">virtual</span> <span class="n">hf_uart_err_t</span> <span class="n">GetStatus</span><span class="p">(</span><span class="n">hf_uart_status_t</span> <span class="o">&amp;</span><span class="n">status</span><span class="p">)</span> <span class="k">const</span> <span class="k">noexcept</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>

<span class="cm">/**
 * @brief Get UART capabilities
 * @param capabilities [out] Capability information structure
 * @return hf_uart_err_t error code
 * 
 * ğŸ“‹ Retrieves hardware capabilities and limitations.
 */</span>
<span class="k">virtual</span> <span class="n">hf_uart_err_t</span> <span class="n">GetCapabilities</span><span class="p">(</span><span class="n">hf_uart_capabilities_t</span> <span class="o">&amp;</span><span class="n">capabilities</span><span class="p">)</span> <span class="k">const</span> <span class="k">noexcept</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
</pre></td></tr></tbody></table></div></code></pre></div></div><hr />
<h2 id="-data-structures">
  
  
    <a href="#-data-structures" class="anchor-heading" aria-labelledby="-data-structures"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> ğŸ“Š <strong>Data Structures</strong>
  
  
</h2>
    
<h3 id="ï¸-uart-configuration">
  
  
    <a href="#ï¸-uart-configuration" class="anchor-heading" aria-labelledby="ï¸-uart-configuration"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> âš™ï¸ <strong>UART Configuration</strong>
  
  
</h3>
    

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><div class="table-wrapper"><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
</pre></td><td class="rouge-code"><pre><span class="k">struct</span> <span class="nc">hf_uart_config_t</span> <span class="p">{</span>
    <span class="kt">uint32_t</span> <span class="n">baud_rate</span><span class="p">;</span>                    <span class="c1">///&lt; Baud rate in bits per second</span>
    <span class="n">hf_uart_data_bits_t</span> <span class="n">data_bits</span><span class="p">;</span>         <span class="c1">///&lt; Number of data bits</span>
    <span class="n">hf_uart_stop_bits_t</span> <span class="n">stop_bits</span><span class="p">;</span>         <span class="c1">///&lt; Number of stop bits</span>
    <span class="n">hf_uart_parity_t</span> <span class="n">parity</span><span class="p">;</span>               <span class="c1">///&lt; Parity setting</span>
    <span class="n">hf_uart_flow_control_t</span> <span class="n">flow_control</span><span class="p">;</span>   <span class="c1">///&lt; Flow control setting</span>
    <span class="n">hf_pin_num_t</span> <span class="n">tx_pin</span><span class="p">;</span>                   <span class="c1">///&lt; Transmit pin</span>
    <span class="n">hf_pin_num_t</span> <span class="n">rx_pin</span><span class="p">;</span>                   <span class="c1">///&lt; Receive pin</span>
    <span class="n">hf_pin_num_t</span> <span class="n">rts_pin</span><span class="p">;</span>                  <span class="c1">///&lt; RTS pin (-1 if not used)</span>
    <span class="n">hf_pin_num_t</span> <span class="n">cts_pin</span><span class="p">;</span>                  <span class="c1">///&lt; CTS pin (-1 if not used)</span>
    <span class="kt">uint32_t</span> <span class="n">timeout_ms</span><span class="p">;</span>                   <span class="c1">///&lt; Default timeout in milliseconds</span>
    <span class="kt">bool</span> <span class="n">use_dma</span><span class="p">;</span>                          <span class="c1">///&lt; Use DMA for transfers</span>
    <span class="kt">size_t</span> <span class="n">rx_buffer_size</span><span class="p">;</span>                 <span class="c1">///&lt; Receive buffer size</span>
    <span class="kt">size_t</span> <span class="n">tx_buffer_size</span><span class="p">;</span>                 <span class="c1">///&lt; Transmit buffer size</span>
<span class="p">};</span>
</pre></td></tr></tbody></table></div></code></pre></div></div>
<h3 id="-uart-status">
  
  
    <a href="#-uart-status" class="anchor-heading" aria-labelledby="-uart-status"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> ğŸ“Š <strong>UART Status</strong>
  
  
</h3>
    

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><div class="table-wrapper"><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
</pre></td><td class="rouge-code"><pre><span class="k">struct</span> <span class="nc">hf_uart_status_t</span> <span class="p">{</span>
    <span class="kt">bool</span> <span class="n">is_initialized</span><span class="p">;</span>        <span class="c1">///&lt; UART is initialized</span>
    <span class="kt">bool</span> <span class="n">is_configured</span><span class="p">;</span>         <span class="c1">///&lt; UART is configured</span>
    <span class="kt">uint32_t</span> <span class="n">current_baud_rate</span><span class="p">;</span> <span class="c1">///&lt; Current baud rate</span>
    <span class="kt">size_t</span> <span class="n">rx_bytes_available</span><span class="p">;</span>  <span class="c1">///&lt; Bytes available to receive</span>
    <span class="kt">size_t</span> <span class="n">tx_space_available</span><span class="p">;</span>  <span class="c1">///&lt; Space available for transmission</span>
    <span class="kt">uint32_t</span> <span class="n">rx_errors</span><span class="p">;</span>         <span class="c1">///&lt; Number of receive errors</span>
    <span class="kt">uint32_t</span> <span class="n">tx_errors</span><span class="p">;</span>         <span class="c1">///&lt; Number of transmit errors</span>
    <span class="n">hf_uart_err_t</span> <span class="n">last_error</span><span class="p">;</span>   <span class="c1">///&lt; Last error that occurred</span>
    <span class="kt">uint32_t</span> <span class="n">timestamp_us</span><span class="p">;</span>      <span class="c1">///&lt; Timestamp of last operation</span>
<span class="p">};</span>
</pre></td></tr></tbody></table></div></code></pre></div></div>
<h3 id="-uart-capabilities">
  
  
    <a href="#-uart-capabilities" class="anchor-heading" aria-labelledby="-uart-capabilities"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> ğŸ“‹ <strong>UART Capabilities</strong>
  
  
</h3>
    

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><div class="table-wrapper"><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
</pre></td><td class="rouge-code"><pre><span class="k">struct</span> <span class="nc">hf_uart_capabilities_t</span> <span class="p">{</span>
    <span class="kt">uint8_t</span> <span class="n">max_ports</span><span class="p">;</span>              <span class="c1">///&lt; Maximum number of UART ports</span>
    <span class="kt">uint32_t</span> <span class="n">min_baud_rate</span><span class="p">;</span>         <span class="c1">///&lt; Minimum baud rate</span>
    <span class="kt">uint32_t</span> <span class="n">max_baud_rate</span><span class="p">;</span>         <span class="c1">///&lt; Maximum baud rate</span>
    <span class="kt">uint8_t</span> <span class="n">supported_data_bits</span><span class="p">;</span>    <span class="c1">///&lt; Bit mask of supported data bits</span>
    <span class="kt">uint8_t</span> <span class="n">supported_stop_bits</span><span class="p">;</span>    <span class="c1">///&lt; Bit mask of supported stop bits</span>
    <span class="kt">uint8_t</span> <span class="n">supported_parity</span><span class="p">;</span>       <span class="c1">///&lt; Bit mask of supported parity</span>
    <span class="kt">bool</span> <span class="n">supports_flow_control</span><span class="p">;</span>     <span class="c1">///&lt; Supports hardware flow control</span>
    <span class="kt">bool</span> <span class="n">supports_dma</span><span class="p">;</span>              <span class="c1">///&lt; Supports DMA transfers</span>
    <span class="kt">size_t</span> <span class="n">max_buffer_size</span><span class="p">;</span>         <span class="c1">///&lt; Maximum buffer size</span>
    <span class="kt">uint32_t</span> <span class="n">max_timeout_ms</span><span class="p">;</span>        <span class="c1">///&lt; Maximum timeout value</span>
<span class="p">};</span>
</pre></td></tr></tbody></table></div></code></pre></div></div>
<h3 id="-uart-statistics">
  
  
    <a href="#-uart-statistics" class="anchor-heading" aria-labelledby="-uart-statistics"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> ğŸ“ˆ <strong>UART Statistics</strong>
  
  
</h3>
    

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><div class="table-wrapper"><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
</pre></td><td class="rouge-code"><pre><span class="k">struct</span> <span class="nc">hf_uart_statistics_t</span> <span class="p">{</span>
    <span class="kt">uint32_t</span> <span class="n">total_transmissions</span><span class="p">;</span>   <span class="c1">///&lt; Total transmissions performed</span>
    <span class="kt">uint32_t</span> <span class="n">successful_transmissions</span><span class="p">;</span> <span class="c1">///&lt; Successful transmissions</span>
    <span class="kt">uint32_t</span> <span class="n">failed_transmissions</span><span class="p">;</span>  <span class="c1">///&lt; Failed transmissions</span>
    <span class="kt">uint32_t</span> <span class="n">total_receptions</span><span class="p">;</span>      <span class="c1">///&lt; Total receptions performed</span>
    <span class="kt">uint32_t</span> <span class="n">successful_receptions</span><span class="p">;</span> <span class="c1">///&lt; Successful receptions</span>
    <span class="kt">uint32_t</span> <span class="n">failed_receptions</span><span class="p">;</span>     <span class="c1">///&lt; Failed receptions</span>
    <span class="kt">uint32_t</span> <span class="n">bytes_transmitted</span><span class="p">;</span>     <span class="c1">///&lt; Total bytes transmitted</span>
    <span class="kt">uint32_t</span> <span class="n">bytes_received</span><span class="p">;</span>        <span class="c1">///&lt; Total bytes received</span>
    <span class="kt">uint32_t</span> <span class="n">frame_errors</span><span class="p">;</span>          <span class="c1">///&lt; Number of frame errors</span>
    <span class="kt">uint32_t</span> <span class="n">parity_errors</span><span class="p">;</span>         <span class="c1">///&lt; Number of parity errors</span>
    <span class="kt">uint32_t</span> <span class="n">buffer_overflows</span><span class="p">;</span>      <span class="c1">///&lt; Number of buffer overflows</span>
    <span class="kt">uint32_t</span> <span class="n">average_transmit_time_us</span><span class="p">;</span> <span class="c1">///&lt; Average transmit time</span>
    <span class="kt">uint32_t</span> <span class="n">max_transmit_time_us</span><span class="p">;</span>  <span class="c1">///&lt; Maximum transmit time</span>
    <span class="kt">uint32_t</span> <span class="n">min_transmit_time_us</span><span class="p">;</span>  <span class="c1">///&lt; Minimum transmit time</span>
<span class="p">};</span>
</pre></td></tr></tbody></table></div></code></pre></div></div><hr />
<h2 id="-usage-examples">
  
  
    <a href="#-usage-examples" class="anchor-heading" aria-labelledby="-usage-examples"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> ğŸ“Š <strong>Usage Examples</strong>
  
  
</h2>
    
<h3 id="-basic-serial-communication">
  
  
    <a href="#-basic-serial-communication" class="anchor-heading" aria-labelledby="-basic-serial-communication"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> ğŸ“¡ <strong>Basic Serial Communication</strong>
  
  
</h3>
    

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><div class="table-wrapper"><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
</pre></td><td class="rouge-code"><pre><span class="cp">#include</span> <span class="cpf">"mcu/esp32/EspUart.h"</span><span class="cp">
</span>
<span class="k">class</span> <span class="nc">SerialCommunicator</span> <span class="p">{</span>
<span class="nl">private:</span>
    <span class="n">EspUart</span> <span class="n">uart</span><span class="o">*</span><span class="p">;</span>
    
<span class="nl">public:</span>
    <span class="kt">bool</span> <span class="n">initialize</span><span class="p">()</span> <span class="p">{</span>
        <span class="n">uart</span><span class="o">*</span> <span class="o">=</span> <span class="n">EspUart</span><span class="p">(</span><span class="n">UART_NUM_0</span><span class="p">);</span>
        
        <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="n">uart</span><span class="o">*</span><span class="p">.</span><span class="n">EnsureInitialized</span><span class="p">())</span> <span class="p">{</span>
            <span class="n">printf</span><span class="p">(</span><span class="s">"âŒ UART initialization failed</span><span class="se">\n</span><span class="s">"</span><span class="p">);</span>
            <span class="k">return</span> <span class="nb">false</span><span class="p">;</span>
        <span class="p">}</span>
        
        <span class="c1">// Configure for standard serial communication</span>
        <span class="n">hf_uart_config_t</span> <span class="n">config</span><span class="p">;</span>
        <span class="n">config</span><span class="p">.</span><span class="n">baud_rate</span> <span class="o">=</span> <span class="mi">115200</span><span class="p">;</span>
        <span class="n">config</span><span class="p">.</span><span class="n">data_bits</span> <span class="o">=</span> <span class="n">hf_uart_data_bits_t</span><span class="o">::</span><span class="n">DATA_8BIT</span><span class="p">;</span>
        <span class="n">config</span><span class="p">.</span><span class="n">stop_bits</span> <span class="o">=</span> <span class="n">hf_uart_stop_bits_t</span><span class="o">::</span><span class="n">STOP_1BIT</span><span class="p">;</span>
        <span class="n">config</span><span class="p">.</span><span class="n">parity</span> <span class="o">=</span> <span class="n">hf_uart_parity_t</span><span class="o">::</span><span class="n">PARITY_NONE</span><span class="p">;</span>
        <span class="n">config</span><span class="p">.</span><span class="n">flow_control</span> <span class="o">=</span> <span class="n">hf_uart_flow_control_t</span><span class="o">::</span><span class="n">FLOW_NONE</span><span class="p">;</span>
        <span class="n">config</span><span class="p">.</span><span class="n">tx_pin</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>  <span class="c1">// GPIO 1</span>
        <span class="n">config</span><span class="p">.</span><span class="n">rx_pin</span> <span class="o">=</span> <span class="mi">3</span><span class="p">;</span>  <span class="c1">// GPIO 3</span>
        <span class="n">config</span><span class="p">.</span><span class="n">rts_pin</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span><span class="p">;</span>  <span class="c1">// Not used</span>
        <span class="n">config</span><span class="p">.</span><span class="n">cts_pin</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span><span class="p">;</span>  <span class="c1">// Not used</span>
        <span class="n">config</span><span class="p">.</span><span class="n">timeout_ms</span> <span class="o">=</span> <span class="mi">1000</span><span class="p">;</span>
        <span class="n">config</span><span class="p">.</span><span class="n">use_dma</span> <span class="o">=</span> <span class="nb">false</span><span class="p">;</span>
        <span class="n">config</span><span class="p">.</span><span class="n">rx_buffer_size</span> <span class="o">=</span> <span class="mi">1024</span><span class="p">;</span>
        <span class="n">config</span><span class="p">.</span><span class="n">tx_buffer_size</span> <span class="o">=</span> <span class="mi">1024</span><span class="p">;</span>
        
        <span class="n">hf_uart_err_t</span> <span class="n">result</span> <span class="o">=</span> <span class="n">uart</span><span class="o">*</span><span class="p">.</span><span class="n">Configure</span><span class="p">(</span><span class="n">config</span><span class="p">);</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">result</span> <span class="o">!=</span> <span class="n">hf_uart_err_t</span><span class="o">::</span><span class="n">UART_SUCCESS</span><span class="p">)</span> <span class="p">{</span>
            <span class="n">printf</span><span class="p">(</span><span class="s">"âŒ UART configuration failed: %s</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span> <span class="n">HfUartErrToString</span><span class="p">(</span><span class="n">result</span><span class="p">));</span>
            <span class="k">return</span> <span class="nb">false</span><span class="p">;</span>
        <span class="p">}</span>
        
        <span class="n">printf</span><span class="p">(</span><span class="s">"âœ… Serial communicator initialized</span><span class="se">\n</span><span class="s">"</span><span class="p">);</span>
        <span class="k">return</span> <span class="nb">true</span><span class="p">;</span>
    <span class="p">}</span>
    
    <span class="kt">void</span> <span class="n">send_message</span><span class="p">(</span><span class="k">const</span> <span class="kt">char</span><span class="o">*</span> <span class="n">message</span><span class="p">)</span> <span class="p">{</span>
        <span class="kt">size_t</span> <span class="n">length</span> <span class="o">=</span> <span class="n">strlen</span><span class="p">(</span><span class="n">message</span><span class="p">);</span>
        <span class="n">hf_uart_err_t</span> <span class="n">result</span> <span class="o">=</span> <span class="n">uart</span><span class="o">*</span><span class="p">.</span><span class="n">Transmit</span><span class="p">(</span>
            <span class="k">reinterpret_cast</span><span class="o">&lt;</span><span class="k">const</span> <span class="kt">uint8_t</span><span class="o">*&gt;</span><span class="p">(</span><span class="n">message</span><span class="p">),</span> <span class="n">length</span><span class="p">);</span>
        
        <span class="k">if</span> <span class="p">(</span><span class="n">result</span> <span class="o">==</span> <span class="n">hf_uart_err_t</span><span class="o">::</span><span class="n">UART_SUCCESS</span><span class="p">)</span> <span class="p">{</span>
            <span class="n">printf</span><span class="p">(</span><span class="s">"ğŸ“¤ Sent: %s"</span><span class="p">,</span> <span class="n">message</span><span class="p">);</span>
        <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
            <span class="n">printf</span><span class="p">(</span><span class="s">"âŒ Send failed: %s</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span> <span class="n">HfUartErrToString</span><span class="p">(</span><span class="n">result</span><span class="p">));</span>
        <span class="p">}</span>
    <span class="p">}</span>
    
    <span class="kt">void</span> <span class="n">receive_message</span><span class="p">(</span><span class="kt">char</span><span class="o">*</span> <span class="n">buffer</span><span class="p">,</span> <span class="kt">size_t</span> <span class="n">max_length</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">hf_uart_err_t</span> <span class="n">result</span> <span class="o">=</span> <span class="n">uart</span><span class="o">*</span><span class="p">.</span><span class="n">Receive</span><span class="p">(</span>
            <span class="k">reinterpret_cast</span><span class="o">&lt;</span><span class="kt">uint8_t</span><span class="o">*&gt;</span><span class="p">(</span><span class="n">buffer</span><span class="p">),</span> <span class="n">max_length</span><span class="p">);</span>
        
        <span class="k">if</span> <span class="p">(</span><span class="n">result</span> <span class="o">==</span> <span class="n">hf_uart_err_t</span><span class="o">::</span><span class="n">UART_SUCCESS</span><span class="p">)</span> <span class="p">{</span>
            <span class="n">buffer</span><span class="p">[</span><span class="n">max_length</span><span class="p">]</span> <span class="o">=</span> <span class="sc">'\0'</span><span class="p">;</span>  <span class="c1">// Null terminate</span>
            <span class="n">printf</span><span class="p">(</span><span class="s">"ğŸ“¥ Received: %s"</span><span class="p">,</span> <span class="n">buffer</span><span class="p">);</span>
        <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
            <span class="n">printf</span><span class="p">(</span><span class="s">"âŒ Receive failed: %s</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span> <span class="n">HfUartErrToString</span><span class="p">(</span><span class="n">result</span><span class="p">));</span>
        <span class="p">}</span>
    <span class="p">}</span>
    
    <span class="kt">void</span> <span class="n">echo_loop</span><span class="p">()</span> <span class="p">{</span>
        <span class="kt">char</span> <span class="n">buffer</span><span class="p">[</span><span class="mi">256</span><span class="p">];</span>
        <span class="n">printf</span><span class="p">(</span><span class="s">"ğŸ”„ Starting echo loop...</span><span class="se">\n</span><span class="s">"</span><span class="p">);</span>
        
        <span class="k">while</span> <span class="p">(</span><span class="nb">true</span><span class="p">)</span> <span class="p">{</span>
            <span class="c1">// Check if data is available</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">uart</span><span class="o">*</span><span class="p">.</span><span class="n">GetReceiveSpace</span><span class="p">()</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
                <span class="n">hf_uart_err_t</span> <span class="n">result</span> <span class="o">=</span> <span class="n">uart</span><span class="o">*</span><span class="p">.</span><span class="n">Receive</span><span class="p">(</span>
                    <span class="k">reinterpret_cast</span><span class="o">&lt;</span><span class="kt">uint8_t</span><span class="o">*&gt;</span><span class="p">(</span><span class="n">buffer</span><span class="p">),</span> <span class="mi">255</span><span class="p">,</span> <span class="mi">100</span><span class="p">);</span>
                
                <span class="k">if</span> <span class="p">(</span><span class="n">result</span> <span class="o">==</span> <span class="n">hf_uart_err_t</span><span class="o">::</span><span class="n">UART_SUCCESS</span><span class="p">)</span> <span class="p">{</span>
                    <span class="n">buffer</span><span class="p">[</span><span class="mi">255</span><span class="p">]</span> <span class="o">=</span> <span class="sc">'\0'</span><span class="p">;</span>
                    <span class="n">printf</span><span class="p">(</span><span class="s">"ğŸ“¥ Echo: %s"</span><span class="p">,</span> <span class="n">buffer</span><span class="p">);</span>
                    
                    <span class="c1">// Echo back</span>
                    <span class="n">uart</span><span class="o">*</span><span class="p">.</span><span class="n">Transmit</span><span class="p">(</span><span class="k">reinterpret_cast</span><span class="o">&lt;</span><span class="k">const</span> <span class="kt">uint8_t</span><span class="o">*&gt;</span><span class="p">(</span><span class="n">buffer</span><span class="p">),</span> 
                                 <span class="n">strlen</span><span class="p">(</span><span class="n">buffer</span><span class="p">));</span>
                <span class="p">}</span>
            <span class="p">}</span>
            
            <span class="n">vTaskDelay</span><span class="p">(</span><span class="n">pdMS_TO_TICKS</span><span class="p">(</span><span class="mi">10</span><span class="p">));</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">};</span>
</pre></td></tr></tbody></table></div></code></pre></div></div>
<h3 id="ï¸-gps-communication">
  
  
    <a href="#ï¸-gps-communication" class="anchor-heading" aria-labelledby="ï¸-gps-communication"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> ğŸ—ºï¸ <strong>GPS Communication</strong>
  
  
</h3>
    

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><div class="table-wrapper"><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
</pre></td><td class="rouge-code"><pre><span class="cp">#include</span> <span class="cpf">"mcu/esp32/EspUart.h"</span><span class="cp">
</span>
<span class="k">class</span> <span class="nc">GpsController</span> <span class="p">{</span>
<span class="nl">private:</span>
    <span class="n">EspUart</span> <span class="n">uart</span><span class="o">*</span><span class="p">;</span>
    <span class="k">static</span> <span class="k">constexpr</span> <span class="kt">size_t</span> <span class="n">GPS_BUFFER_SIZE</span> <span class="o">=</span> <span class="mi">512</span><span class="p">;</span>
    <span class="kt">char</span> <span class="n">gps_buffer</span><span class="o">*</span><span class="p">[</span><span class="n">GPS_BUFFER_SIZE</span><span class="p">];</span>
    
<span class="nl">public:</span>
    <span class="kt">bool</span> <span class="n">initialize</span><span class="p">()</span> <span class="p">{</span>
        <span class="n">uart</span><span class="o">*</span> <span class="o">=</span> <span class="n">EspUart</span><span class="p">(</span><span class="n">UART_NUM_1</span><span class="p">);</span>
        
        <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="n">uart</span><span class="o">*</span><span class="p">.</span><span class="n">EnsureInitialized</span><span class="p">())</span> <span class="p">{</span>
            <span class="k">return</span> <span class="nb">false</span><span class="p">;</span>
        <span class="p">}</span>
        
        <span class="c1">// Configure for GPS communication</span>
        <span class="n">hf_uart_config_t</span> <span class="n">config</span><span class="p">;</span>
        <span class="n">config</span><span class="p">.</span><span class="n">baud_rate</span> <span class="o">=</span> <span class="mi">9600</span><span class="p">;</span>  <span class="c1">// Standard GPS baud rate</span>
        <span class="n">config</span><span class="p">.</span><span class="n">data_bits</span> <span class="o">=</span> <span class="n">hf_uart_data_bits_t</span><span class="o">::</span><span class="n">DATA_8BIT</span><span class="p">;</span>
        <span class="n">config</span><span class="p">.</span><span class="n">stop_bits</span> <span class="o">=</span> <span class="n">hf_uart_stop_bits_t</span><span class="o">::</span><span class="n">STOP_1BIT</span><span class="p">;</span>
        <span class="n">config</span><span class="p">.</span><span class="n">parity</span> <span class="o">=</span> <span class="n">hf_uart_parity_t</span><span class="o">::</span><span class="n">PARITY_NONE</span><span class="p">;</span>
        <span class="n">config</span><span class="p">.</span><span class="n">flow_control</span> <span class="o">=</span> <span class="n">hf_uart_flow_control_t</span><span class="o">::</span><span class="n">FLOW_NONE</span><span class="p">;</span>
        <span class="n">config</span><span class="p">.</span><span class="n">tx_pin</span> <span class="o">=</span> <span class="mi">17</span><span class="p">;</span>  <span class="c1">// GPS TX</span>
        <span class="n">config</span><span class="p">.</span><span class="n">rx_pin</span> <span class="o">=</span> <span class="mi">16</span><span class="p">;</span>  <span class="c1">// GPS RX</span>
        <span class="n">config</span><span class="p">.</span><span class="n">rts_pin</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span><span class="p">;</span>
        <span class="n">config</span><span class="p">.</span><span class="n">cts_pin</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span><span class="p">;</span>
        <span class="n">config</span><span class="p">.</span><span class="n">timeout_ms</span> <span class="o">=</span> <span class="mi">5000</span><span class="p">;</span>  <span class="c1">// 5 second timeout</span>
        <span class="n">config</span><span class="p">.</span><span class="n">use_dma</span> <span class="o">=</span> <span class="nb">false</span><span class="p">;</span>
        <span class="n">config</span><span class="p">.</span><span class="n">rx_buffer_size</span> <span class="o">=</span> <span class="n">GPS_BUFFER_SIZE</span><span class="p">;</span>
        <span class="n">config</span><span class="p">.</span><span class="n">tx_buffer_size</span> <span class="o">=</span> <span class="mi">256</span><span class="p">;</span>
        
        <span class="n">hf_uart_err_t</span> <span class="n">result</span> <span class="o">=</span> <span class="n">uart</span><span class="o">*</span><span class="p">.</span><span class="n">Configure</span><span class="p">(</span><span class="n">config</span><span class="p">);</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">result</span> <span class="o">!=</span> <span class="n">hf_uart_err_t</span><span class="o">::</span><span class="n">UART_SUCCESS</span><span class="p">)</span> <span class="p">{</span>
            <span class="n">printf</span><span class="p">(</span><span class="s">"âŒ GPS configuration failed</span><span class="se">\n</span><span class="s">"</span><span class="p">);</span>
            <span class="k">return</span> <span class="nb">false</span><span class="p">;</span>
        <span class="p">}</span>
        
        <span class="n">printf</span><span class="p">(</span><span class="s">"âœ… GPS controller initialized</span><span class="se">\n</span><span class="s">"</span><span class="p">);</span>
        <span class="k">return</span> <span class="nb">true</span><span class="p">;</span>
    <span class="p">}</span>
    
    <span class="kt">bool</span> <span class="n">read_gps_data</span><span class="p">()</span> <span class="p">{</span>
        <span class="c1">// Read GPS data with timeout</span>
        <span class="n">hf_uart_err_t</span> <span class="n">result</span> <span class="o">=</span> <span class="n">uart</span><span class="o">*</span><span class="p">.</span><span class="n">Receive</span><span class="p">(</span>
            <span class="k">reinterpret_cast</span><span class="o">&lt;</span><span class="kt">uint8_t</span><span class="o">*&gt;</span><span class="p">(</span><span class="n">gps_buffer</span><span class="o">*</span><span class="p">),</span> <span class="n">GPS_BUFFER_SIZE</span> <span class="o">-</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1000</span><span class="p">);</span>
        
        <span class="k">if</span> <span class="p">(</span><span class="n">result</span> <span class="o">==</span> <span class="n">hf_uart_err_t</span><span class="o">::</span><span class="n">UART_SUCCESS</span><span class="p">)</span> <span class="p">{</span>
            <span class="n">gps_buffer</span><span class="o">*</span><span class="p">[</span><span class="n">GPS_BUFFER_SIZE</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="sc">'\0'</span><span class="p">;</span>
            
            <span class="c1">// Parse NMEA sentences</span>
            <span class="n">parse_nmea_data</span><span class="p">(</span><span class="n">gps_buffer</span><span class="o">*</span><span class="p">);</span>
            <span class="k">return</span> <span class="nb">true</span><span class="p">;</span>
        <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">result</span> <span class="o">==</span> <span class="n">hf_uart_err_t</span><span class="o">::</span><span class="n">UART_ERR_RECEIVE_TIMEOUT</span><span class="p">)</span> <span class="p">{</span>
            <span class="n">printf</span><span class="p">(</span><span class="s">"â° GPS timeout - no data received</span><span class="se">\n</span><span class="s">"</span><span class="p">);</span>
            <span class="k">return</span> <span class="nb">false</span><span class="p">;</span>
        <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
            <span class="n">printf</span><span class="p">(</span><span class="s">"âŒ GPS read failed: %s</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span> <span class="n">HfUartErrToString</span><span class="p">(</span><span class="n">result</span><span class="p">));</span>
            <span class="k">return</span> <span class="nb">false</span><span class="p">;</span>
        <span class="p">}</span>
    <span class="p">}</span>
    
<span class="nl">private:</span>
    <span class="kt">void</span> <span class="n">parse_nmea_data</span><span class="p">(</span><span class="k">const</span> <span class="kt">char</span><span class="o">*</span> <span class="n">data</span><span class="p">)</span> <span class="p">{</span>
        <span class="c1">// Simple NMEA parser - look for GPRMC sentences</span>
        <span class="kt">char</span><span class="o">*</span> <span class="n">line</span> <span class="o">=</span> <span class="n">strtok</span><span class="p">(</span><span class="k">const_cast</span><span class="o">&lt;</span><span class="kt">char</span><span class="o">*&gt;</span><span class="p">(</span><span class="n">data</span><span class="p">),</span> <span class="s">"</span><span class="se">\r\n</span><span class="s">"</span><span class="p">);</span>
        <span class="k">while</span> <span class="p">(</span><span class="n">line</span> <span class="o">!=</span> <span class="nb">nullptr</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">strncmp</span><span class="p">(</span><span class="n">line</span><span class="p">,</span> <span class="s">"$GPRMC"</span><span class="p">,</span> <span class="mi">6</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
                <span class="n">parse_gprmc</span><span class="p">(</span><span class="n">line</span><span class="p">);</span>
            <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">strncmp</span><span class="p">(</span><span class="n">line</span><span class="p">,</span> <span class="s">"$GPGGA"</span><span class="p">,</span> <span class="mi">6</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
                <span class="n">parse_gpgga</span><span class="p">(</span><span class="n">line</span><span class="p">);</span>
            <span class="p">}</span>
            <span class="n">line</span> <span class="o">=</span> <span class="n">strtok</span><span class="p">(</span><span class="nb">nullptr</span><span class="p">,</span> <span class="s">"</span><span class="se">\r\n</span><span class="s">"</span><span class="p">);</span>
        <span class="p">}</span>
    <span class="p">}</span>
    
    <span class="kt">void</span> <span class="n">parse_gprmc</span><span class="p">(</span><span class="k">const</span> <span class="kt">char</span><span class="o">*</span> <span class="n">sentence</span><span class="p">)</span> <span class="p">{</span>
        <span class="c1">// Parse GPRMC sentence for time, date, position, speed</span>
        <span class="n">printf</span><span class="p">(</span><span class="s">"ğŸ“ GPRMC: %s</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span> <span class="n">sentence</span><span class="p">);</span>
        <span class="c1">// Add actual parsing logic here</span>
    <span class="p">}</span>
    
    <span class="kt">void</span> <span class="n">parse_gpgga</span><span class="p">(</span><span class="k">const</span> <span class="kt">char</span><span class="o">*</span> <span class="n">sentence</span><span class="p">)</span> <span class="p">{</span>
        <span class="c1">// Parse GPGGA sentence for position and altitude</span>
        <span class="n">printf</span><span class="p">(</span><span class="s">"ğŸŒ GPGGA: %s</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span> <span class="n">sentence</span><span class="p">);</span>
        <span class="c1">// Add actual parsing logic here</span>
    <span class="p">}</span>
    
<span class="nl">public:</span>
    <span class="kt">void</span> <span class="n">send_gps_command</span><span class="p">(</span><span class="k">const</span> <span class="kt">char</span><span class="o">*</span> <span class="n">command</span><span class="p">)</span> <span class="p">{</span>
        <span class="c1">// Send command to GPS module</span>
        <span class="kt">size_t</span> <span class="n">length</span> <span class="o">=</span> <span class="n">strlen</span><span class="p">(</span><span class="n">command</span><span class="p">);</span>
        <span class="n">hf_uart_err_t</span> <span class="n">result</span> <span class="o">=</span> <span class="n">uart</span><span class="o">*</span><span class="p">.</span><span class="n">Transmit</span><span class="p">(</span>
            <span class="k">reinterpret_cast</span><span class="o">&lt;</span><span class="k">const</span> <span class="kt">uint8_t</span><span class="o">*&gt;</span><span class="p">(</span><span class="n">command</span><span class="p">),</span> <span class="n">length</span><span class="p">);</span>
        
        <span class="k">if</span> <span class="p">(</span><span class="n">result</span> <span class="o">==</span> <span class="n">hf_uart_err_t</span><span class="o">::</span><span class="n">UART_SUCCESS</span><span class="p">)</span> <span class="p">{</span>
            <span class="n">printf</span><span class="p">(</span><span class="s">"ğŸ“¤ GPS Command: %s"</span><span class="p">,</span> <span class="n">command</span><span class="p">);</span>
        <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
            <span class="n">printf</span><span class="p">(</span><span class="s">"âŒ GPS command failed: %s</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span> <span class="n">HfUartErrToString</span><span class="p">(</span><span class="n">result</span><span class="p">));</span>
        <span class="p">}</span>
    <span class="p">}</span>
    
    <span class="kt">void</span> <span class="n">gps_monitoring_task</span><span class="p">()</span> <span class="p">{</span>
        <span class="n">printf</span><span class="p">(</span><span class="s">"ğŸ—ºï¸ Starting GPS monitoring...</span><span class="se">\n</span><span class="s">"</span><span class="p">);</span>
        
        <span class="k">while</span> <span class="p">(</span><span class="nb">true</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">read_gps_data</span><span class="p">())</span> <span class="p">{</span>
                <span class="c1">// Data received and parsed</span>
                <span class="n">vTaskDelay</span><span class="p">(</span><span class="n">pdMS_TO_TICKS</span><span class="p">(</span><span class="mi">100</span><span class="p">));</span>
            <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
                <span class="c1">// No data or error</span>
                <span class="n">vTaskDelay</span><span class="p">(</span><span class="n">pdMS_TO_TICKS</span><span class="p">(</span><span class="mi">1000</span><span class="p">));</span>
            <span class="p">}</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">};</span>
</pre></td></tr></tbody></table></div></code></pre></div></div>
<h3 id="-bluetooth-communication">
  
  
    <a href="#-bluetooth-communication" class="anchor-heading" aria-labelledby="-bluetooth-communication"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> ğŸ”µ <strong>Bluetooth Communication</strong>
  
  
</h3>
    

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><div class="table-wrapper"><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
</pre></td><td class="rouge-code"><pre><span class="cp">#include</span> <span class="cpf">"mcu/esp32/EspUart.h"</span><span class="cp">
</span>
<span class="k">class</span> <span class="nc">BluetoothController</span> <span class="p">{</span>
<span class="nl">private:</span>
    <span class="n">EspUart</span> <span class="n">uart</span><span class="o">*</span><span class="p">;</span>
    <span class="k">static</span> <span class="k">constexpr</span> <span class="kt">size_t</span> <span class="n">BT_BUFFER_SIZE</span> <span class="o">=</span> <span class="mi">1024</span><span class="p">;</span>
    <span class="kt">char</span> <span class="n">bt_buffer</span><span class="o">*</span><span class="p">[</span><span class="n">BT_BUFFER_SIZE</span><span class="p">];</span>
    
<span class="nl">public:</span>
    <span class="kt">bool</span> <span class="n">initialize</span><span class="p">()</span> <span class="p">{</span>
        <span class="n">uart</span><span class="o">*</span> <span class="o">=</span> <span class="n">EspUart</span><span class="p">(</span><span class="n">UART_NUM_2</span><span class="p">);</span>
        
        <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="n">uart</span><span class="o">*</span><span class="p">.</span><span class="n">EnsureInitialized</span><span class="p">())</span> <span class="p">{</span>
            <span class="k">return</span> <span class="nb">false</span><span class="p">;</span>
        <span class="p">}</span>
        
        <span class="c1">// Configure for Bluetooth communication</span>
        <span class="n">hf_uart_config_t</span> <span class="n">config</span><span class="p">;</span>
        <span class="n">config</span><span class="p">.</span><span class="n">baud_rate</span> <span class="o">=</span> <span class="mi">115200</span><span class="p">;</span>  <span class="c1">// Standard BT baud rate</span>
        <span class="n">config</span><span class="p">.</span><span class="n">data_bits</span> <span class="o">=</span> <span class="n">hf_uart_data_bits_t</span><span class="o">::</span><span class="n">DATA_8BIT</span><span class="p">;</span>
        <span class="n">config</span><span class="p">.</span><span class="n">stop_bits</span> <span class="o">=</span> <span class="n">hf_uart_stop_bits_t</span><span class="o">::</span><span class="n">STOP_1BIT</span><span class="p">;</span>
        <span class="n">config</span><span class="p">.</span><span class="n">parity</span> <span class="o">=</span> <span class="n">hf_uart_parity_t</span><span class="o">::</span><span class="n">PARITY_NONE</span><span class="p">;</span>
        <span class="n">config</span><span class="p">.</span><span class="n">flow_control</span> <span class="o">=</span> <span class="n">hf_uart_flow_control_t</span><span class="o">::</span><span class="n">FLOW_NONE</span><span class="p">;</span>
        <span class="n">config</span><span class="p">.</span><span class="n">tx_pin</span> <span class="o">=</span> <span class="mi">25</span><span class="p">;</span>  <span class="c1">// BT TX</span>
        <span class="n">config</span><span class="p">.</span><span class="n">rx_pin</span> <span class="o">=</span> <span class="mi">26</span><span class="p">;</span>  <span class="c1">// BT RX</span>
        <span class="n">config</span><span class="p">.</span><span class="n">rts_pin</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span><span class="p">;</span>
        <span class="n">config</span><span class="p">.</span><span class="n">cts_pin</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span><span class="p">;</span>
        <span class="n">config</span><span class="p">.</span><span class="n">timeout_ms</span> <span class="o">=</span> <span class="mi">1000</span><span class="p">;</span>
        <span class="n">config</span><span class="p">.</span><span class="n">use_dma</span> <span class="o">=</span> <span class="nb">true</span><span class="p">;</span>  <span class="c1">// Use DMA for BT</span>
        <span class="n">config</span><span class="p">.</span><span class="n">rx_buffer_size</span> <span class="o">=</span> <span class="n">BT_BUFFER_SIZE</span><span class="p">;</span>
        <span class="n">config</span><span class="p">.</span><span class="n">tx_buffer_size</span> <span class="o">=</span> <span class="n">BT_BUFFER_SIZE</span><span class="p">;</span>
        
        <span class="n">hf_uart_err_t</span> <span class="n">result</span> <span class="o">=</span> <span class="n">uart</span><span class="o">*</span><span class="p">.</span><span class="n">Configure</span><span class="p">(</span><span class="n">config</span><span class="p">);</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">result</span> <span class="o">!=</span> <span class="n">hf_uart_err_t</span><span class="o">::</span><span class="n">UART_SUCCESS</span><span class="p">)</span> <span class="p">{</span>
            <span class="n">printf</span><span class="p">(</span><span class="s">"âŒ Bluetooth configuration failed</span><span class="se">\n</span><span class="s">"</span><span class="p">);</span>
            <span class="k">return</span> <span class="nb">false</span><span class="p">;</span>
        <span class="p">}</span>
        
        <span class="n">printf</span><span class="p">(</span><span class="s">"âœ… Bluetooth controller initialized</span><span class="se">\n</span><span class="s">"</span><span class="p">);</span>
        <span class="k">return</span> <span class="nb">true</span><span class="p">;</span>
    <span class="p">}</span>
    
    <span class="kt">void</span> <span class="n">send_data</span><span class="p">(</span><span class="k">const</span> <span class="kt">char</span><span class="o">*</span> <span class="n">data</span><span class="p">)</span> <span class="p">{</span>
        <span class="kt">size_t</span> <span class="n">length</span> <span class="o">=</span> <span class="n">strlen</span><span class="p">(</span><span class="n">data</span><span class="p">);</span>
        <span class="n">hf_uart_err_t</span> <span class="n">result</span> <span class="o">=</span> <span class="n">uart</span><span class="o">*</span><span class="p">.</span><span class="n">Transmit</span><span class="p">(</span>
            <span class="k">reinterpret_cast</span><span class="o">&lt;</span><span class="k">const</span> <span class="kt">uint8_t</span><span class="o">*&gt;</span><span class="p">(</span><span class="n">data</span><span class="p">),</span> <span class="n">length</span><span class="p">);</span>
        
        <span class="k">if</span> <span class="p">(</span><span class="n">result</span> <span class="o">==</span> <span class="n">hf_uart_err_t</span><span class="o">::</span><span class="n">UART_SUCCESS</span><span class="p">)</span> <span class="p">{</span>
            <span class="n">printf</span><span class="p">(</span><span class="s">"ğŸ“¤ BT Sent: %s"</span><span class="p">,</span> <span class="n">data</span><span class="p">);</span>
        <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
            <span class="n">printf</span><span class="p">(</span><span class="s">"âŒ BT send failed: %s</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span> <span class="n">HfUartErrToString</span><span class="p">(</span><span class="n">result</span><span class="p">));</span>
        <span class="p">}</span>
    <span class="p">}</span>
    
    <span class="kt">bool</span> <span class="n">receive_data</span><span class="p">(</span><span class="kt">char</span><span class="o">*</span> <span class="n">buffer</span><span class="p">,</span> <span class="kt">size_t</span> <span class="n">max_length</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">hf_uart_err_t</span> <span class="n">result</span> <span class="o">=</span> <span class="n">uart</span><span class="o">*</span><span class="p">.</span><span class="n">Receive</span><span class="p">(</span>
            <span class="k">reinterpret_cast</span><span class="o">&lt;</span><span class="kt">uint8_t</span><span class="o">*&gt;</span><span class="p">(</span><span class="n">buffer</span><span class="p">),</span> <span class="n">max_length</span> <span class="o">-</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">100</span><span class="p">);</span>
        
        <span class="k">if</span> <span class="p">(</span><span class="n">result</span> <span class="o">==</span> <span class="n">hf_uart_err_t</span><span class="o">::</span><span class="n">UART_SUCCESS</span><span class="p">)</span> <span class="p">{</span>
            <span class="n">buffer</span><span class="p">[</span><span class="n">max_length</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="sc">'\0'</span><span class="p">;</span>
            <span class="n">printf</span><span class="p">(</span><span class="s">"ğŸ“¥ BT Received: %s"</span><span class="p">,</span> <span class="n">buffer</span><span class="p">);</span>
            <span class="k">return</span> <span class="nb">true</span><span class="p">;</span>
        <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">result</span> <span class="o">==</span> <span class="n">hf_uart_err_t</span><span class="o">::</span><span class="n">UART_ERR_RECEIVE_TIMEOUT</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">return</span> <span class="nb">false</span><span class="p">;</span>  <span class="c1">// No data available</span>
        <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
            <span class="n">printf</span><span class="p">(</span><span class="s">"âŒ BT receive failed: %s</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span> <span class="n">HfUartErrToString</span><span class="p">(</span><span class="n">result</span><span class="p">));</span>
            <span class="k">return</span> <span class="nb">false</span><span class="p">;</span>
        <span class="p">}</span>
    <span class="p">}</span>
    
    <span class="kt">void</span> <span class="n">bluetooth_chat_task</span><span class="p">()</span> <span class="p">{</span>
        <span class="n">printf</span><span class="p">(</span><span class="s">"ğŸ”µ Starting Bluetooth chat...</span><span class="se">\n</span><span class="s">"</span><span class="p">);</span>
        
        <span class="kt">char</span> <span class="n">input_buffer</span><span class="p">[</span><span class="mi">256</span><span class="p">];</span>
        <span class="kt">char</span> <span class="n">output_buffer</span><span class="p">[</span><span class="mi">256</span><span class="p">];</span>
        
        <span class="k">while</span> <span class="p">(</span><span class="nb">true</span><span class="p">)</span> <span class="p">{</span>
            <span class="c1">// Check for incoming data</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">receive_data</span><span class="p">(</span><span class="n">input_buffer</span><span class="p">,</span> <span class="k">sizeof</span><span class="p">(</span><span class="n">input_buffer</span><span class="p">)))</span> <span class="p">{</span>
                <span class="c1">// Process received data</span>
                <span class="n">snprintf</span><span class="p">(</span><span class="n">output_buffer</span><span class="p">,</span> <span class="k">sizeof</span><span class="p">(</span><span class="n">output_buffer</span><span class="p">),</span> 
                        <span class="s">"Echo: %s"</span><span class="p">,</span> <span class="n">input_buffer</span><span class="p">);</span>
                <span class="n">send_data</span><span class="p">(</span><span class="n">output_buffer</span><span class="p">);</span>
            <span class="p">}</span>
            
            <span class="c1">// Check for local input (simulated)</span>
            <span class="k">if</span> <span class="p">(</span><span class="cm">/* local input available */</span><span class="p">)</span> <span class="p">{</span>
                <span class="n">snprintf</span><span class="p">(</span><span class="n">output_buffer</span><span class="p">,</span> <span class="k">sizeof</span><span class="p">(</span><span class="n">output_buffer</span><span class="p">),</span> 
                        <span class="s">"Local: Hello from ESP32!</span><span class="se">\n</span><span class="s">"</span><span class="p">);</span>
                <span class="n">send_data</span><span class="p">(</span><span class="n">output_buffer</span><span class="p">);</span>
            <span class="p">}</span>
            
            <span class="n">vTaskDelay</span><span class="p">(</span><span class="n">pdMS_TO_TICKS</span><span class="p">(</span><span class="mi">100</span><span class="p">));</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">};</span>
</pre></td></tr></tbody></table></div></code></pre></div></div>
<h3 id="-modbus-rtu-communication">
  
  
    <a href="#-modbus-rtu-communication" class="anchor-heading" aria-labelledby="-modbus-rtu-communication"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> ğŸ­ <strong>Modbus RTU Communication</strong>
  
  
</h3>
    

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><div class="table-wrapper"><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
</pre></td><td class="rouge-code"><pre><span class="cp">#include</span> <span class="cpf">"mcu/esp32/EspUart.h"</span><span class="cp">
</span>
<span class="k">class</span> <span class="nc">ModbusController</span> <span class="p">{</span>
<span class="nl">private:</span>
    <span class="n">EspUart</span> <span class="n">uart</span><span class="o">*</span><span class="p">;</span>
    <span class="k">static</span> <span class="k">constexpr</span> <span class="kt">uint8_t</span> <span class="n">MODBUS_SLAVE_ADDRESS</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
    <span class="k">static</span> <span class="k">constexpr</span> <span class="kt">size_t</span> <span class="n">MODBUS_BUFFER_SIZE</span> <span class="o">=</span> <span class="mi">256</span><span class="p">;</span>
    <span class="kt">uint8_t</span> <span class="n">modbus_buffer</span><span class="o">*</span><span class="p">[</span><span class="n">MODBUS_BUFFER_SIZE</span><span class="p">];</span>
    
<span class="nl">public:</span>
    <span class="kt">bool</span> <span class="n">initialize</span><span class="p">()</span> <span class="p">{</span>
        <span class="n">uart</span><span class="o">*</span> <span class="o">=</span> <span class="n">EspUart</span><span class="p">(</span><span class="n">UART_NUM_1</span><span class="p">);</span>
        
        <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="n">uart</span><span class="o">*</span><span class="p">.</span><span class="n">EnsureInitialized</span><span class="p">())</span> <span class="p">{</span>
            <span class="k">return</span> <span class="nb">false</span><span class="p">;</span>
        <span class="p">}</span>
        
        <span class="c1">// Configure for Modbus RTU</span>
        <span class="n">hf_uart_config_t</span> <span class="n">config</span><span class="p">;</span>
        <span class="n">config</span><span class="p">.</span><span class="n">baud_rate</span> <span class="o">=</span> <span class="mi">9600</span><span class="p">;</span>  <span class="c1">// Standard Modbus baud rate</span>
        <span class="n">config</span><span class="p">.</span><span class="n">data_bits</span> <span class="o">=</span> <span class="n">hf_uart_data_bits_t</span><span class="o">::</span><span class="n">DATA_8BIT</span><span class="p">;</span>
        <span class="n">config</span><span class="p">.</span><span class="n">stop_bits</span> <span class="o">=</span> <span class="n">hf_uart_stop_bits_t</span><span class="o">::</span><span class="n">STOP_1BIT</span><span class="p">;</span>
        <span class="n">config</span><span class="p">.</span><span class="n">parity</span> <span class="o">=</span> <span class="n">hf_uart_parity_t</span><span class="o">::</span><span class="n">PARITY_EVEN</span><span class="p">;</span>  <span class="c1">// Modbus standard</span>
        <span class="n">config</span><span class="p">.</span><span class="n">flow_control</span> <span class="o">=</span> <span class="n">hf_uart_flow_control_t</span><span class="o">::</span><span class="n">FLOW_NONE</span><span class="p">;</span>
        <span class="n">config</span><span class="p">.</span><span class="n">tx_pin</span> <span class="o">=</span> <span class="mi">17</span><span class="p">;</span>
        <span class="n">config</span><span class="p">.</span><span class="n">rx_pin</span> <span class="o">=</span> <span class="mi">16</span><span class="p">;</span>
        <span class="n">config</span><span class="p">.</span><span class="n">rts_pin</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span><span class="p">;</span>
        <span class="n">config</span><span class="p">.</span><span class="n">cts_pin</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span><span class="p">;</span>
        <span class="n">config</span><span class="p">.</span><span class="n">timeout_ms</span> <span class="o">=</span> <span class="mi">1000</span><span class="p">;</span>
        <span class="n">config</span><span class="p">.</span><span class="n">use_dma</span> <span class="o">=</span> <span class="nb">false</span><span class="p">;</span>
        <span class="n">config</span><span class="p">.</span><span class="n">rx_buffer_size</span> <span class="o">=</span> <span class="n">MODBUS_BUFFER_SIZE</span><span class="p">;</span>
        <span class="n">config</span><span class="p">.</span><span class="n">tx_buffer_size</span> <span class="o">=</span> <span class="n">MODBUS_BUFFER_SIZE</span><span class="p">;</span>
        
        <span class="n">hf_uart_err_t</span> <span class="n">result</span> <span class="o">=</span> <span class="n">uart</span><span class="o">*</span><span class="p">.</span><span class="n">Configure</span><span class="p">(</span><span class="n">config</span><span class="p">);</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">result</span> <span class="o">!=</span> <span class="n">hf_uart_err_t</span><span class="o">::</span><span class="n">UART_SUCCESS</span><span class="p">)</span> <span class="p">{</span>
            <span class="n">printf</span><span class="p">(</span><span class="s">"âŒ Modbus configuration failed</span><span class="se">\n</span><span class="s">"</span><span class="p">);</span>
            <span class="k">return</span> <span class="nb">false</span><span class="p">;</span>
        <span class="p">}</span>
        
        <span class="n">printf</span><span class="p">(</span><span class="s">"âœ… Modbus controller initialized</span><span class="se">\n</span><span class="s">"</span><span class="p">);</span>
        <span class="k">return</span> <span class="nb">true</span><span class="p">;</span>
    <span class="p">}</span>
    
    <span class="kt">bool</span> <span class="n">read_holding_registers</span><span class="p">(</span><span class="kt">uint8_t</span> <span class="n">slave_addr</span><span class="p">,</span> <span class="kt">uint16_t</span> <span class="n">start_addr</span><span class="p">,</span> 
                               <span class="kt">uint16_t</span> <span class="n">count</span><span class="p">,</span> <span class="kt">uint16_t</span><span class="o">*</span> <span class="n">data</span><span class="p">)</span> <span class="p">{</span>
        <span class="c1">// Build Modbus RTU read holding registers request</span>
        <span class="kt">uint8_t</span> <span class="n">request</span><span class="p">[</span><span class="mi">8</span><span class="p">];</span>
        <span class="n">request</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">slave_addr</span><span class="p">;</span>           <span class="c1">// Slave address</span>
        <span class="n">request</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x03</span><span class="p">;</span>                 <span class="c1">// Function code (read holding registers)</span>
        <span class="n">request</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">start_addr</span> <span class="o">&gt;&gt;</span> <span class="mi">8</span><span class="p">)</span> <span class="o">&amp;</span> <span class="mh">0xFF</span><span class="p">;</span>  <span class="c1">// Starting address high</span>
        <span class="n">request</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">=</span> <span class="n">start_addr</span> <span class="o">&amp;</span> <span class="mh">0xFF</span><span class="p">;</span>         <span class="c1">// Starting address low</span>
        <span class="n">request</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">count</span> <span class="o">&gt;&gt;</span> <span class="mi">8</span><span class="p">)</span> <span class="o">&amp;</span> <span class="mh">0xFF</span><span class="p">;</span>       <span class="c1">// Quantity high</span>
        <span class="n">request</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span> <span class="o">=</span> <span class="n">count</span> <span class="o">&amp;</span> <span class="mh">0xFF</span><span class="p">;</span>              <span class="c1">// Quantity low</span>
        
        <span class="c1">// Calculate CRC</span>
        <span class="kt">uint16_t</span> <span class="n">crc</span> <span class="o">=</span> <span class="n">calculate_crc16</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="mi">6</span><span class="p">);</span>
        <span class="n">request</span><span class="p">[</span><span class="mi">6</span><span class="p">]</span> <span class="o">=</span> <span class="n">crc</span> <span class="o">&amp;</span> <span class="mh">0xFF</span><span class="p">;</span>           <span class="c1">// CRC low</span>
        <span class="n">request</span><span class="p">[</span><span class="mi">7</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">crc</span> <span class="o">&gt;&gt;</span> <span class="mi">8</span><span class="p">)</span> <span class="o">&amp;</span> <span class="mh">0xFF</span><span class="p">;</span>    <span class="c1">// CRC high</span>
        
        <span class="c1">// Send request</span>
        <span class="n">hf_uart_err_t</span> <span class="n">result</span> <span class="o">=</span> <span class="n">uart</span><span class="o">*</span><span class="p">.</span><span class="n">Transmit</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="mi">8</span><span class="p">);</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">result</span> <span class="o">!=</span> <span class="n">hf_uart_err_t</span><span class="o">::</span><span class="n">UART_SUCCESS</span><span class="p">)</span> <span class="p">{</span>
            <span class="n">printf</span><span class="p">(</span><span class="s">"âŒ Modbus request failed: %s</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span> <span class="n">HfUartErrToString</span><span class="p">(</span><span class="n">result</span><span class="p">));</span>
            <span class="k">return</span> <span class="nb">false</span><span class="p">;</span>
        <span class="p">}</span>
        
        <span class="c1">// Receive response</span>
        <span class="kt">size_t</span> <span class="n">response_length</span> <span class="o">=</span> <span class="mi">5</span> <span class="o">+</span> <span class="n">count</span> <span class="o">*</span> <span class="mi">2</span><span class="p">;</span>  <span class="c1">// Header + data + CRC</span>
        <span class="n">result</span> <span class="o">=</span> <span class="n">uart</span><span class="o">*</span><span class="p">.</span><span class="n">Receive</span><span class="p">(</span><span class="n">modbus_buffer</span><span class="o">*</span><span class="p">,</span> <span class="n">response_length</span><span class="p">,</span> <span class="mi">1000</span><span class="p">);</span>
        
        <span class="k">if</span> <span class="p">(</span><span class="n">result</span> <span class="o">==</span> <span class="n">hf_uart_err_t</span><span class="o">::</span><span class="n">UART_SUCCESS</span><span class="p">)</span> <span class="p">{</span>
            <span class="c1">// Verify response</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">modbus_buffer</span><span class="o">*</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="n">slave_addr</span> <span class="o">&amp;&amp;</span> <span class="n">modbus_buffer</span><span class="o">*</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="mh">0x03</span><span class="p">)</span> <span class="p">{</span>
                <span class="c1">// Extract data</span>
                <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">count</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
                    <span class="n">data</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">modbus_buffer</span><span class="o">*</span><span class="p">[</span><span class="mi">3</span> <span class="o">+</span> <span class="n">i</span> <span class="o">*</span> <span class="mi">2</span><span class="p">]</span> <span class="o">&lt;&lt;</span> <span class="mi">8</span><span class="p">)</span> <span class="o">|</span> 
                              <span class="n">modbus_buffer</span><span class="o">*</span><span class="p">[</span><span class="mi">4</span> <span class="o">+</span> <span class="n">i</span> <span class="o">*</span> <span class="mi">2</span><span class="p">];</span>
                <span class="p">}</span>
                <span class="n">printf</span><span class="p">(</span><span class="s">"âœ… Read %d holding registers</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span> <span class="n">count</span><span class="p">);</span>
                <span class="k">return</span> <span class="nb">true</span><span class="p">;</span>
            <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
                <span class="n">printf</span><span class="p">(</span><span class="s">"âŒ Invalid Modbus response</span><span class="se">\n</span><span class="s">"</span><span class="p">);</span>
                <span class="k">return</span> <span class="nb">false</span><span class="p">;</span>
            <span class="p">}</span>
        <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
            <span class="n">printf</span><span class="p">(</span><span class="s">"âŒ Modbus response failed: %s</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span> <span class="n">HfUartErrToString</span><span class="p">(</span><span class="n">result</span><span class="p">));</span>
            <span class="k">return</span> <span class="nb">false</span><span class="p">;</span>
        <span class="p">}</span>
    <span class="p">}</span>
    
    <span class="kt">bool</span> <span class="n">write_single_register</span><span class="p">(</span><span class="kt">uint8_t</span> <span class="n">slave_addr</span><span class="p">,</span> <span class="kt">uint16_t</span> <span class="n">addr</span><span class="p">,</span> <span class="kt">uint16_t</span> <span class="n">value</span><span class="p">)</span> <span class="p">{</span>
        <span class="c1">// Build Modbus RTU write single register request</span>
        <span class="kt">uint8_t</span> <span class="n">request</span><span class="p">[</span><span class="mi">8</span><span class="p">];</span>
        <span class="n">request</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">slave_addr</span><span class="p">;</span>           <span class="c1">// Slave address</span>
        <span class="n">request</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x06</span><span class="p">;</span>                 <span class="c1">// Function code (write single register)</span>
        <span class="n">request</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">addr</span> <span class="o">&gt;&gt;</span> <span class="mi">8</span><span class="p">)</span> <span class="o">&amp;</span> <span class="mh">0xFF</span><span class="p">;</span>   <span class="c1">// Register address high</span>
        <span class="n">request</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">=</span> <span class="n">addr</span> <span class="o">&amp;</span> <span class="mh">0xFF</span><span class="p">;</span>          <span class="c1">// Register address low</span>
        <span class="n">request</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">value</span> <span class="o">&gt;&gt;</span> <span class="mi">8</span><span class="p">)</span> <span class="o">&amp;</span> <span class="mh">0xFF</span><span class="p">;</span>  <span class="c1">// Value high</span>
        <span class="n">request</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span> <span class="o">=</span> <span class="n">value</span> <span class="o">&amp;</span> <span class="mh">0xFF</span><span class="p">;</span>         <span class="c1">// Value low</span>
        
        <span class="c1">// Calculate CRC</span>
        <span class="kt">uint16_t</span> <span class="n">crc</span> <span class="o">=</span> <span class="n">calculate_crc16</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="mi">6</span><span class="p">);</span>
        <span class="n">request</span><span class="p">[</span><span class="mi">6</span><span class="p">]</span> <span class="o">=</span> <span class="n">crc</span> <span class="o">&amp;</span> <span class="mh">0xFF</span><span class="p">;</span>           <span class="c1">// CRC low</span>
        <span class="n">request</span><span class="p">[</span><span class="mi">7</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">crc</span> <span class="o">&gt;&gt;</span> <span class="mi">8</span><span class="p">)</span> <span class="o">&amp;</span> <span class="mh">0xFF</span><span class="p">;</span>    <span class="c1">// CRC high</span>
        
        <span class="c1">// Send request</span>
        <span class="n">hf_uart_err_t</span> <span class="n">result</span> <span class="o">=</span> <span class="n">uart</span><span class="o">*</span><span class="p">.</span><span class="n">Transmit</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="mi">8</span><span class="p">);</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">result</span> <span class="o">!=</span> <span class="n">hf_uart_err_t</span><span class="o">::</span><span class="n">UART_SUCCESS</span><span class="p">)</span> <span class="p">{</span>
            <span class="n">printf</span><span class="p">(</span><span class="s">"âŒ Modbus write request failed: %s</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span> <span class="n">HfUartErrToString</span><span class="p">(</span><span class="n">result</span><span class="p">));</span>
            <span class="k">return</span> <span class="nb">false</span><span class="p">;</span>
        <span class="p">}</span>
        
        <span class="c1">// Receive response (should be echo of request)</span>
        <span class="n">result</span> <span class="o">=</span> <span class="n">uart</span><span class="o">*</span><span class="p">.</span><span class="n">Receive</span><span class="p">(</span><span class="n">modbus_buffer</span><span class="o">*</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">1000</span><span class="p">);</span>
        
        <span class="k">if</span> <span class="p">(</span><span class="n">result</span> <span class="o">==</span> <span class="n">hf_uart_err_t</span><span class="o">::</span><span class="n">UART_SUCCESS</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">memcmp</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="n">modbus_buffer</span><span class="o">*</span><span class="p">,</span> <span class="mi">8</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
                <span class="n">printf</span><span class="p">(</span><span class="s">"âœ… Wrote register 0x%04X = 0x%04X</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span> <span class="n">addr</span><span class="p">,</span> <span class="n">value</span><span class="p">);</span>
                <span class="k">return</span> <span class="nb">true</span><span class="p">;</span>
            <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
                <span class="n">printf</span><span class="p">(</span><span class="s">"âŒ Invalid Modbus write response</span><span class="se">\n</span><span class="s">"</span><span class="p">);</span>
                <span class="k">return</span> <span class="nb">false</span><span class="p">;</span>
            <span class="p">}</span>
        <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
            <span class="n">printf</span><span class="p">(</span><span class="s">"âŒ Modbus write response failed: %s</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span> <span class="n">HfUartErrToString</span><span class="p">(</span><span class="n">result</span><span class="p">));</span>
            <span class="k">return</span> <span class="nb">false</span><span class="p">;</span>
        <span class="p">}</span>
    <span class="p">}</span>
    
<span class="nl">private:</span>
    <span class="kt">uint16_t</span> <span class="n">calculate_crc16</span><span class="p">(</span><span class="k">const</span> <span class="kt">uint8_t</span><span class="o">*</span> <span class="n">data</span><span class="p">,</span> <span class="kt">size_t</span> <span class="n">length</span><span class="p">)</span> <span class="p">{</span>
        <span class="kt">uint16_t</span> <span class="n">crc</span> <span class="o">=</span> <span class="mh">0xFFFF</span><span class="p">;</span>
        
        <span class="k">for</span> <span class="p">(</span><span class="kt">size_t</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">length</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
            <span class="n">crc</span> <span class="o">^=</span> <span class="n">data</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
            <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">j</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">j</span> <span class="o">&lt;</span> <span class="mi">8</span><span class="p">;</span> <span class="n">j</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
                <span class="k">if</span> <span class="p">(</span><span class="n">crc</span> <span class="o">&amp;</span> <span class="mh">0x0001</span><span class="p">)</span> <span class="p">{</span>
                    <span class="n">crc</span> <span class="o">=</span> <span class="p">(</span><span class="n">crc</span> <span class="o">&gt;&gt;</span> <span class="mi">1</span><span class="p">)</span> <span class="o">^</span> <span class="mh">0xA001</span><span class="p">;</span>
                <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
                    <span class="n">crc</span> <span class="o">=</span> <span class="n">crc</span> <span class="o">&gt;&gt;</span> <span class="mi">1</span><span class="p">;</span>
                <span class="p">}</span>
            <span class="p">}</span>
        <span class="p">}</span>
        
        <span class="k">return</span> <span class="n">crc</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">};</span>
</pre></td></tr></tbody></table></div></code></pre></div></div><hr />
<h2 id="-best-practices">
  
  
    <a href="#-best-practices" class="anchor-heading" aria-labelledby="-best-practices"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> ğŸ§ª <strong>Best Practices</strong>
  
  
</h2>
    
<h3 id="-recommended-patterns">
  
  
    <a href="#-recommended-patterns" class="anchor-heading" aria-labelledby="-recommended-patterns"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> âœ… <strong>Recommended Patterns</strong>
  
  
</h3>
    

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><div class="table-wrapper"><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
</pre></td><td class="rouge-code"><pre><span class="c1">// âœ… Always check initialization</span>
<span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="n">uart</span><span class="p">.</span><span class="n">EnsureInitialized</span><span class="p">())</span> <span class="p">{</span>
    <span class="n">printf</span><span class="p">(</span><span class="s">"âŒ UART initialization failed</span><span class="se">\n</span><span class="s">"</span><span class="p">);</span>
    <span class="k">return</span> <span class="nb">false</span><span class="p">;</span>
<span class="p">}</span>

<span class="c1">// âœ… Use appropriate baud rates</span>
<span class="c1">// Debug: 115200</span>
<span class="c1">// GPS: 9600</span>
<span class="c1">// Bluetooth: 115200</span>
<span class="c1">// Modbus: 9600-115200</span>

<span class="c1">// âœ… Handle timeouts gracefully</span>
<span class="n">hf_uart_err_t</span> <span class="n">result</span> <span class="o">=</span> <span class="n">uart</span><span class="p">.</span><span class="n">Receive</span><span class="p">(</span><span class="n">buffer</span><span class="p">,</span> <span class="n">length</span><span class="p">,</span> <span class="mi">1000</span><span class="p">);</span>
<span class="k">if</span> <span class="p">(</span><span class="n">result</span> <span class="o">==</span> <span class="n">hf_uart_err_t</span><span class="o">::</span><span class="n">UART_ERR_RECEIVE_TIMEOUT</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">printf</span><span class="p">(</span><span class="s">"â° No data received within timeout</span><span class="se">\n</span><span class="s">"</span><span class="p">);</span>
    <span class="k">return</span> <span class="nb">false</span><span class="p">;</span>
<span class="p">}</span>

<span class="c1">// âœ… Check buffer space before operations</span>
<span class="k">if</span> <span class="p">(</span><span class="n">uart</span><span class="p">.</span><span class="n">GetReceiveSpace</span><span class="p">()</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// Data available to receive</span>
<span class="p">}</span>

<span class="k">if</span> <span class="p">(</span><span class="n">uart</span><span class="p">.</span><span class="n">GetTransmitSpace</span><span class="p">()</span> <span class="o">&gt;=</span> <span class="n">length</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// Space available to transmit</span>
<span class="p">}</span>

<span class="c1">// âœ… Use appropriate data formats</span>
<span class="c1">// Most applications: 8N1 (8 data bits, no parity, 1 stop bit)</span>
<span class="c1">// Modbus: 8E1 (8 data bits, even parity, 1 stop bit)</span>

<span class="c1">// âœ… Monitor statistics for system health</span>
<span class="n">hf_uart_statistics_t</span> <span class="n">stats</span><span class="p">;</span>
<span class="k">if</span> <span class="p">(</span><span class="n">uart</span><span class="p">.</span><span class="n">GetStatistics</span><span class="p">(</span><span class="n">stats</span><span class="p">)</span> <span class="o">==</span> <span class="n">hf_uart_err_t</span><span class="o">::</span><span class="n">UART_SUCCESS</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">stats</span><span class="p">.</span><span class="n">frame_errors</span> <span class="o">&gt;</span> <span class="mi">10</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">printf</span><span class="p">(</span><span class="s">"âš ï¸ High frame error rate detected</span><span class="se">\n</span><span class="s">"</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></div></code></pre></div></div>
<h3 id="-common-pitfalls">
  
  
    <a href="#-common-pitfalls" class="anchor-heading" aria-labelledby="-common-pitfalls"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> âŒ <strong>Common Pitfalls</strong>
  
  
</h3>
    

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><div class="table-wrapper"><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
</pre></td><td class="rouge-code"><pre><span class="c1">// âŒ Don't ignore initialization</span>
<span class="n">uart</span><span class="p">.</span><span class="n">Transmit</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">length</span><span class="p">);</span>  <span class="c1">// May fail silently</span>

<span class="c1">// âŒ Don't use mismatched baud rates</span>
<span class="c1">// Both devices must use the same baud rate</span>

<span class="c1">// âŒ Don't ignore buffer overflows</span>
<span class="c1">// Check buffer space before large transfers</span>

<span class="c1">// âŒ Don't use without error checking in critical applications</span>
<span class="c1">// Always check return values in safety-critical systems</span>

<span class="c1">// âŒ Don't forget to handle flow control</span>
<span class="c1">// Some devices require hardware flow control</span>

<span class="c1">// âŒ Don't assume all data formats are supported</span>
<span class="c1">// Check capabilities before using specific formats</span>
</pre></td></tr></tbody></table></div></code></pre></div></div>
<h3 id="-performance-optimization">
  
  
    <a href="#-performance-optimization" class="anchor-heading" aria-labelledby="-performance-optimization"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> ğŸ¯ <strong>Performance Optimization</strong>
  
  
</h3>
    

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><div class="table-wrapper"><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
</pre></td><td class="rouge-code"><pre><span class="c1">// ğŸš€ Use DMA for large transfers</span>
<span class="n">config</span><span class="p">.</span><span class="n">use_dma</span> <span class="o">=</span> <span class="p">(</span><span class="n">transfer_size</span> <span class="o">&gt;</span> <span class="mi">64</span><span class="p">);</span>  <span class="c1">// Use DMA for transfers &gt; 64 bytes</span>

<span class="c1">// ğŸš€ Use appropriate buffer sizes</span>
<span class="c1">// Small buffers: Lower memory usage, more frequent interrupts</span>
<span class="c1">// Large buffers: Higher memory usage, fewer interrupts</span>

<span class="c1">// ğŸš€ Minimize timeout values</span>
<span class="c1">// Short timeouts for fast devices</span>
<span class="c1">// Longer timeouts for slow devices</span>

<span class="c1">// ğŸš€ Use appropriate baud rates</span>
<span class="c1">// Higher baud rate = faster communication but may cause errors</span>

<span class="c1">// ğŸš€ Batch operations when possible</span>
<span class="c1">// Send multiple commands in one transfer</span>

<span class="c1">// ğŸš€ Use flow control when needed</span>
<span class="c1">// Prevents buffer overflows in high-speed communication</span>
</pre></td></tr></tbody></table></div></code></pre></div></div><hr />
<h2 id="-related-documentation">
  
  
    <a href="#-related-documentation" class="anchor-heading" aria-labelledby="-related-documentation"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> ğŸ”— <strong>Related Documentation</strong>
  
  
</h2>
    

<ul>
  <li><a href="/hf-internal-interface-wrap/preview/docs/esp_api/EspUart/">âš™ï¸ <strong>EspUart</strong></a> - ESP32-C6 implementation</li>
  <li><a href="/hf-internal-interface-wrap/preview/docs/api/HardwareTypes/">ğŸ›ï¸ <strong>Hardware Types</strong></a> - Platform-agnostic types</li>
</ul><hr />
<p><strong>ğŸ“¡ BaseUart - Reliable Serial Communication for HardFOC</strong></p>

<p><em>Part of the HardFOC Internal Interface Wrapper Documentation</em></p>

          

          
            
          
        </main>
        

  <hr>
  <footer>
    

    <footer class="site-footer">
  <div class="site-footer-credits">
    <p>Built with â¤ï¸ using <a href="https://just-the-docs.github.io/just-the-docs/">Just the Docs</a></p>
    <p><a href="https://github.com/n3b3x/hf-internal-interface-wrap/blob/main/LICENSE">GPL v3 License</a> â€¢ <a href="https://github.com/n3b3x/hf-internal-interface-wrap">View on GitHub</a></p>
  </div>
</footer>


    
  </footer>


      </div>
    </div>
    
      
<button id="search-button" class="search-button btn-reset" aria-label="Focus on search">
  <svg viewBox="0 0 24 24" class="icon" aria-hidden="true"><use xlink:href="#svg-search"></use></svg>
</button>


<div class="search-overlay"></div>

    
  </div>

  
</body>
</html>

